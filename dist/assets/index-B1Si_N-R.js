(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function a(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(s){if(s.ep)return;s.ep=!0;const l=a(s);fetch(s.href,l)}})();var Ie=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ng(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var a=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};a.prototype=t.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(a,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),a}var Jd={exports:{}},bi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ag=Symbol.for("react.transitional.element"),Eg=Symbol.for("react.fragment");function Id(e,t,a){var n=null;if(a!==void 0&&(n=""+a),t.key!==void 0&&(n=""+t.key),"key"in t){a={};for(var s in t)s!=="key"&&(a[s]=t[s])}else a=t;return t=a.ref,{$$typeof:Ag,type:e,key:n,ref:t!==void 0?t:null,props:a}}bi.Fragment=Eg;bi.jsx=Id;bi.jsxs=Id;Jd.exports=bi;var r=Jd.exports,Fd={exports:{}},D={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Po=Symbol.for("react.transitional.element"),Tg=Symbol.for("react.portal"),Og=Symbol.for("react.fragment"),Cg=Symbol.for("react.strict_mode"),Dg=Symbol.for("react.profiler"),kg=Symbol.for("react.consumer"),Rg=Symbol.for("react.context"),Mg=Symbol.for("react.forward_ref"),Ug=Symbol.for("react.suspense"),zg=Symbol.for("react.memo"),Wd=Symbol.for("react.lazy"),ac=Symbol.iterator;function Bg(e){return e===null||typeof e!="object"?null:(e=ac&&e[ac]||e["@@iterator"],typeof e=="function"?e:null)}var ef={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tf=Object.assign,af={};function kn(e,t,a){this.props=e,this.context=t,this.refs=af,this.updater=a||ef}kn.prototype.isReactComponent={};kn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};kn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function nf(){}nf.prototype=kn.prototype;function Jo(e,t,a){this.props=e,this.context=t,this.refs=af,this.updater=a||ef}var Io=Jo.prototype=new nf;Io.constructor=Jo;tf(Io,kn.prototype);Io.isPureReactComponent=!0;var nc=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},sf=Object.prototype.hasOwnProperty;function Fo(e,t,a,n,s,l){return a=l.ref,{$$typeof:Po,type:e,key:t,ref:a!==void 0?a:null,props:l}}function Lg(e,t){return Fo(e.type,t,void 0,void 0,void 0,e.props)}function Wo(e){return typeof e=="object"&&e!==null&&e.$$typeof===Po}function Hg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(a){return t[a]})}var sc=/\/+/g;function Ki(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Hg(""+e.key):t.toString(36)}function lc(){}function qg(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(lc,lc):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Xa(e,t,a,n,s){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(l){case"bigint":case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Po:case Tg:i=!0;break;case Wd:return i=e._init,Xa(i(e._payload),t,a,n,s)}}if(i)return s=s(e),i=n===""?"."+Ki(e,0):n,nc(s)?(a="",i!=null&&(a=i.replace(sc,"$&/")+"/"),Xa(s,t,a,"",function(c){return c})):s!=null&&(Wo(s)&&(s=Lg(s,a+(s.key==null||e&&e.key===s.key?"":(""+s.key).replace(sc,"$&/")+"/")+i)),t.push(s)),1;i=0;var o=n===""?".":n+":";if(nc(e))for(var u=0;u<e.length;u++)n=e[u],l=o+Ki(n,u),i+=Xa(n,t,a,l,s);else if(u=Bg(e),typeof u=="function")for(e=u.call(e),u=0;!(n=e.next()).done;)n=n.value,l=o+Ki(n,u++),i+=Xa(n,t,a,l,s);else if(l==="object"){if(typeof e.then=="function")return Xa(qg(e),t,a,n,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return i}function ll(e,t,a){if(e==null)return e;var n=[],s=0;return Xa(e,n,"","",function(l){return t.call(a,l,s++)}),n}function $g(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(a){(e._status===0||e._status===-1)&&(e._status=1,e._result=a)},function(a){(e._status===0||e._status===-1)&&(e._status=2,e._result=a)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ic=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Gg(){}D.Children={map:ll,forEach:function(e,t,a){ll(e,function(){t.apply(this,arguments)},a)},count:function(e){var t=0;return ll(e,function(){t++}),t},toArray:function(e){return ll(e,function(t){return t})||[]},only:function(e){if(!Wo(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};D.Component=kn;D.Fragment=Og;D.Profiler=Dg;D.PureComponent=Jo;D.StrictMode=Cg;D.Suspense=Ug;D.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F;D.__COMPILER_RUNTIME={__proto__:null,c:function(e){return F.H.useMemoCache(e)}};D.cache=function(e){return function(){return e.apply(null,arguments)}};D.cloneElement=function(e,t,a){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var n=tf({},e.props),s=e.key,l=void 0;if(t!=null)for(i in t.ref!==void 0&&(l=void 0),t.key!==void 0&&(s=""+t.key),t)!sf.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(n[i]=t[i]);var i=arguments.length-2;if(i===1)n.children=a;else if(1<i){for(var o=Array(i),u=0;u<i;u++)o[u]=arguments[u+2];n.children=o}return Fo(e.type,s,void 0,void 0,l,n)};D.createContext=function(e){return e={$$typeof:Rg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:kg,_context:e},e};D.createElement=function(e,t,a){var n,s={},l=null;if(t!=null)for(n in t.key!==void 0&&(l=""+t.key),t)sf.call(t,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(s[n]=t[n]);var i=arguments.length-2;if(i===1)s.children=a;else if(1<i){for(var o=Array(i),u=0;u<i;u++)o[u]=arguments[u+2];s.children=o}if(e&&e.defaultProps)for(n in i=e.defaultProps,i)s[n]===void 0&&(s[n]=i[n]);return Fo(e,l,void 0,void 0,null,s)};D.createRef=function(){return{current:null}};D.forwardRef=function(e){return{$$typeof:Mg,render:e}};D.isValidElement=Wo;D.lazy=function(e){return{$$typeof:Wd,_payload:{_status:-1,_result:e},_init:$g}};D.memo=function(e,t){return{$$typeof:zg,type:e,compare:t===void 0?null:t}};D.startTransition=function(e){var t=F.T,a={};F.T=a;try{var n=e(),s=F.S;s!==null&&s(a,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(Gg,ic)}catch(l){ic(l)}finally{F.T=t}};D.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()};D.use=function(e){return F.H.use(e)};D.useActionState=function(e,t,a){return F.H.useActionState(e,t,a)};D.useCallback=function(e,t){return F.H.useCallback(e,t)};D.useContext=function(e){return F.H.useContext(e)};D.useDebugValue=function(){};D.useDeferredValue=function(e,t){return F.H.useDeferredValue(e,t)};D.useEffect=function(e,t,a){var n=F.H;if(typeof a=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return n.useEffect(e,t)};D.useId=function(){return F.H.useId()};D.useImperativeHandle=function(e,t,a){return F.H.useImperativeHandle(e,t,a)};D.useInsertionEffect=function(e,t){return F.H.useInsertionEffect(e,t)};D.useLayoutEffect=function(e,t){return F.H.useLayoutEffect(e,t)};D.useMemo=function(e,t){return F.H.useMemo(e,t)};D.useOptimistic=function(e,t){return F.H.useOptimistic(e,t)};D.useReducer=function(e,t,a){return F.H.useReducer(e,t,a)};D.useRef=function(e){return F.H.useRef(e)};D.useState=function(e){return F.H.useState(e)};D.useSyncExternalStore=function(e,t,a){return F.H.useSyncExternalStore(e,t,a)};D.useTransition=function(){return F.H.useTransition()};D.version="19.1.1";Fd.exports=D;var T=Fd.exports;const Ss=Pd(T);var lf={exports:{}},xi={},rf={exports:{}},of={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,U){var R=E.length;E.push(U);e:for(;0<R;){var ne=R-1>>>1,he=E[ne];if(0<s(he,U))E[ne]=U,E[R]=he,R=ne;else break e}}function a(E){return E.length===0?null:E[0]}function n(E){if(E.length===0)return null;var U=E[0],R=E.pop();if(R!==U){E[0]=R;e:for(var ne=0,he=E.length,al=he>>>1;ne<al;){var nl=2*(ne+1)-1,Vi=E[nl],da=nl+1,sl=E[da];if(0>s(Vi,R))da<he&&0>s(sl,Vi)?(E[ne]=sl,E[da]=R,ne=da):(E[ne]=Vi,E[nl]=R,ne=nl);else if(da<he&&0>s(sl,R))E[ne]=sl,E[da]=R,ne=da;else break e}}return U}function s(E,U){var R=E.sortIndex-U.sortIndex;return R!==0?R:E.id-U.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var u=[],c=[],d=1,h=null,f=3,m=!1,b=!1,_=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;function v(E){for(var U=a(c);U!==null;){if(U.callback===null)n(c);else if(U.startTime<=E)n(c),U.sortIndex=U.expirationTime,t(u,U);else break;U=a(c)}}function j(E){if(_=!1,v(E),!b)if(a(u)!==null)b=!0,N||(N=!0,Mt());else{var U=a(c);U!==null&&Yi(j,U.startTime-E)}}var N=!1,w=-1,A=5,J=-1;function M(){return x?!0:!(e.unstable_now()-J<A)}function Ye(){if(x=!1,N){var E=e.unstable_now();J=E;var U=!0;try{e:{b=!1,_&&(_=!1,g(w),w=-1),m=!0;var R=f;try{t:{for(v(E),h=a(u);h!==null&&!(h.expirationTime>E&&M());){var ne=h.callback;if(typeof ne=="function"){h.callback=null,f=h.priorityLevel;var he=ne(h.expirationTime<=E);if(E=e.unstable_now(),typeof he=="function"){h.callback=he,v(E),U=!0;break t}h===a(u)&&n(u),v(E)}else n(u);h=a(u)}if(h!==null)U=!0;else{var al=a(c);al!==null&&Yi(j,al.startTime-E),U=!1}}break e}finally{h=null,f=R,m=!1}U=void 0}}finally{U?Mt():N=!1}}}var Mt;if(typeof p=="function")Mt=function(){p(Ye)};else if(typeof MessageChannel<"u"){var tc=new MessageChannel,jg=tc.port2;tc.port1.onmessage=Ye,Mt=function(){jg.postMessage(null)}}else Mt=function(){y(Ye,0)};function Yi(E,U){w=y(function(){E(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_next=function(E){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var R=f;f=U;try{return E()}finally{f=R}},e.unstable_requestPaint=function(){x=!0},e.unstable_runWithPriority=function(E,U){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var R=f;f=E;try{return U()}finally{f=R}},e.unstable_scheduleCallback=function(E,U,R){var ne=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?ne+R:ne):R=ne,E){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=R+he,E={id:d++,callback:U,priorityLevel:E,startTime:R,expirationTime:he,sortIndex:-1},R>ne?(E.sortIndex=R,t(c,E),a(u)===null&&E===a(c)&&(_?(g(w),w=-1):_=!0,Yi(j,R-ne))):(E.sortIndex=he,t(u,E),b||m||(b=!0,N||(N=!0,Mt()))),E},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(E){var U=f;return function(){var R=f;f=U;try{return E.apply(this,arguments)}finally{f=R}}}})(of);rf.exports=of;var Yg=rf.exports,uf={exports:{}},Ee={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vg=T;function cf(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ut(){}var Ae={d:{f:Ut,r:function(){throw Error(cf(522))},D:Ut,C:Ut,L:Ut,m:Ut,X:Ut,S:Ut,M:Ut},p:0,findDOMNode:null},Kg=Symbol.for("react.portal");function Qg(e,t,a){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Kg,key:n==null?null:""+n,children:e,containerInfo:t,implementation:a}}var ss=Vg.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _i(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Ee.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ae;Ee.createPortal=function(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(cf(299));return Qg(e,t,null,a)};Ee.flushSync=function(e){var t=ss.T,a=Ae.p;try{if(ss.T=null,Ae.p=2,e)return e()}finally{ss.T=t,Ae.p=a,Ae.d.f()}};Ee.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Ae.d.C(e,t))};Ee.prefetchDNS=function(e){typeof e=="string"&&Ae.d.D(e)};Ee.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var a=t.as,n=_i(a,t.crossOrigin),s=typeof t.integrity=="string"?t.integrity:void 0,l=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;a==="style"?Ae.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:n,integrity:s,fetchPriority:l}):a==="script"&&Ae.d.X(e,{crossOrigin:n,integrity:s,fetchPriority:l,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Ee.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var a=_i(t.as,t.crossOrigin);Ae.d.M(e,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Ae.d.M(e)};Ee.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var a=t.as,n=_i(a,t.crossOrigin);Ae.d.L(e,a,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Ee.preloadModule=function(e,t){if(typeof e=="string")if(t){var a=_i(t.as,t.crossOrigin);Ae.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Ae.d.m(e)};Ee.requestFormReset=function(e){Ae.d.r(e)};Ee.unstable_batchedUpdates=function(e,t){return e(t)};Ee.useFormState=function(e,t,a){return ss.H.useFormState(e,t,a)};Ee.useFormStatus=function(){return ss.H.useHostTransitionStatus()};Ee.version="19.1.1";function df(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(df)}catch(e){console.error(e)}}df(),uf.exports=Ee;var Xg=uf.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fe=Yg,ff=T,Zg=Xg;function S(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function hf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ls(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function mf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function rc(e){if(Ls(e)!==e)throw Error(S(188))}function Pg(e){var t=e.alternate;if(!t){if(t=Ls(e),t===null)throw Error(S(188));return t!==e?null:e}for(var a=e,n=t;;){var s=a.return;if(s===null)break;var l=s.alternate;if(l===null){if(n=s.return,n!==null){a=n;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===a)return rc(s),e;if(l===n)return rc(s),t;l=l.sibling}throw Error(S(188))}if(a.return!==n.return)a=s,n=l;else{for(var i=!1,o=s.child;o;){if(o===a){i=!0,a=s,n=l;break}if(o===n){i=!0,n=s,a=l;break}o=o.sibling}if(!i){for(o=l.child;o;){if(o===a){i=!0,a=l,n=s;break}if(o===n){i=!0,n=l,a=s;break}o=o.sibling}if(!i)throw Error(S(189))}}if(a.alternate!==n)throw Error(S(190))}if(a.tag!==3)throw Error(S(188));return a.stateNode.current===a?e:t}function gf(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=gf(e),t!==null)return t;e=e.sibling}return null}var P=Object.assign,Jg=Symbol.for("react.element"),il=Symbol.for("react.transitional.element"),Fn=Symbol.for("react.portal"),Wa=Symbol.for("react.fragment"),yf=Symbol.for("react.strict_mode"),$r=Symbol.for("react.profiler"),Ig=Symbol.for("react.provider"),pf=Symbol.for("react.consumer"),_t=Symbol.for("react.context"),eu=Symbol.for("react.forward_ref"),Gr=Symbol.for("react.suspense"),Yr=Symbol.for("react.suspense_list"),tu=Symbol.for("react.memo"),qt=Symbol.for("react.lazy"),Vr=Symbol.for("react.activity"),Fg=Symbol.for("react.memo_cache_sentinel"),oc=Symbol.iterator;function Gn(e){return e===null||typeof e!="object"?null:(e=oc&&e[oc]||e["@@iterator"],typeof e=="function"?e:null)}var Wg=Symbol.for("react.client.reference");function Kr(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Wg?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Wa:return"Fragment";case $r:return"Profiler";case yf:return"StrictMode";case Gr:return"Suspense";case Yr:return"SuspenseList";case Vr:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Fn:return"Portal";case _t:return(e.displayName||"Context")+".Provider";case pf:return(e._context.displayName||"Context")+".Consumer";case eu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case tu:return t=e.displayName||null,t!==null?t:Kr(e.type)||"Memo";case qt:t=e._payload,e=e._init;try{return Kr(e(t))}catch{}}return null}var Wn=Array.isArray,O=ff.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=Zg.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_a={pending:!1,data:null,method:null,action:null},Qr=[],en=-1;function ft(e){return{current:e}}function pe(e){0>en||(e.current=Qr[en],Qr[en]=null,en--)}function W(e,t){en++,Qr[en]=e.current,e.current=t}var ut=ft(null),ws=ft(null),It=ft(null),$l=ft(null);function Gl(e,t){switch(W(It,t),W(ws,e),W(ut,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?hd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=hd(t),e=Mm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}pe(ut),W(ut,e)}function xn(){pe(ut),pe(ws),pe(It)}function Xr(e){e.memoizedState!==null&&W($l,e);var t=ut.current,a=Mm(t,e.type);t!==a&&(W(ws,e),W(ut,a))}function Yl(e){ws.current===e&&(pe(ut),pe(ws)),$l.current===e&&(pe($l),Rs._currentValue=_a)}var Zr=Object.prototype.hasOwnProperty,au=fe.unstable_scheduleCallback,Qi=fe.unstable_cancelCallback,e0=fe.unstable_shouldYield,t0=fe.unstable_requestPaint,ct=fe.unstable_now,a0=fe.unstable_getCurrentPriorityLevel,vf=fe.unstable_ImmediatePriority,bf=fe.unstable_UserBlockingPriority,Vl=fe.unstable_NormalPriority,n0=fe.unstable_LowPriority,xf=fe.unstable_IdlePriority,s0=fe.log,l0=fe.unstable_setDisableYieldValue,Hs=null,Le=null;function Xt(e){if(typeof s0=="function"&&l0(e),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode(Hs,e)}catch{}}var He=Math.clz32?Math.clz32:o0,i0=Math.log,r0=Math.LN2;function o0(e){return e>>>=0,e===0?32:31-(i0(e)/r0|0)|0}var rl=256,ol=4194304;function ga(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Si(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var s=0,l=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var o=n&134217727;return o!==0?(n=o&~l,n!==0?s=ga(n):(i&=o,i!==0?s=ga(i):a||(a=o&~e,a!==0&&(s=ga(a))))):(o=n&~l,o!==0?s=ga(o):i!==0?s=ga(i):a||(a=n&~e,a!==0&&(s=ga(a)))),s===0?0:t!==0&&t!==s&&!(t&l)&&(l=s&-s,a=t&-t,l>=a||l===32&&(a&4194048)!==0)?t:s}function qs(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function u0(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _f(){var e=rl;return rl<<=1,!(rl&4194048)&&(rl=256),e}function Sf(){var e=ol;return ol<<=1,!(ol&62914560)&&(ol=4194304),e}function Xi(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function $s(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function c0(e,t,a,n,s,l){var i=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var o=e.entanglements,u=e.expirationTimes,c=e.hiddenUpdates;for(a=i&~a;0<a;){var d=31-He(a),h=1<<d;o[d]=0,u[d]=-1;var f=c[d];if(f!==null)for(c[d]=null,d=0;d<f.length;d++){var m=f[d];m!==null&&(m.lane&=-536870913)}a&=~h}n!==0&&wf(e,n,0),l!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=l&~(i&~t))}function wf(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-He(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&4194090}function jf(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-He(a),s=1<<n;s&t|e[n]&t&&(e[n]|=t),a&=~s}}function nu(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function su(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Nf(){var e=$.p;return e!==0?e:(e=window.event,e===void 0?32:Vm(e.type))}function d0(e,t){var a=$.p;try{return $.p=e,t()}finally{$.p=a}}var oa=Math.random().toString(36).slice(2),_e="__reactFiber$"+oa,ke="__reactProps$"+oa,Rn="__reactContainer$"+oa,Pr="__reactEvents$"+oa,f0="__reactListeners$"+oa,h0="__reactHandles$"+oa,uc="__reactResources$"+oa,Gs="__reactMarker$"+oa;function lu(e){delete e[_e],delete e[ke],delete e[Pr],delete e[f0],delete e[h0]}function tn(e){var t=e[_e];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Rn]||a[_e]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=yd(e);e!==null;){if(a=e[_e])return a;e=yd(e)}return t}e=a,a=e.parentNode}return null}function Mn(e){if(e=e[_e]||e[Rn]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function es(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(S(33))}function fn(e){var t=e[uc];return t||(t=e[uc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ge(e){e[Gs]=!0}var Af=new Set,Ef={};function Ma(e,t){_n(e,t),_n(e+"Capture",t)}function _n(e,t){for(Ef[e]=t,e=0;e<t.length;e++)Af.add(t[e])}var m0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cc={},dc={};function g0(e){return Zr.call(dc,e)?!0:Zr.call(cc,e)?!1:m0.test(e)?dc[e]=!0:(cc[e]=!0,!1)}function Tl(e,t,a){if(g0(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function ul(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function mt(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}var Zi,fc;function Za(e){if(Zi===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Zi=t&&t[1]||"",fc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zi+e+fc}var Pi=!1;function Ji(e,t){if(!e||Pi)return"";Pi=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var h=function(){throw Error()};if(Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(m){var f=m}Reflect.construct(e,[],h)}else{try{h.call()}catch(m){f=m}e.call(h.prototype)}}else{try{throw Error()}catch(m){f=m}(h=e())&&typeof h.catch=="function"&&h.catch(function(){})}}catch(m){if(m&&f&&typeof m.stack=="string")return[m.stack,f.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var l=n.DetermineComponentFrameRoot(),i=l[0],o=l[1];if(i&&o){var u=i.split(`
`),c=o.split(`
`);for(s=n=0;n<u.length&&!u[n].includes("DetermineComponentFrameRoot");)n++;for(;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;if(n===u.length||s===c.length)for(n=u.length-1,s=c.length-1;1<=n&&0<=s&&u[n]!==c[s];)s--;for(;1<=n&&0<=s;n--,s--)if(u[n]!==c[s]){if(n!==1||s!==1)do if(n--,s--,0>s||u[n]!==c[s]){var d=`
`+u[n].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=n&&0<=s);break}}}finally{Pi=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Za(a):""}function y0(e){switch(e.tag){case 26:case 27:case 5:return Za(e.type);case 16:return Za("Lazy");case 13:return Za("Suspense");case 19:return Za("SuspenseList");case 0:case 15:return Ji(e.type,!1);case 11:return Ji(e.type.render,!1);case 1:return Ji(e.type,!0);case 31:return Za("Activity");default:return""}}function hc(e){try{var t="";do t+=y0(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Ke(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Tf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function p0(e){var t=Tf(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var s=a.get,l=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,l.call(this,i)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Kl(e){e._valueTracker||(e._valueTracker=p0(e))}function Of(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=Tf(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function Ql(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var v0=/[\n"\\]/g;function Ze(e){return e.replace(v0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Jr(e,t,a,n,s,l,i,o){e.name="",i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"?e.type=i:e.removeAttribute("type"),t!=null?i==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ke(t)):e.value!==""+Ke(t)&&(e.value=""+Ke(t)):i!=="submit"&&i!=="reset"||e.removeAttribute("value"),t!=null?Ir(e,i,Ke(t)):a!=null?Ir(e,i,Ke(a)):n!=null&&e.removeAttribute("value"),s==null&&l!=null&&(e.defaultChecked=!!l),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+Ke(o):e.removeAttribute("name")}function Cf(e,t,a,n,s,l,i,o){if(l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"&&(e.type=l),t!=null||a!=null){if(!(l!=="submit"&&l!=="reset"||t!=null))return;a=a!=null?""+Ke(a):"",t=t!=null?""+Ke(t):a,o||t===e.value||(e.value=t),e.defaultValue=t}n=n??s,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=o?e.checked:!!n,e.defaultChecked=!!n,i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.name=i)}function Ir(e,t,a){t==="number"&&Ql(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function hn(e,t,a,n){if(e=e.options,t){t={};for(var s=0;s<a.length;s++)t["$"+a[s]]=!0;for(a=0;a<e.length;a++)s=t.hasOwnProperty("$"+e[a].value),e[a].selected!==s&&(e[a].selected=s),s&&n&&(e[a].defaultSelected=!0)}else{for(a=""+Ke(a),t=null,s=0;s<e.length;s++){if(e[s].value===a){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Df(e,t,a){if(t!=null&&(t=""+Ke(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Ke(a):""}function kf(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(S(92));if(Wn(n)){if(1<n.length)throw Error(S(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=Ke(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n)}function Sn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var b0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mc(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||b0.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Rf(e,t,a){if(t!=null&&typeof t!="object")throw Error(S(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var s in t)n=t[s],t.hasOwnProperty(s)&&a[s]!==n&&mc(e,s,n)}else for(var l in t)t.hasOwnProperty(l)&&mc(e,l,t[l])}function iu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var x0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ol(e){return _0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Fr=null;function ru(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var an=null,mn=null;function gc(e){var t=Mn(e);if(t&&(e=t.stateNode)){var a=e[ke]||null;e:switch(e=t.stateNode,t.type){case"input":if(Jr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ze(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var s=n[ke]||null;if(!s)throw Error(S(90));Jr(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&Of(n)}break e;case"textarea":Df(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&hn(e,!!a.multiple,t,!1)}}}var Ii=!1;function Mf(e,t,a){if(Ii)return e(t,a);Ii=!0;try{var n=e(t);return n}finally{if(Ii=!1,(an!==null||mn!==null)&&(ki(),an&&(t=an,e=mn,mn=an=null,gc(t),e)))for(t=0;t<e.length;t++)gc(e[t])}}function js(e,t){var a=e.stateNode;if(a===null)return null;var n=a[ke]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(S(231,t,typeof a));return a}var Ot=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wr=!1;if(Ot)try{var Yn={};Object.defineProperty(Yn,"passive",{get:function(){Wr=!0}}),window.addEventListener("test",Yn,Yn),window.removeEventListener("test",Yn,Yn)}catch{Wr=!1}var Zt=null,ou=null,Cl=null;function Uf(){if(Cl)return Cl;var e,t=ou,a=t.length,n,s="value"in Zt?Zt.value:Zt.textContent,l=s.length;for(e=0;e<a&&t[e]===s[e];e++);var i=a-e;for(n=1;n<=i&&t[a-n]===s[l-n];n++);return Cl=s.slice(e,1<n?1-n:void 0)}function Dl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function cl(){return!0}function yc(){return!1}function Re(e){function t(a,n,s,l,i){this._reactName=a,this._targetInst=s,this.type=n,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(a=e[o],this[o]=a?a(l):l[o]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?cl:yc,this.isPropagationStopped=yc,this}return P(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=cl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=cl)},persist:function(){},isPersistent:cl}),t}var Ua={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wi=Re(Ua),Ys=P({},Ua,{view:0,detail:0}),S0=Re(Ys),Fi,Wi,Vn,ji=P({},Ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vn&&(Vn&&e.type==="mousemove"?(Fi=e.screenX-Vn.screenX,Wi=e.screenY-Vn.screenY):Wi=Fi=0,Vn=e),Fi)},movementY:function(e){return"movementY"in e?e.movementY:Wi}}),pc=Re(ji),w0=P({},ji,{dataTransfer:0}),j0=Re(w0),N0=P({},Ys,{relatedTarget:0}),er=Re(N0),A0=P({},Ua,{animationName:0,elapsedTime:0,pseudoElement:0}),E0=Re(A0),T0=P({},Ua,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),O0=Re(T0),C0=P({},Ua,{data:0}),vc=Re(C0),D0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},k0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},R0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function M0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=R0[e])?!!t[e]:!1}function uu(){return M0}var U0=P({},Ys,{key:function(e){if(e.key){var t=D0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Dl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?k0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uu,charCode:function(e){return e.type==="keypress"?Dl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Dl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),z0=Re(U0),B0=P({},ji,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bc=Re(B0),L0=P({},Ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uu}),H0=Re(L0),q0=P({},Ua,{propertyName:0,elapsedTime:0,pseudoElement:0}),$0=Re(q0),G0=P({},ji,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Y0=Re(G0),V0=P({},Ua,{newState:0,oldState:0}),K0=Re(V0),Q0=[9,13,27,32],cu=Ot&&"CompositionEvent"in window,ls=null;Ot&&"documentMode"in document&&(ls=document.documentMode);var X0=Ot&&"TextEvent"in window&&!ls,zf=Ot&&(!cu||ls&&8<ls&&11>=ls),xc=" ",_c=!1;function Bf(e,t){switch(e){case"keyup":return Q0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var nn=!1;function Z0(e,t){switch(e){case"compositionend":return Lf(t);case"keypress":return t.which!==32?null:(_c=!0,xc);case"textInput":return e=t.data,e===xc&&_c?null:e;default:return null}}function P0(e,t){if(nn)return e==="compositionend"||!cu&&Bf(e,t)?(e=Uf(),Cl=ou=Zt=null,nn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zf&&t.locale!=="ko"?null:t.data;default:return null}}var J0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!J0[e.type]:t==="textarea"}function Hf(e,t,a,n){an?mn?mn.push(n):mn=[n]:an=n,t=ci(t,"onChange"),0<t.length&&(a=new wi("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var is=null,Ns=null;function I0(e){Dm(e,0)}function Ni(e){var t=es(e);if(Of(t))return e}function wc(e,t){if(e==="change")return t}var qf=!1;if(Ot){var tr;if(Ot){var ar="oninput"in document;if(!ar){var jc=document.createElement("div");jc.setAttribute("oninput","return;"),ar=typeof jc.oninput=="function"}tr=ar}else tr=!1;qf=tr&&(!document.documentMode||9<document.documentMode)}function Nc(){is&&(is.detachEvent("onpropertychange",$f),Ns=is=null)}function $f(e){if(e.propertyName==="value"&&Ni(Ns)){var t=[];Hf(t,Ns,e,ru(e)),Mf(I0,t)}}function F0(e,t,a){e==="focusin"?(Nc(),is=t,Ns=a,is.attachEvent("onpropertychange",$f)):e==="focusout"&&Nc()}function W0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ni(Ns)}function ey(e,t){if(e==="click")return Ni(t)}function ty(e,t){if(e==="input"||e==="change")return Ni(t)}function ay(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ge=typeof Object.is=="function"?Object.is:ay;function As(e,t){if(Ge(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var s=a[n];if(!Zr.call(t,s)||!Ge(e[s],t[s]))return!1}return!0}function Ac(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ec(e,t){var a=Ac(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ac(a)}}function Gf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Gf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Yf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ql(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Ql(e.document)}return t}function du(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var ny=Ot&&"documentMode"in document&&11>=document.documentMode,sn=null,eo=null,rs=null,to=!1;function Tc(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;to||sn==null||sn!==Ql(n)||(n=sn,"selectionStart"in n&&du(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),rs&&As(rs,n)||(rs=n,n=ci(eo,"onSelect"),0<n.length&&(t=new wi("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=sn)))}function fa(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var ln={animationend:fa("Animation","AnimationEnd"),animationiteration:fa("Animation","AnimationIteration"),animationstart:fa("Animation","AnimationStart"),transitionrun:fa("Transition","TransitionRun"),transitionstart:fa("Transition","TransitionStart"),transitioncancel:fa("Transition","TransitionCancel"),transitionend:fa("Transition","TransitionEnd")},nr={},Vf={};Ot&&(Vf=document.createElement("div").style,"AnimationEvent"in window||(delete ln.animationend.animation,delete ln.animationiteration.animation,delete ln.animationstart.animation),"TransitionEvent"in window||delete ln.transitionend.transition);function za(e){if(nr[e])return nr[e];if(!ln[e])return e;var t=ln[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Vf)return nr[e]=t[a];return e}var Kf=za("animationend"),Qf=za("animationiteration"),Xf=za("animationstart"),sy=za("transitionrun"),ly=za("transitionstart"),iy=za("transitioncancel"),Zf=za("transitionend"),Pf=new Map,ao="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ao.push("scrollEnd");function st(e,t){Pf.set(e,t),Ma(t,[e])}var Oc=new WeakMap;function Pe(e,t){if(typeof e=="object"&&e!==null){var a=Oc.get(e);return a!==void 0?a:(t={value:e,source:t,stack:hc(t)},Oc.set(e,t),t)}return{value:e,source:t,stack:hc(t)}}var Ve=[],rn=0,fu=0;function Ai(){for(var e=rn,t=fu=rn=0;t<e;){var a=Ve[t];Ve[t++]=null;var n=Ve[t];Ve[t++]=null;var s=Ve[t];Ve[t++]=null;var l=Ve[t];if(Ve[t++]=null,n!==null&&s!==null){var i=n.pending;i===null?s.next=s:(s.next=i.next,i.next=s),n.pending=s}l!==0&&Jf(a,s,l)}}function Ei(e,t,a,n){Ve[rn++]=e,Ve[rn++]=t,Ve[rn++]=a,Ve[rn++]=n,fu|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function hu(e,t,a,n){return Ei(e,t,a,n),Xl(e)}function Un(e,t){return Ei(e,null,null,t),Xl(e)}function Jf(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var s=!1,l=e.return;l!==null;)l.childLanes|=a,n=l.alternate,n!==null&&(n.childLanes|=a),l.tag===22&&(e=l.stateNode,e===null||e._visibility&1||(s=!0)),e=l,l=l.return;return e.tag===3?(l=e.stateNode,s&&t!==null&&(s=31-He(a),e=l.hiddenUpdates,n=e[s],n===null?e[s]=[t]:n.push(t),t.lane=a|536870912),l):null}function Xl(e){if(50<ps)throw ps=0,jo=null,Error(S(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var on={};function ry(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Be(e,t,a,n){return new ry(e,t,a,n)}function mu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function At(e,t){var a=e.alternate;return a===null?(a=Be(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function If(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function kl(e,t,a,n,s,l){var i=0;if(n=e,typeof e=="function")mu(e)&&(i=1);else if(typeof e=="string")i=up(e,a,ut.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Vr:return e=Be(31,a,t,s),e.elementType=Vr,e.lanes=l,e;case Wa:return Sa(a.children,s,l,t);case yf:i=8,s|=24;break;case $r:return e=Be(12,a,t,s|2),e.elementType=$r,e.lanes=l,e;case Gr:return e=Be(13,a,t,s),e.elementType=Gr,e.lanes=l,e;case Yr:return e=Be(19,a,t,s),e.elementType=Yr,e.lanes=l,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ig:case _t:i=10;break e;case pf:i=9;break e;case eu:i=11;break e;case tu:i=14;break e;case qt:i=16,n=null;break e}i=29,a=Error(S(130,e===null?"null":typeof e,"")),n=null}return t=Be(i,a,t,s),t.elementType=e,t.type=n,t.lanes=l,t}function Sa(e,t,a,n){return e=Be(7,e,n,t),e.lanes=a,e}function sr(e,t,a){return e=Be(6,e,null,t),e.lanes=a,e}function lr(e,t,a){return t=Be(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var un=[],cn=0,Zl=null,Pl=0,Qe=[],Xe=0,wa=null,St=1,wt="";function ya(e,t){un[cn++]=Pl,un[cn++]=Zl,Zl=e,Pl=t}function Ff(e,t,a){Qe[Xe++]=St,Qe[Xe++]=wt,Qe[Xe++]=wa,wa=e;var n=St;e=wt;var s=32-He(n)-1;n&=~(1<<s),a+=1;var l=32-He(t)+s;if(30<l){var i=s-s%5;l=(n&(1<<i)-1).toString(32),n>>=i,s-=i,St=1<<32-He(t)+s|a<<s|n,wt=l+e}else St=1<<l|a<<s|n,wt=e}function gu(e){e.return!==null&&(ya(e,1),Ff(e,1,0))}function yu(e){for(;e===Zl;)Zl=un[--cn],un[cn]=null,Pl=un[--cn],un[cn]=null;for(;e===wa;)wa=Qe[--Xe],Qe[Xe]=null,wt=Qe[--Xe],Qe[Xe]=null,St=Qe[--Xe],Qe[Xe]=null}var Ne=null,te=null,q=!1,ja=null,rt=!1,no=Error(S(519));function Ca(e){var t=Error(S(418,""));throw Es(Pe(t,e)),no}function Cc(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[_e]=e,t[ke]=n,a){case"dialog":B("cancel",t),B("close",t);break;case"iframe":case"object":case"embed":B("load",t);break;case"video":case"audio":for(a=0;a<Cs.length;a++)B(Cs[a],t);break;case"source":B("error",t);break;case"img":case"image":case"link":B("error",t),B("load",t);break;case"details":B("toggle",t);break;case"input":B("invalid",t),Cf(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),Kl(t);break;case"select":B("invalid",t);break;case"textarea":B("invalid",t),kf(t,n.value,n.defaultValue,n.children),Kl(t)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||Rm(t.textContent,a)?(n.popover!=null&&(B("beforetoggle",t),B("toggle",t)),n.onScroll!=null&&B("scroll",t),n.onScrollEnd!=null&&B("scrollend",t),n.onClick!=null&&(t.onclick=Ui),t=!0):t=!1,t||Ca(e)}function Dc(e){for(Ne=e.return;Ne;)switch(Ne.tag){case 5:case 13:rt=!1;return;case 27:case 3:rt=!0;return;default:Ne=Ne.return}}function Kn(e){if(e!==Ne)return!1;if(!q)return Dc(e),q=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Co(e.type,e.memoizedProps)),a=!a),a&&te&&Ca(e),Dc(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(S(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){te=nt(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}te=null}}else t===27?(t=te,ua(e.type)?(e=Ro,Ro=null,te=e):te=t):te=Ne?nt(e.stateNode.nextSibling):null;return!0}function Vs(){te=Ne=null,q=!1}function kc(){var e=ja;return e!==null&&(Ce===null?Ce=e:Ce.push.apply(Ce,e),ja=null),e}function Es(e){ja===null?ja=[e]:ja.push(e)}var so=ft(null),Ba=null,jt=null;function Gt(e,t,a){W(so,t._currentValue),t._currentValue=a}function Et(e){e._currentValue=so.current,pe(so)}function lo(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function io(e,t,a,n){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){var i=s.child;l=l.firstContext;e:for(;l!==null;){var o=l;l=s;for(var u=0;u<t.length;u++)if(o.context===t[u]){l.lanes|=a,o=l.alternate,o!==null&&(o.lanes|=a),lo(l.return,a,e),n||(i=null);break e}l=o.next}}else if(s.tag===18){if(i=s.return,i===null)throw Error(S(341));i.lanes|=a,l=i.alternate,l!==null&&(l.lanes|=a),lo(i,a,e),i=null}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===e){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}}function Ks(e,t,a,n){e=null;for(var s=t,l=!1;s!==null;){if(!l){if(s.flags&524288)l=!0;else if(s.flags&262144)break}if(s.tag===10){var i=s.alternate;if(i===null)throw Error(S(387));if(i=i.memoizedProps,i!==null){var o=s.type;Ge(s.pendingProps.value,i.value)||(e!==null?e.push(o):e=[o])}}else if(s===$l.current){if(i=s.alternate,i===null)throw Error(S(387));i.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(Rs):e=[Rs])}s=s.return}e!==null&&io(t,e,a,n),t.flags|=262144}function Jl(e){for(e=e.firstContext;e!==null;){if(!Ge(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Da(e){Ba=e,jt=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Se(e){return Wf(Ba,e)}function dl(e,t){return Ba===null&&Da(e),Wf(e,t)}function Wf(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},jt===null){if(e===null)throw Error(S(308));jt=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else jt=jt.next=t;return a}var oy=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},uy=fe.unstable_scheduleCallback,cy=fe.unstable_NormalPriority,ce={$$typeof:_t,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pu(){return{controller:new oy,data:new Map,refCount:0}}function Qs(e){e.refCount--,e.refCount===0&&uy(cy,function(){e.controller.abort()})}var os=null,ro=0,wn=0,gn=null;function dy(e,t){if(os===null){var a=os=[];ro=0,wn=qu(),gn={status:"pending",value:void 0,then:function(n){a.push(n)}}}return ro++,t.then(Rc,Rc),t}function Rc(){if(--ro===0&&os!==null){gn!==null&&(gn.status="fulfilled");var e=os;os=null,wn=0,gn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function fy(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(s){a.push(s)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var s=0;s<a.length;s++)(0,a[s])(t)},function(s){for(n.status="rejected",n.reason=s,s=0;s<a.length;s++)(0,a[s])(void 0)}),n}var Mc=O.S;O.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&dy(e,t),Mc!==null&&Mc(e,t)};var Na=ft(null);function vu(){var e=Na.current;return e!==null?e:Z.pooledCache}function Rl(e,t){t===null?W(Na,Na.current):W(Na,t.pool)}function eh(){var e=vu();return e===null?null:{parent:ce._currentValue,pool:e}}var Xs=Error(S(460)),th=Error(S(474)),Ti=Error(S(542)),oo={then:function(){}};function Uc(e){return e=e.status,e==="fulfilled"||e==="rejected"}function fl(){}function ah(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(fl,fl),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Bc(e),e;default:if(typeof t.status=="string")t.then(fl,fl);else{if(e=Z,e!==null&&100<e.shellSuspendCounter)throw Error(S(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=n}},function(n){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Bc(e),e}throw us=t,Xs}}var us=null;function zc(){if(us===null)throw Error(S(459));var e=us;return us=null,e}function Bc(e){if(e===Xs||e===Ti)throw Error(S(483))}var $t=!1;function bu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ft(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Wt(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Y&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,t=Xl(e),Jf(e,null,a),t}return Ei(e,n,t,a),Xl(e)}function cs(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,jf(e,a)}}function ir(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var s=null,l=null;if(a=a.firstBaseUpdate,a!==null){do{var i={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};l===null?s=l=i:l=l.next=i,a=a.next}while(a!==null);l===null?s=l=t:l=l.next=t}else s=l=t;a={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:l,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var co=!1;function ds(){if(co){var e=gn;if(e!==null)throw e}}function fs(e,t,a,n){co=!1;var s=e.updateQueue;$t=!1;var l=s.firstBaseUpdate,i=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var u=o,c=u.next;u.next=null,i===null?l=c:i.next=c,i=u;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==i&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=u))}if(l!==null){var h=s.baseState;i=0,d=c=u=null,o=l;do{var f=o.lane&-536870913,m=f!==o.lane;if(m?(H&f)===f:(n&f)===f){f!==0&&f===wn&&(co=!0),d!==null&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var b=e,_=o;f=t;var x=a;switch(_.tag){case 1:if(b=_.payload,typeof b=="function"){h=b.call(x,h,f);break e}h=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=_.payload,f=typeof b=="function"?b.call(x,h,f):b,f==null)break e;h=P({},h,f);break e;case 2:$t=!0}}f=o.callback,f!==null&&(e.flags|=64,m&&(e.flags|=8192),m=s.callbacks,m===null?s.callbacks=[f]:m.push(f))}else m={lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=m,u=h):d=d.next=m,i|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;m=o,o=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);d===null&&(u=h),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,l===null&&(s.shared.lanes=0),ra|=i,e.lanes=i,e.memoizedState=h}}function nh(e,t){if(typeof e!="function")throw Error(S(191,e));e.call(t)}function sh(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)nh(a[e],t)}var jn=ft(null),Il=ft(0);function Lc(e,t){e=kt,W(Il,e),W(jn,t),kt=e|t.baseLanes}function fo(){W(Il,kt),W(jn,jn.current)}function xu(){kt=Il.current,pe(jn),pe(Il)}var la=0,k=null,K=null,ie=null,Fl=!1,yn=!1,ka=!1,Wl=0,Ts=0,pn=null,hy=0;function se(){throw Error(S(321))}function _u(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Ge(e[a],t[a]))return!1;return!0}function Su(e,t,a,n,s,l){return la=l,k=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=e===null||e.memoizedState===null?Uh:zh,ka=!1,l=a(n,s),ka=!1,yn&&(l=ih(t,a,n,s)),lh(e),l}function lh(e){O.H=ei;var t=K!==null&&K.next!==null;if(la=0,ie=K=k=null,Fl=!1,Ts=0,pn=null,t)throw Error(S(300));e===null||ye||(e=e.dependencies,e!==null&&Jl(e)&&(ye=!0))}function ih(e,t,a,n){k=e;var s=0;do{if(yn&&(pn=null),Ts=0,yn=!1,25<=s)throw Error(S(301));if(s+=1,ie=K=null,e.updateQueue!=null){var l=e.updateQueue;l.lastEffect=null,l.events=null,l.stores=null,l.memoCache!=null&&(l.memoCache.index=0)}O.H=xy,l=t(a,n)}while(yn);return l}function my(){var e=O.H,t=e.useState()[0];return t=typeof t.then=="function"?Zs(t):t,e=e.useState()[0],(K!==null?K.memoizedState:null)!==e&&(k.flags|=1024),t}function wu(){var e=Wl!==0;return Wl=0,e}function ju(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Nu(e){if(Fl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Fl=!1}la=0,ie=K=k=null,yn=!1,Ts=Wl=0,pn=null}function Te(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ie===null?k.memoizedState=ie=e:ie=ie.next=e,ie}function re(){if(K===null){var e=k.alternate;e=e!==null?e.memoizedState:null}else e=K.next;var t=ie===null?k.memoizedState:ie.next;if(t!==null)ie=t,K=e;else{if(e===null)throw k.alternate===null?Error(S(467)):Error(S(310));K=e,e={memoizedState:K.memoizedState,baseState:K.baseState,baseQueue:K.baseQueue,queue:K.queue,next:null},ie===null?k.memoizedState=ie=e:ie=ie.next=e}return ie}function Au(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zs(e){var t=Ts;return Ts+=1,pn===null&&(pn=[]),e=ah(pn,e,t),t=k,(ie===null?t.memoizedState:ie.next)===null&&(t=t.alternate,O.H=t===null||t.memoizedState===null?Uh:zh),e}function Oi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Zs(e);if(e.$$typeof===_t)return Se(e)}throw Error(S(438,String(e)))}function Eu(e){var t=null,a=k.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=k.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Au(),k.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=Fg;return t.index++,a}function Ct(e,t){return typeof t=="function"?t(e):t}function Ml(e){var t=re();return Tu(t,K,e)}function Tu(e,t,a){var n=e.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=a;var s=e.baseQueue,l=n.pending;if(l!==null){if(s!==null){var i=s.next;s.next=l.next,l.next=i}t.baseQueue=s=l,n.pending=null}if(l=e.baseState,s===null)e.memoizedState=l;else{t=s.next;var o=i=null,u=null,c=t,d=!1;do{var h=c.lane&-536870913;if(h!==c.lane?(H&h)===h:(la&h)===h){var f=c.revertLane;if(f===0)u!==null&&(u=u.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),h===wn&&(d=!0);else if((la&f)===f){c=c.next,f===wn&&(d=!0);continue}else h={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(o=u=h,i=l):u=u.next=h,k.lanes|=f,ra|=f;h=c.action,ka&&a(l,h),l=c.hasEagerState?c.eagerState:a(l,h)}else f={lane:h,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(o=u=f,i=l):u=u.next=f,k.lanes|=h,ra|=h;c=c.next}while(c!==null&&c!==t);if(u===null?i=l:u.next=o,!Ge(l,e.memoizedState)&&(ye=!0,d&&(a=gn,a!==null)))throw a;e.memoizedState=l,e.baseState=i,e.baseQueue=u,n.lastRenderedState=l}return s===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function rr(e){var t=re(),a=t.queue;if(a===null)throw Error(S(311));a.lastRenderedReducer=e;var n=a.dispatch,s=a.pending,l=t.memoizedState;if(s!==null){a.pending=null;var i=s=s.next;do l=e(l,i.action),i=i.next;while(i!==s);Ge(l,t.memoizedState)||(ye=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),a.lastRenderedState=l}return[l,n]}function rh(e,t,a){var n=k,s=re(),l=q;if(l){if(a===void 0)throw Error(S(407));a=a()}else a=t();var i=!Ge((K||s).memoizedState,a);i&&(s.memoizedState=a,ye=!0),s=s.queue;var o=ch.bind(null,n,s,e);if(Ps(2048,8,o,[e]),s.getSnapshot!==t||i||ie!==null&&ie.memoizedState.tag&1){if(n.flags|=2048,Nn(9,Ci(),uh.bind(null,n,s,a,t),null),Z===null)throw Error(S(349));l||la&124||oh(n,t,a)}return a}function oh(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=k.updateQueue,t===null?(t=Au(),k.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function uh(e,t,a,n){t.value=a,t.getSnapshot=n,dh(t)&&fh(e)}function ch(e,t,a){return a(function(){dh(t)&&fh(e)})}function dh(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Ge(e,a)}catch{return!0}}function fh(e){var t=Un(e,2);t!==null&&$e(t,e,2)}function ho(e){var t=Te();if(typeof e=="function"){var a=e;if(e=a(),ka){Xt(!0);try{a()}finally{Xt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ct,lastRenderedState:e},t}function hh(e,t,a,n){return e.baseState=a,Tu(e,K,typeof n=="function"?n:Ct)}function gy(e,t,a,n,s){if(Di(e))throw Error(S(485));if(e=t.action,e!==null){var l={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(i){l.listeners.push(i)}};O.T!==null?a(!0):l.isTransition=!1,n(l),a=t.pending,a===null?(l.next=t.pending=l,mh(t,l)):(l.next=a.next,t.pending=a.next=l)}}function mh(e,t){var a=t.action,n=t.payload,s=e.state;if(t.isTransition){var l=O.T,i={};O.T=i;try{var o=a(s,n),u=O.S;u!==null&&u(i,o),Hc(e,t,o)}catch(c){mo(e,t,c)}finally{O.T=l}}else try{l=a(s,n),Hc(e,t,l)}catch(c){mo(e,t,c)}}function Hc(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){qc(e,t,n)},function(n){return mo(e,t,n)}):qc(e,t,a)}function qc(e,t,a){t.status="fulfilled",t.value=a,gh(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,mh(e,a)))}function mo(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,gh(t),t=t.next;while(t!==n)}e.action=null}function gh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function yh(e,t){return t}function $c(e,t){if(q){var a=Z.formState;if(a!==null){e:{var n=k;if(q){if(te){t:{for(var s=te,l=rt;s.nodeType!==8;){if(!l){s=null;break t}if(s=nt(s.nextSibling),s===null){s=null;break t}}l=s.data,s=l==="F!"||l==="F"?s:null}if(s){te=nt(s.nextSibling),n=s.data==="F!";break e}}Ca(n)}n=!1}n&&(t=a[0])}}return a=Te(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yh,lastRenderedState:t},a.queue=n,a=kh.bind(null,k,n),n.dispatch=a,n=ho(!1),l=ku.bind(null,k,!1,n.queue),n=Te(),s={state:t,dispatch:null,action:e,pending:null},n.queue=s,a=gy.bind(null,k,s,l,a),s.dispatch=a,n.memoizedState=e,[t,a,!1]}function Gc(e){var t=re();return ph(t,K,e)}function ph(e,t,a){if(t=Tu(e,t,yh)[0],e=Ml(Ct)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=Zs(t)}catch(i){throw i===Xs?Ti:i}else n=t;t=re();var s=t.queue,l=s.dispatch;return a!==t.memoizedState&&(k.flags|=2048,Nn(9,Ci(),yy.bind(null,s,a),null)),[n,l,e]}function yy(e,t){e.action=t}function Yc(e){var t=re(),a=K;if(a!==null)return ph(t,a,e);re(),t=t.memoizedState,a=re();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function Nn(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=k.updateQueue,t===null&&(t=Au(),k.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function Ci(){return{destroy:void 0,resource:void 0}}function vh(){return re().memoizedState}function Ul(e,t,a,n){var s=Te();n=n===void 0?null:n,k.flags|=e,s.memoizedState=Nn(1|t,Ci(),a,n)}function Ps(e,t,a,n){var s=re();n=n===void 0?null:n;var l=s.memoizedState.inst;K!==null&&n!==null&&_u(n,K.memoizedState.deps)?s.memoizedState=Nn(t,l,a,n):(k.flags|=e,s.memoizedState=Nn(1|t,l,a,n))}function Vc(e,t){Ul(8390656,8,e,t)}function bh(e,t){Ps(2048,8,e,t)}function xh(e,t){return Ps(4,2,e,t)}function _h(e,t){return Ps(4,4,e,t)}function Sh(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function wh(e,t,a){a=a!=null?a.concat([e]):null,Ps(4,4,Sh.bind(null,t,e),a)}function Ou(){}function jh(e,t){var a=re();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&_u(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function Nh(e,t){var a=re();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&_u(t,n[1]))return n[0];if(n=e(),ka){Xt(!0);try{e()}finally{Xt(!1)}}return a.memoizedState=[n,t],n}function Cu(e,t,a){return a===void 0||la&1073741824?e.memoizedState=t:(e.memoizedState=a,e=gm(),k.lanes|=e,ra|=e,a)}function Ah(e,t,a,n){return Ge(a,t)?a:jn.current!==null?(e=Cu(e,a,n),Ge(e,t)||(ye=!0),e):la&42?(e=gm(),k.lanes|=e,ra|=e,t):(ye=!0,e.memoizedState=a)}function Eh(e,t,a,n,s){var l=$.p;$.p=l!==0&&8>l?l:8;var i=O.T,o={};O.T=o,ku(e,!1,t,a);try{var u=s(),c=O.S;if(c!==null&&c(o,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=fy(u,n);hs(e,t,d,qe(e))}else hs(e,t,n,qe(e))}catch(h){hs(e,t,{then:function(){},status:"rejected",reason:h},qe())}finally{$.p=l,O.T=i}}function py(){}function go(e,t,a,n){if(e.tag!==5)throw Error(S(476));var s=Th(e).queue;Eh(e,s,t,_a,a===null?py:function(){return Oh(e),a(n)})}function Th(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:_a,baseState:_a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ct,lastRenderedState:_a},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ct,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Oh(e){var t=Th(e).next.queue;hs(e,t,{},qe())}function Du(){return Se(Rs)}function Ch(){return re().memoizedState}function Dh(){return re().memoizedState}function vy(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=qe();e=Ft(a);var n=Wt(t,e,a);n!==null&&($e(n,t,a),cs(n,t,a)),t={cache:pu()},e.payload=t;return}t=t.return}}function by(e,t,a){var n=qe();a={lane:n,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Di(e)?Rh(t,a):(a=hu(e,t,a,n),a!==null&&($e(a,e,n),Mh(a,t,n)))}function kh(e,t,a){var n=qe();hs(e,t,a,n)}function hs(e,t,a,n){var s={lane:n,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Di(e))Rh(t,s);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var i=t.lastRenderedState,o=l(i,a);if(s.hasEagerState=!0,s.eagerState=o,Ge(o,i))return Ei(e,t,s,0),Z===null&&Ai(),!1}catch{}finally{}if(a=hu(e,t,s,n),a!==null)return $e(a,e,n),Mh(a,t,n),!0}return!1}function ku(e,t,a,n){if(n={lane:2,revertLane:qu(),action:n,hasEagerState:!1,eagerState:null,next:null},Di(e)){if(t)throw Error(S(479))}else t=hu(e,a,n,2),t!==null&&$e(t,e,2)}function Di(e){var t=e.alternate;return e===k||t!==null&&t===k}function Rh(e,t){yn=Fl=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Mh(e,t,a){if(a&4194048){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,jf(e,a)}}var ei={readContext:Se,use:Oi,useCallback:se,useContext:se,useEffect:se,useImperativeHandle:se,useLayoutEffect:se,useInsertionEffect:se,useMemo:se,useReducer:se,useRef:se,useState:se,useDebugValue:se,useDeferredValue:se,useTransition:se,useSyncExternalStore:se,useId:se,useHostTransitionStatus:se,useFormState:se,useActionState:se,useOptimistic:se,useMemoCache:se,useCacheRefresh:se},Uh={readContext:Se,use:Oi,useCallback:function(e,t){return Te().memoizedState=[e,t===void 0?null:t],e},useContext:Se,useEffect:Vc,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Ul(4194308,4,Sh.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Ul(4194308,4,e,t)},useInsertionEffect:function(e,t){Ul(4,2,e,t)},useMemo:function(e,t){var a=Te();t=t===void 0?null:t;var n=e();if(ka){Xt(!0);try{e()}finally{Xt(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=Te();if(a!==void 0){var s=a(t);if(ka){Xt(!0);try{a(t)}finally{Xt(!1)}}}else s=t;return n.memoizedState=n.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},n.queue=e,e=e.dispatch=by.bind(null,k,e),[n.memoizedState,e]},useRef:function(e){var t=Te();return e={current:e},t.memoizedState=e},useState:function(e){e=ho(e);var t=e.queue,a=kh.bind(null,k,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Ou,useDeferredValue:function(e,t){var a=Te();return Cu(a,e,t)},useTransition:function(){var e=ho(!1);return e=Eh.bind(null,k,e.queue,!0,!1),Te().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=k,s=Te();if(q){if(a===void 0)throw Error(S(407));a=a()}else{if(a=t(),Z===null)throw Error(S(349));H&124||oh(n,t,a)}s.memoizedState=a;var l={value:a,getSnapshot:t};return s.queue=l,Vc(ch.bind(null,n,l,e),[e]),n.flags|=2048,Nn(9,Ci(),uh.bind(null,n,l,a,t),null),a},useId:function(){var e=Te(),t=Z.identifierPrefix;if(q){var a=wt,n=St;a=(n&~(1<<32-He(n)-1)).toString(32)+a,t=""+t+"R"+a,a=Wl++,0<a&&(t+="H"+a.toString(32)),t+=""}else a=hy++,t=""+t+"r"+a.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Du,useFormState:$c,useActionState:$c,useOptimistic:function(e){var t=Te();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=ku.bind(null,k,!0,a),a.dispatch=t,[e,t]},useMemoCache:Eu,useCacheRefresh:function(){return Te().memoizedState=vy.bind(null,k)}},zh={readContext:Se,use:Oi,useCallback:jh,useContext:Se,useEffect:bh,useImperativeHandle:wh,useInsertionEffect:xh,useLayoutEffect:_h,useMemo:Nh,useReducer:Ml,useRef:vh,useState:function(){return Ml(Ct)},useDebugValue:Ou,useDeferredValue:function(e,t){var a=re();return Ah(a,K.memoizedState,e,t)},useTransition:function(){var e=Ml(Ct)[0],t=re().memoizedState;return[typeof e=="boolean"?e:Zs(e),t]},useSyncExternalStore:rh,useId:Ch,useHostTransitionStatus:Du,useFormState:Gc,useActionState:Gc,useOptimistic:function(e,t){var a=re();return hh(a,K,e,t)},useMemoCache:Eu,useCacheRefresh:Dh},xy={readContext:Se,use:Oi,useCallback:jh,useContext:Se,useEffect:bh,useImperativeHandle:wh,useInsertionEffect:xh,useLayoutEffect:_h,useMemo:Nh,useReducer:rr,useRef:vh,useState:function(){return rr(Ct)},useDebugValue:Ou,useDeferredValue:function(e,t){var a=re();return K===null?Cu(a,e,t):Ah(a,K.memoizedState,e,t)},useTransition:function(){var e=rr(Ct)[0],t=re().memoizedState;return[typeof e=="boolean"?e:Zs(e),t]},useSyncExternalStore:rh,useId:Ch,useHostTransitionStatus:Du,useFormState:Yc,useActionState:Yc,useOptimistic:function(e,t){var a=re();return K!==null?hh(a,K,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Eu,useCacheRefresh:Dh},vn=null,Os=0;function hl(e){var t=Os;return Os+=1,vn===null&&(vn=[]),ah(vn,e,t)}function Qn(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ml(e,t){throw t.$$typeof===Jg?Error(S(525)):(e=Object.prototype.toString.call(t),Error(S(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Kc(e){var t=e._init;return t(e._payload)}function Bh(e){function t(y,g){if(e){var p=y.deletions;p===null?(y.deletions=[g],y.flags|=16):p.push(g)}}function a(y,g){if(!e)return null;for(;g!==null;)t(y,g),g=g.sibling;return null}function n(y){for(var g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function s(y,g){return y=At(y,g),y.index=0,y.sibling=null,y}function l(y,g,p){return y.index=p,e?(p=y.alternate,p!==null?(p=p.index,p<g?(y.flags|=67108866,g):p):(y.flags|=67108866,g)):(y.flags|=1048576,g)}function i(y){return e&&y.alternate===null&&(y.flags|=67108866),y}function o(y,g,p,v){return g===null||g.tag!==6?(g=sr(p,y.mode,v),g.return=y,g):(g=s(g,p),g.return=y,g)}function u(y,g,p,v){var j=p.type;return j===Wa?d(y,g,p.props.children,v,p.key):g!==null&&(g.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===qt&&Kc(j)===g.type)?(g=s(g,p.props),Qn(g,p),g.return=y,g):(g=kl(p.type,p.key,p.props,null,y.mode,v),Qn(g,p),g.return=y,g)}function c(y,g,p,v){return g===null||g.tag!==4||g.stateNode.containerInfo!==p.containerInfo||g.stateNode.implementation!==p.implementation?(g=lr(p,y.mode,v),g.return=y,g):(g=s(g,p.children||[]),g.return=y,g)}function d(y,g,p,v,j){return g===null||g.tag!==7?(g=Sa(p,y.mode,v,j),g.return=y,g):(g=s(g,p),g.return=y,g)}function h(y,g,p){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return g=sr(""+g,y.mode,p),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case il:return p=kl(g.type,g.key,g.props,null,y.mode,p),Qn(p,g),p.return=y,p;case Fn:return g=lr(g,y.mode,p),g.return=y,g;case qt:var v=g._init;return g=v(g._payload),h(y,g,p)}if(Wn(g)||Gn(g))return g=Sa(g,y.mode,p,null),g.return=y,g;if(typeof g.then=="function")return h(y,hl(g),p);if(g.$$typeof===_t)return h(y,dl(y,g),p);ml(y,g)}return null}function f(y,g,p,v){var j=g!==null?g.key:null;if(typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint")return j!==null?null:o(y,g,""+p,v);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case il:return p.key===j?u(y,g,p,v):null;case Fn:return p.key===j?c(y,g,p,v):null;case qt:return j=p._init,p=j(p._payload),f(y,g,p,v)}if(Wn(p)||Gn(p))return j!==null?null:d(y,g,p,v,null);if(typeof p.then=="function")return f(y,g,hl(p),v);if(p.$$typeof===_t)return f(y,g,dl(y,p),v);ml(y,p)}return null}function m(y,g,p,v,j){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return y=y.get(p)||null,o(g,y,""+v,j);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case il:return y=y.get(v.key===null?p:v.key)||null,u(g,y,v,j);case Fn:return y=y.get(v.key===null?p:v.key)||null,c(g,y,v,j);case qt:var N=v._init;return v=N(v._payload),m(y,g,p,v,j)}if(Wn(v)||Gn(v))return y=y.get(p)||null,d(g,y,v,j,null);if(typeof v.then=="function")return m(y,g,p,hl(v),j);if(v.$$typeof===_t)return m(y,g,p,dl(g,v),j);ml(g,v)}return null}function b(y,g,p,v){for(var j=null,N=null,w=g,A=g=0,J=null;w!==null&&A<p.length;A++){w.index>A?(J=w,w=null):J=w.sibling;var M=f(y,w,p[A],v);if(M===null){w===null&&(w=J);break}e&&w&&M.alternate===null&&t(y,w),g=l(M,g,A),N===null?j=M:N.sibling=M,N=M,w=J}if(A===p.length)return a(y,w),q&&ya(y,A),j;if(w===null){for(;A<p.length;A++)w=h(y,p[A],v),w!==null&&(g=l(w,g,A),N===null?j=w:N.sibling=w,N=w);return q&&ya(y,A),j}for(w=n(w);A<p.length;A++)J=m(w,y,A,p[A],v),J!==null&&(e&&J.alternate!==null&&w.delete(J.key===null?A:J.key),g=l(J,g,A),N===null?j=J:N.sibling=J,N=J);return e&&w.forEach(function(Ye){return t(y,Ye)}),q&&ya(y,A),j}function _(y,g,p,v){if(p==null)throw Error(S(151));for(var j=null,N=null,w=g,A=g=0,J=null,M=p.next();w!==null&&!M.done;A++,M=p.next()){w.index>A?(J=w,w=null):J=w.sibling;var Ye=f(y,w,M.value,v);if(Ye===null){w===null&&(w=J);break}e&&w&&Ye.alternate===null&&t(y,w),g=l(Ye,g,A),N===null?j=Ye:N.sibling=Ye,N=Ye,w=J}if(M.done)return a(y,w),q&&ya(y,A),j;if(w===null){for(;!M.done;A++,M=p.next())M=h(y,M.value,v),M!==null&&(g=l(M,g,A),N===null?j=M:N.sibling=M,N=M);return q&&ya(y,A),j}for(w=n(w);!M.done;A++,M=p.next())M=m(w,y,A,M.value,v),M!==null&&(e&&M.alternate!==null&&w.delete(M.key===null?A:M.key),g=l(M,g,A),N===null?j=M:N.sibling=M,N=M);return e&&w.forEach(function(Mt){return t(y,Mt)}),q&&ya(y,A),j}function x(y,g,p,v){if(typeof p=="object"&&p!==null&&p.type===Wa&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case il:e:{for(var j=p.key;g!==null;){if(g.key===j){if(j=p.type,j===Wa){if(g.tag===7){a(y,g.sibling),v=s(g,p.props.children),v.return=y,y=v;break e}}else if(g.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===qt&&Kc(j)===g.type){a(y,g.sibling),v=s(g,p.props),Qn(v,p),v.return=y,y=v;break e}a(y,g);break}else t(y,g);g=g.sibling}p.type===Wa?(v=Sa(p.props.children,y.mode,v,p.key),v.return=y,y=v):(v=kl(p.type,p.key,p.props,null,y.mode,v),Qn(v,p),v.return=y,y=v)}return i(y);case Fn:e:{for(j=p.key;g!==null;){if(g.key===j)if(g.tag===4&&g.stateNode.containerInfo===p.containerInfo&&g.stateNode.implementation===p.implementation){a(y,g.sibling),v=s(g,p.children||[]),v.return=y,y=v;break e}else{a(y,g);break}else t(y,g);g=g.sibling}v=lr(p,y.mode,v),v.return=y,y=v}return i(y);case qt:return j=p._init,p=j(p._payload),x(y,g,p,v)}if(Wn(p))return b(y,g,p,v);if(Gn(p)){if(j=Gn(p),typeof j!="function")throw Error(S(150));return p=j.call(p),_(y,g,p,v)}if(typeof p.then=="function")return x(y,g,hl(p),v);if(p.$$typeof===_t)return x(y,g,dl(y,p),v);ml(y,p)}return typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint"?(p=""+p,g!==null&&g.tag===6?(a(y,g.sibling),v=s(g,p),v.return=y,y=v):(a(y,g),v=sr(p,y.mode,v),v.return=y,y=v),i(y)):a(y,g)}return function(y,g,p,v){try{Os=0;var j=x(y,g,p,v);return vn=null,j}catch(w){if(w===Xs||w===Ti)throw w;var N=Be(29,w,null,y.mode);return N.lanes=v,N.return=y,N}finally{}}}var An=Bh(!0),Lh=Bh(!1),Fe=ft(null),dt=null;function Yt(e){var t=e.alternate;W(de,de.current&1),W(Fe,e),dt===null&&(t===null||jn.current!==null||t.memoizedState!==null)&&(dt=e)}function Hh(e){if(e.tag===22){if(W(de,de.current),W(Fe,e),dt===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(dt=e)}}else Vt()}function Vt(){W(de,de.current),W(Fe,Fe.current)}function Nt(e){pe(Fe),dt===e&&(dt=null),pe(de)}var de=ft(0);function ti(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||ko(a)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function or(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:P({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var yo={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=qe(),s=Ft(n);s.payload=t,a!=null&&(s.callback=a),t=Wt(e,s,n),t!==null&&($e(t,e,n),cs(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=qe(),s=Ft(n);s.tag=1,s.payload=t,a!=null&&(s.callback=a),t=Wt(e,s,n),t!==null&&($e(t,e,n),cs(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=qe(),n=Ft(a);n.tag=2,t!=null&&(n.callback=t),t=Wt(e,n,a),t!==null&&($e(t,e,a),cs(t,e,a))}};function Qc(e,t,a,n,s,l,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,l,i):t.prototype&&t.prototype.isPureReactComponent?!As(a,n)||!As(s,l):!0}function Xc(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&yo.enqueueReplaceState(t,t.state,null)}function Ra(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=P({},a));for(var s in e)a[s]===void 0&&(a[s]=e[s])}return a}var ai=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function qh(e){ai(e)}function $h(e){console.error(e)}function Gh(e){ai(e)}function ni(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Zc(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function po(e,t,a){return a=Ft(a),a.tag=3,a.payload={element:null},a.callback=function(){ni(e,t)},a}function Yh(e){return e=Ft(e),e.tag=3,e}function Vh(e,t,a,n){var s=a.type.getDerivedStateFromError;if(typeof s=="function"){var l=n.value;e.payload=function(){return s(l)},e.callback=function(){Zc(t,a,n)}}var i=a.stateNode;i!==null&&typeof i.componentDidCatch=="function"&&(e.callback=function(){Zc(t,a,n),typeof s!="function"&&(ea===null?ea=new Set([this]):ea.add(this));var o=n.stack;this.componentDidCatch(n.value,{componentStack:o!==null?o:""})})}function _y(e,t,a,n,s){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&Ks(t,a,s,!0),a=Fe.current,a!==null){switch(a.tag){case 13:return dt===null?No():a.alternate===null&&ae===0&&(ae=3),a.flags&=-257,a.flags|=65536,a.lanes=s,n===oo?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),br(e,n,s)),!1;case 22:return a.flags|=65536,n===oo?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),br(e,n,s)),!1}throw Error(S(435,a.tag))}return br(e,n,s),No(),!1}if(q)return t=Fe.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=s,n!==no&&(e=Error(S(422),{cause:n}),Es(Pe(e,a)))):(n!==no&&(t=Error(S(423),{cause:n}),Es(Pe(t,a))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,n=Pe(n,a),s=po(e.stateNode,n,s),ir(e,s),ae!==4&&(ae=2)),!1;var l=Error(S(520),{cause:n});if(l=Pe(l,a),ys===null?ys=[l]:ys.push(l),ae!==4&&(ae=2),t===null)return!0;n=Pe(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=s&-s,a.lanes|=e,e=po(a.stateNode,n,e),ir(a,e),!1;case 1:if(t=a.type,l=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||l!==null&&typeof l.componentDidCatch=="function"&&(ea===null||!ea.has(l))))return a.flags|=65536,s&=-s,a.lanes|=s,s=Yh(s),Vh(s,e,a,n),ir(a,s),!1}a=a.return}while(a!==null);return!1}var Kh=Error(S(461)),ye=!1;function ve(e,t,a,n){t.child=e===null?Lh(t,null,a,n):An(t,e.child,a,n)}function Pc(e,t,a,n,s){a=a.render;var l=t.ref;if("ref"in n){var i={};for(var o in n)o!=="ref"&&(i[o]=n[o])}else i=n;return Da(t),n=Su(e,t,a,i,l,s),o=wu(),e!==null&&!ye?(ju(e,t,s),Dt(e,t,s)):(q&&o&&gu(t),t.flags|=1,ve(e,t,n,s),t.child)}function Jc(e,t,a,n,s){if(e===null){var l=a.type;return typeof l=="function"&&!mu(l)&&l.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=l,Qh(e,t,l,n,s)):(e=kl(a.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!Ru(e,s)){var i=l.memoizedProps;if(a=a.compare,a=a!==null?a:As,a(i,n)&&e.ref===t.ref)return Dt(e,t,s)}return t.flags|=1,e=At(l,n),e.ref=t.ref,e.return=t,t.child=e}function Qh(e,t,a,n,s){if(e!==null){var l=e.memoizedProps;if(As(l,n)&&e.ref===t.ref)if(ye=!1,t.pendingProps=n=l,Ru(e,s))e.flags&131072&&(ye=!0);else return t.lanes=e.lanes,Dt(e,t,s)}return vo(e,t,a,n,s)}function Xh(e,t,a){var n=t.pendingProps,s=n.children,l=e!==null?e.memoizedState:null;if(n.mode==="hidden"){if(t.flags&128){if(n=l!==null?l.baseLanes|a:a,e!==null){for(s=t.child=e.child,l=0;s!==null;)l=l|s.lanes|s.childLanes,s=s.sibling;t.childLanes=l&~n}else t.childLanes=0,t.child=null;return Ic(e,t,n,a)}if(a&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Rl(t,l!==null?l.cachePool:null),l!==null?Lc(t,l):fo(),Hh(t);else return t.lanes=t.childLanes=536870912,Ic(e,t,l!==null?l.baseLanes|a:a,a)}else l!==null?(Rl(t,l.cachePool),Lc(t,l),Vt(),t.memoizedState=null):(e!==null&&Rl(t,null),fo(),Vt());return ve(e,t,s,a),t.child}function Ic(e,t,a,n){var s=vu();return s=s===null?null:{parent:ce._currentValue,pool:s},t.memoizedState={baseLanes:a,cachePool:s},e!==null&&Rl(t,null),fo(),Hh(t),e!==null&&Ks(e,t,n,!0),null}function zl(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(S(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function vo(e,t,a,n,s){return Da(t),a=Su(e,t,a,n,void 0,s),n=wu(),e!==null&&!ye?(ju(e,t,s),Dt(e,t,s)):(q&&n&&gu(t),t.flags|=1,ve(e,t,a,s),t.child)}function Fc(e,t,a,n,s,l){return Da(t),t.updateQueue=null,a=ih(t,n,a,s),lh(e),n=wu(),e!==null&&!ye?(ju(e,t,l),Dt(e,t,l)):(q&&n&&gu(t),t.flags|=1,ve(e,t,a,l),t.child)}function Wc(e,t,a,n,s){if(Da(t),t.stateNode===null){var l=on,i=a.contextType;typeof i=="object"&&i!==null&&(l=Se(i)),l=new a(n,l),t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=yo,t.stateNode=l,l._reactInternals=t,l=t.stateNode,l.props=n,l.state=t.memoizedState,l.refs={},bu(t),i=a.contextType,l.context=typeof i=="object"&&i!==null?Se(i):on,l.state=t.memoizedState,i=a.getDerivedStateFromProps,typeof i=="function"&&(or(t,a,i,n),l.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(i=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),i!==l.state&&yo.enqueueReplaceState(l,l.state,null),fs(t,n,l,s),ds(),l.state=t.memoizedState),typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){l=t.stateNode;var o=t.memoizedProps,u=Ra(a,o);l.props=u;var c=l.context,d=a.contextType;i=on,typeof d=="object"&&d!==null&&(i=Se(d));var h=a.getDerivedStateFromProps;d=typeof h=="function"||typeof l.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,d||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o||c!==i)&&Xc(t,l,n,i),$t=!1;var f=t.memoizedState;l.state=f,fs(t,n,l,s),ds(),c=t.memoizedState,o||f!==c||$t?(typeof h=="function"&&(or(t,a,h,n),c=t.memoizedState),(u=$t||Qc(t,a,u,n,f,c,i))?(d||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),l.props=n,l.state=c,l.context=i,n=u):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,uo(e,t),i=t.memoizedProps,d=Ra(a,i),l.props=d,h=t.pendingProps,f=l.context,c=a.contextType,u=on,typeof c=="object"&&c!==null&&(u=Se(c)),o=a.getDerivedStateFromProps,(c=typeof o=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(i!==h||f!==u)&&Xc(t,l,n,u),$t=!1,f=t.memoizedState,l.state=f,fs(t,n,l,s),ds();var m=t.memoizedState;i!==h||f!==m||$t||e!==null&&e.dependencies!==null&&Jl(e.dependencies)?(typeof o=="function"&&(or(t,a,o,n),m=t.memoizedState),(d=$t||Qc(t,a,d,n,f,m,u)||e!==null&&e.dependencies!==null&&Jl(e.dependencies))?(c||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,m,u),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,m,u)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),l.props=n,l.state=m,l.context=u,n=d):(typeof l.componentDidUpdate!="function"||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return l=n,zl(e,t),n=(t.flags&128)!==0,l||n?(l=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:l.render(),t.flags|=1,e!==null&&n?(t.child=An(t,e.child,null,s),t.child=An(t,null,a,s)):ve(e,t,a,s),t.memoizedState=l.state,e=t.child):e=Dt(e,t,s),e}function ed(e,t,a,n){return Vs(),t.flags|=256,ve(e,t,a,n),t.child}var ur={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cr(e){return{baseLanes:e,cachePool:eh()}}function dr(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Je),e}function Zh(e,t,a){var n=t.pendingProps,s=!1,l=(t.flags&128)!==0,i;if((i=l)||(i=e!==null&&e.memoizedState===null?!1:(de.current&2)!==0),i&&(s=!0,t.flags&=-129),i=(t.flags&32)!==0,t.flags&=-33,e===null){if(q){if(s?Yt(t):Vt(),q){var o=te,u;if(u=o){e:{for(u=o,o=rt;u.nodeType!==8;){if(!o){o=null;break e}if(u=nt(u.nextSibling),u===null){o=null;break e}}o=u}o!==null?(t.memoizedState={dehydrated:o,treeContext:wa!==null?{id:St,overflow:wt}:null,retryLane:536870912,hydrationErrors:null},u=Be(18,null,null,0),u.stateNode=o,u.return=t,t.child=u,Ne=t,te=null,u=!0):u=!1}u||Ca(t)}if(o=t.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return ko(o)?t.lanes=32:t.lanes=536870912,null;Nt(t)}return o=n.children,n=n.fallback,s?(Vt(),s=t.mode,o=si({mode:"hidden",children:o},s),n=Sa(n,s,a,null),o.return=t,n.return=t,o.sibling=n,t.child=o,s=t.child,s.memoizedState=cr(a),s.childLanes=dr(e,i,a),t.memoizedState=ur,n):(Yt(t),bo(t,o))}if(u=e.memoizedState,u!==null&&(o=u.dehydrated,o!==null)){if(l)t.flags&256?(Yt(t),t.flags&=-257,t=fr(e,t,a)):t.memoizedState!==null?(Vt(),t.child=e.child,t.flags|=128,t=null):(Vt(),s=n.fallback,o=t.mode,n=si({mode:"visible",children:n.children},o),s=Sa(s,o,a,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,An(t,e.child,null,a),n=t.child,n.memoizedState=cr(a),n.childLanes=dr(e,i,a),t.memoizedState=ur,t=s);else if(Yt(t),ko(o)){if(i=o.nextSibling&&o.nextSibling.dataset,i)var c=i.dgst;i=c,n=Error(S(419)),n.stack="",n.digest=i,Es({value:n,source:null,stack:null}),t=fr(e,t,a)}else if(ye||Ks(e,t,a,!1),i=(a&e.childLanes)!==0,ye||i){if(i=Z,i!==null&&(n=a&-a,n=n&42?1:nu(n),n=n&(i.suspendedLanes|a)?0:n,n!==0&&n!==u.retryLane))throw u.retryLane=n,Un(e,n),$e(i,e,n),Kh;o.data==="$?"||No(),t=fr(e,t,a)}else o.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,te=nt(o.nextSibling),Ne=t,q=!0,ja=null,rt=!1,e!==null&&(Qe[Xe++]=St,Qe[Xe++]=wt,Qe[Xe++]=wa,St=e.id,wt=e.overflow,wa=t),t=bo(t,n.children),t.flags|=4096);return t}return s?(Vt(),s=n.fallback,o=t.mode,u=e.child,c=u.sibling,n=At(u,{mode:"hidden",children:n.children}),n.subtreeFlags=u.subtreeFlags&65011712,c!==null?s=At(c,s):(s=Sa(s,o,a,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o===null?o=cr(a):(u=o.cachePool,u!==null?(c=ce._currentValue,u=u.parent!==c?{parent:c,pool:c}:u):u=eh(),o={baseLanes:o.baseLanes|a,cachePool:u}),s.memoizedState=o,s.childLanes=dr(e,i,a),t.memoizedState=ur,n):(Yt(t),a=e.child,e=a.sibling,a=At(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=a,t.memoizedState=null,a)}function bo(e,t){return t=si({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function si(e,t){return e=Be(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function fr(e,t,a){return An(t,e.child,null,a),e=bo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function td(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),lo(e.return,t,a)}function hr(e,t,a,n,s){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:s}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=n,l.tail=a,l.tailMode=s)}function Ph(e,t,a){var n=t.pendingProps,s=n.revealOrder,l=n.tail;if(ve(e,t,n.children,a),n=de.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&td(e,a,t);else if(e.tag===19)td(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}switch(W(de,n),s){case"forwards":for(a=t.child,s=null;a!==null;)e=a.alternate,e!==null&&ti(e)===null&&(s=a),a=a.sibling;a=s,a===null?(s=t.child,t.child=null):(s=a.sibling,a.sibling=null),hr(t,!1,s,a,l);break;case"backwards":for(a=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ti(e)===null){t.child=s;break}e=s.sibling,s.sibling=a,a=s,s=e}hr(t,!0,a,null,l);break;case"together":hr(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Dt(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),ra|=t.lanes,!(a&t.childLanes))if(e!==null){if(Ks(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(S(153));if(t.child!==null){for(e=t.child,a=At(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=At(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Ru(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Jl(e)))}function Sy(e,t,a){switch(t.tag){case 3:Gl(t,t.stateNode.containerInfo),Gt(t,ce,e.memoizedState.cache),Vs();break;case 27:case 5:Xr(t);break;case 4:Gl(t,t.stateNode.containerInfo);break;case 10:Gt(t,t.type,t.memoizedProps.value);break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(Yt(t),t.flags|=128,null):a&t.child.childLanes?Zh(e,t,a):(Yt(t),e=Dt(e,t,a),e!==null?e.sibling:null);Yt(t);break;case 19:var s=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(Ks(e,t,a,!1),n=(a&t.childLanes)!==0),s){if(n)return Ph(e,t,a);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),W(de,de.current),n)break;return null;case 22:case 23:return t.lanes=0,Xh(e,t,a);case 24:Gt(t,ce,e.memoizedState.cache)}return Dt(e,t,a)}function Jh(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)ye=!0;else{if(!Ru(e,a)&&!(t.flags&128))return ye=!1,Sy(e,t,a);ye=!!(e.flags&131072)}else ye=!1,q&&t.flags&1048576&&Ff(t,Pl,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var n=t.elementType,s=n._init;if(n=s(n._payload),t.type=n,typeof n=="function")mu(n)?(e=Ra(n,e),t.tag=1,t=Wc(null,t,n,e,a)):(t.tag=0,t=vo(null,t,n,e,a));else{if(n!=null){if(s=n.$$typeof,s===eu){t.tag=11,t=Pc(null,t,n,e,a);break e}else if(s===tu){t.tag=14,t=Jc(null,t,n,e,a);break e}}throw t=Kr(n)||n,Error(S(306,t,""))}}return t;case 0:return vo(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,s=Ra(n,t.pendingProps),Wc(e,t,n,s,a);case 3:e:{if(Gl(t,t.stateNode.containerInfo),e===null)throw Error(S(387));n=t.pendingProps;var l=t.memoizedState;s=l.element,uo(e,t),fs(t,n,null,a);var i=t.memoizedState;if(n=i.cache,Gt(t,ce,n),n!==l.cache&&io(t,[ce],a,!0),ds(),n=i.element,l.isDehydrated)if(l={element:n,isDehydrated:!1,cache:i.cache},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){t=ed(e,t,n,a);break e}else if(n!==s){s=Pe(Error(S(424)),t),Es(s),t=ed(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(te=nt(e.firstChild),Ne=t,q=!0,ja=null,rt=!0,a=Lh(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Vs(),n===s){t=Dt(e,t,a);break e}ve(e,t,n,a)}t=t.child}return t;case 26:return zl(e,t),e===null?(a=vd(t.type,null,t.pendingProps,null))?t.memoizedState=a:q||(a=t.type,e=t.pendingProps,n=di(It.current).createElement(a),n[_e]=t,n[ke]=e,xe(n,a,e),ge(n),t.stateNode=n):t.memoizedState=vd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Xr(t),e===null&&q&&(n=t.stateNode=zm(t.type,t.pendingProps,It.current),Ne=t,rt=!0,s=te,ua(t.type)?(Ro=s,te=nt(n.firstChild)):te=s),ve(e,t,t.pendingProps.children,a),zl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&q&&((s=n=te)&&(n=Jy(n,t.type,t.pendingProps,rt),n!==null?(t.stateNode=n,Ne=t,te=nt(n.firstChild),rt=!1,s=!0):s=!1),s||Ca(t)),Xr(t),s=t.type,l=t.pendingProps,i=e!==null?e.memoizedProps:null,n=l.children,Co(s,l)?n=null:i!==null&&Co(s,i)&&(t.flags|=32),t.memoizedState!==null&&(s=Su(e,t,my,null,null,a),Rs._currentValue=s),zl(e,t),ve(e,t,n,a),t.child;case 6:return e===null&&q&&((e=a=te)&&(a=Iy(a,t.pendingProps,rt),a!==null?(t.stateNode=a,Ne=t,te=null,e=!0):e=!1),e||Ca(t)),null;case 13:return Zh(e,t,a);case 4:return Gl(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=An(t,null,n,a):ve(e,t,n,a),t.child;case 11:return Pc(e,t,t.type,t.pendingProps,a);case 7:return ve(e,t,t.pendingProps,a),t.child;case 8:return ve(e,t,t.pendingProps.children,a),t.child;case 12:return ve(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,Gt(t,t.type,n.value),ve(e,t,n.children,a),t.child;case 9:return s=t.type._context,n=t.pendingProps.children,Da(t),s=Se(s),n=n(s),t.flags|=1,ve(e,t,n,a),t.child;case 14:return Jc(e,t,t.type,t.pendingProps,a);case 15:return Qh(e,t,t.type,t.pendingProps,a);case 19:return Ph(e,t,a);case 31:return n=t.pendingProps,a=t.mode,n={mode:n.mode,children:n.children},e===null?(a=si(n,a),a.ref=t.ref,t.child=a,a.return=t,t=a):(a=At(e.child,n),a.ref=t.ref,t.child=a,a.return=t,t=a),t;case 22:return Xh(e,t,a);case 24:return Da(t),n=Se(ce),e===null?(s=vu(),s===null&&(s=Z,l=pu(),s.pooledCache=l,l.refCount++,l!==null&&(s.pooledCacheLanes|=a),s=l),t.memoizedState={parent:n,cache:s},bu(t),Gt(t,ce,s)):(e.lanes&a&&(uo(e,t),fs(t,null,null,a),ds()),s=e.memoizedState,l=t.memoizedState,s.parent!==n?(s={parent:n,cache:n},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),Gt(t,ce,n)):(n=l.cache,Gt(t,ce,n),n!==s.cache&&io(t,[ce],a,!0))),ve(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(S(156,t.tag))}function gt(e){e.flags|=4}function ad(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Hm(t)){if(t=Fe.current,t!==null&&((H&4194048)===H?dt!==null:(H&62914560)!==H&&!(H&536870912)||t!==dt))throw us=oo,th;e.flags|=8192}}function gl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Sf():536870912,e.lanes|=t,En|=t)}function Xn(e,t){if(!q)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ee(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var s=e.child;s!==null;)a|=s.lanes|s.childLanes,n|=s.subtreeFlags&65011712,n|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)a|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function wy(e,t,a){var n=t.pendingProps;switch(yu(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(t),null;case 1:return ee(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Et(ce),xn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Kn(t)?gt(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,kc())),ee(t),null;case 26:return a=t.memoizedState,e===null?(gt(t),a!==null?(ee(t),ad(t,a)):(ee(t),t.flags&=-16777217)):a?a!==e.memoizedState?(gt(t),ee(t),ad(t,a)):(ee(t),t.flags&=-16777217):(e.memoizedProps!==n&&gt(t),ee(t),t.flags&=-16777217),null;case 27:Yl(t),a=It.current;var s=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==n&&gt(t);else{if(!n){if(t.stateNode===null)throw Error(S(166));return ee(t),null}e=ut.current,Kn(t)?Cc(t):(e=zm(s,n,a),t.stateNode=e,gt(t))}return ee(t),null;case 5:if(Yl(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&gt(t);else{if(!n){if(t.stateNode===null)throw Error(S(166));return ee(t),null}if(e=ut.current,Kn(t))Cc(t);else{switch(s=di(It.current),e){case 1:e=s.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=s.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=s.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=s.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof n.is=="string"?s.createElement("select",{is:n.is}):s.createElement("select"),n.multiple?e.multiple=!0:n.size&&(e.size=n.size);break;default:e=typeof n.is=="string"?s.createElement(a,{is:n.is}):s.createElement(a)}}e[_e]=t,e[ke]=n;e:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=e;e:switch(xe(e,a,n),a){case"button":case"input":case"select":case"textarea":e=!!n.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&gt(t)}}return ee(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&gt(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(S(166));if(e=It.current,Kn(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,s=Ne,s!==null)switch(s.tag){case 27:case 5:n=s.memoizedProps}e[_e]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||Rm(e.nodeValue,a)),e||Ca(t)}else e=di(e).createTextNode(n),e[_e]=t,t.stateNode=e}return ee(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=Kn(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(S(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(S(317));s[_e]=t}else Vs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ee(t),s=!1}else s=kc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(Nt(t),t):(Nt(t),null)}if(Nt(t),t.flags&128)return t.lanes=a,t;if(a=n!==null,e=e!==null&&e.memoizedState!==null,a){n=t.child,s=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(s=n.alternate.memoizedState.cachePool.pool);var l=null;n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),gl(t,t.updateQueue),ee(t),null;case 4:return xn(),e===null&&$u(t.stateNode.containerInfo),ee(t),null;case 10:return Et(t.type),ee(t),null;case 19:if(pe(de),s=t.memoizedState,s===null)return ee(t),null;if(n=(t.flags&128)!==0,l=s.rendering,l===null)if(n)Xn(s,!1);else{if(ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=ti(e),l!==null){for(t.flags|=128,Xn(s,!1),e=l.updateQueue,t.updateQueue=e,gl(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)If(a,e),a=a.sibling;return W(de,de.current&1|2),t.child}e=e.sibling}s.tail!==null&&ct()>ii&&(t.flags|=128,n=!0,Xn(s,!1),t.lanes=4194304)}else{if(!n)if(e=ti(l),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,gl(t,e),Xn(s,!0),s.tail===null&&s.tailMode==="hidden"&&!l.alternate&&!q)return ee(t),null}else 2*ct()-s.renderingStartTime>ii&&a!==536870912&&(t.flags|=128,n=!0,Xn(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(e=s.last,e!==null?e.sibling=l:t.child=l,s.last=l)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ct(),t.sibling=null,e=de.current,W(de,n?e&1|2:e&1),t):(ee(t),null);case 22:case 23:return Nt(t),xu(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?a&536870912&&!(t.flags&128)&&(ee(t),t.subtreeFlags&6&&(t.flags|=8192)):ee(t),a=t.updateQueue,a!==null&&gl(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&pe(Na),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Et(ce),ee(t),null;case 25:return null;case 30:return null}throw Error(S(156,t.tag))}function jy(e,t){switch(yu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Et(ce),xn(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Yl(t),null;case 13:if(Nt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(S(340));Vs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pe(de),null;case 4:return xn(),null;case 10:return Et(t.type),null;case 22:case 23:return Nt(t),xu(),e!==null&&pe(Na),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Et(ce),null;case 25:return null;default:return null}}function Ih(e,t){switch(yu(t),t.tag){case 3:Et(ce),xn();break;case 26:case 27:case 5:Yl(t);break;case 4:xn();break;case 13:Nt(t);break;case 19:pe(de);break;case 10:Et(t.type);break;case 22:case 23:Nt(t),xu(),e!==null&&pe(Na);break;case 24:Et(ce)}}function Js(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var s=n.next;a=s;do{if((a.tag&e)===e){n=void 0;var l=a.create,i=a.inst;n=l(),i.destroy=n}a=a.next}while(a!==s)}}catch(o){Q(t,t.return,o)}}function ia(e,t,a){try{var n=t.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var l=s.next;n=l;do{if((n.tag&e)===e){var i=n.inst,o=i.destroy;if(o!==void 0){i.destroy=void 0,s=t;var u=a,c=o;try{c()}catch(d){Q(s,u,d)}}}n=n.next}while(n!==l)}}catch(d){Q(t,t.return,d)}}function Fh(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{sh(t,a)}catch(n){Q(e,e.return,n)}}}function Wh(e,t,a){a.props=Ra(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){Q(e,t,n)}}function ms(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(s){Q(e,t,s)}}function ot(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(s){Q(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(s){Q(e,t,s)}else a.current=null}function em(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(s){Q(e,e.return,s)}}function mr(e,t,a){try{var n=e.stateNode;Ky(n,e.type,a,t),n[ke]=t}catch(s){Q(e,e.return,s)}}function tm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ua(e.type)||e.tag===4}function gr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||tm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ua(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xo(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Ui));else if(n!==4&&(n===27&&ua(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(xo(e,t,a),e=e.sibling;e!==null;)xo(e,t,a),e=e.sibling}function li(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&ua(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(li(e,t,a),e=e.sibling;e!==null;)li(e,t,a),e=e.sibling}function am(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);xe(t,n,a),t[_e]=e,t[ke]=a}catch(l){Q(e,e.return,l)}}var bt=!1,le=!1,yr=!1,nd=typeof WeakSet=="function"?WeakSet:Set,me=null;function Ny(e,t){if(e=e.containerInfo,To=gi,e=Yf(e),du(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var s=n.anchorOffset,l=n.focusNode;n=n.focusOffset;try{a.nodeType,l.nodeType}catch{a=null;break e}var i=0,o=-1,u=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==a||s!==0&&h.nodeType!==3||(o=i+s),h!==l||n!==0&&h.nodeType!==3||(u=i+n),h.nodeType===3&&(i+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===e)break t;if(f===a&&++c===s&&(o=i),f===l&&++d===n&&(u=i),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}a=o===-1||u===-1?null:{start:o,end:u}}else a=null}a=a||{start:0,end:0}}else a=null;for(Oo={focusedElem:e,selectionRange:a},gi=!1,me=t;me!==null;)if(t=me,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,me=e;else for(;me!==null;){switch(t=me,l=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&l!==null){e=void 0,a=t,s=l.memoizedProps,l=l.memoizedState,n=a.stateNode;try{var b=Ra(a.type,s,a.elementType===a.type);e=n.getSnapshotBeforeUpdate(b,l),n.__reactInternalSnapshotBeforeUpdate=e}catch(_){Q(a,a.return,_)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Do(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Do(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(S(163))}if(e=t.sibling,e!==null){e.return=t.return,me=e;break}me=t.return}}function nm(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:zt(e,a),n&4&&Js(5,a);break;case 1:if(zt(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(i){Q(a,a.return,i)}else{var s=Ra(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(i){Q(a,a.return,i)}}n&64&&Fh(a),n&512&&ms(a,a.return);break;case 3:if(zt(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{sh(e,t)}catch(i){Q(a,a.return,i)}}break;case 27:t===null&&n&4&&am(a);case 26:case 5:zt(e,a),t===null&&n&4&&em(a),n&512&&ms(a,a.return);break;case 12:zt(e,a);break;case 13:zt(e,a),n&4&&im(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=My.bind(null,a),Fy(e,a))));break;case 22:if(n=a.memoizedState!==null||bt,!n){t=t!==null&&t.memoizedState!==null||le,s=bt;var l=le;bt=n,(le=t)&&!l?Lt(e,a,(a.subtreeFlags&8772)!==0):zt(e,a),bt=s,le=l}break;case 30:break;default:zt(e,a)}}function sm(e){var t=e.alternate;t!==null&&(e.alternate=null,sm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&lu(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var I=null,Oe=!1;function yt(e,t,a){for(a=a.child;a!==null;)lm(e,t,a),a=a.sibling}function lm(e,t,a){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount(Hs,a)}catch{}switch(a.tag){case 26:le||ot(a,t),yt(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:le||ot(a,t);var n=I,s=Oe;ua(a.type)&&(I=a.stateNode,Oe=!1),yt(e,t,a),vs(a.stateNode),I=n,Oe=s;break;case 5:le||ot(a,t);case 6:if(n=I,s=Oe,I=null,yt(e,t,a),I=n,Oe=s,I!==null)if(Oe)try{(I.nodeType===9?I.body:I.nodeName==="HTML"?I.ownerDocument.body:I).removeChild(a.stateNode)}catch(l){Q(a,t,l)}else try{I.removeChild(a.stateNode)}catch(l){Q(a,t,l)}break;case 18:I!==null&&(Oe?(e=I,gd(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),zs(e)):gd(I,a.stateNode));break;case 4:n=I,s=Oe,I=a.stateNode.containerInfo,Oe=!0,yt(e,t,a),I=n,Oe=s;break;case 0:case 11:case 14:case 15:le||ia(2,a,t),le||ia(4,a,t),yt(e,t,a);break;case 1:le||(ot(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&Wh(a,t,n)),yt(e,t,a);break;case 21:yt(e,t,a);break;case 22:le=(n=le)||a.memoizedState!==null,yt(e,t,a),le=n;break;default:yt(e,t,a)}}function im(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{zs(e)}catch(a){Q(t,t.return,a)}}function Ay(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new nd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new nd),t;default:throw Error(S(435,e.tag))}}function pr(e,t){var a=Ay(e);t.forEach(function(n){var s=Uy.bind(null,e,n);a.has(n)||(a.add(n),n.then(s,s))})}function Me(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var s=a[n],l=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 27:if(ua(o.type)){I=o.stateNode,Oe=!1;break e}break;case 5:I=o.stateNode,Oe=!1;break e;case 3:case 4:I=o.stateNode.containerInfo,Oe=!0;break e}o=o.return}if(I===null)throw Error(S(160));lm(l,i,s),I=null,Oe=!1,l=s.alternate,l!==null&&(l.return=null),s.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)rm(t,e),t=t.sibling}var tt=null;function rm(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Me(t,e),Ue(e),n&4&&(ia(3,e,e.return),Js(3,e),ia(5,e,e.return));break;case 1:Me(t,e),Ue(e),n&512&&(le||a===null||ot(a,a.return)),n&64&&bt&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var s=tt;if(Me(t,e),Ue(e),n&512&&(le||a===null||ot(a,a.return)),n&4){var l=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,s=s.ownerDocument||s;t:switch(n){case"title":l=s.getElementsByTagName("title")[0],(!l||l[Gs]||l[_e]||l.namespaceURI==="http://www.w3.org/2000/svg"||l.hasAttribute("itemprop"))&&(l=s.createElement(n),s.head.insertBefore(l,s.querySelector("head > title"))),xe(l,n,a),l[_e]=e,ge(l),n=l;break e;case"link":var i=xd("link","href",s).get(n+(a.href||""));if(i){for(var o=0;o<i.length;o++)if(l=i[o],l.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&l.getAttribute("rel")===(a.rel==null?null:a.rel)&&l.getAttribute("title")===(a.title==null?null:a.title)&&l.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){i.splice(o,1);break t}}l=s.createElement(n),xe(l,n,a),s.head.appendChild(l);break;case"meta":if(i=xd("meta","content",s).get(n+(a.content||""))){for(o=0;o<i.length;o++)if(l=i[o],l.getAttribute("content")===(a.content==null?null:""+a.content)&&l.getAttribute("name")===(a.name==null?null:a.name)&&l.getAttribute("property")===(a.property==null?null:a.property)&&l.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&l.getAttribute("charset")===(a.charSet==null?null:a.charSet)){i.splice(o,1);break t}}l=s.createElement(n),xe(l,n,a),s.head.appendChild(l);break;default:throw Error(S(468,n))}l[_e]=e,ge(l),n=l}e.stateNode=n}else _d(s,e.type,e.stateNode);else e.stateNode=bd(s,n,e.memoizedProps);else l!==n?(l===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):l.count--,n===null?_d(s,e.type,e.stateNode):bd(s,n,e.memoizedProps)):n===null&&e.stateNode!==null&&mr(e,e.memoizedProps,a.memoizedProps)}break;case 27:Me(t,e),Ue(e),n&512&&(le||a===null||ot(a,a.return)),a!==null&&n&4&&mr(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Me(t,e),Ue(e),n&512&&(le||a===null||ot(a,a.return)),e.flags&32){s=e.stateNode;try{Sn(s,"")}catch(m){Q(e,e.return,m)}}n&4&&e.stateNode!=null&&(s=e.memoizedProps,mr(e,s,a!==null?a.memoizedProps:s)),n&1024&&(yr=!0);break;case 6:if(Me(t,e),Ue(e),n&4){if(e.stateNode===null)throw Error(S(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(m){Q(e,e.return,m)}}break;case 3:if(Hl=null,s=tt,tt=fi(t.containerInfo),Me(t,e),tt=s,Ue(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{zs(t.containerInfo)}catch(m){Q(e,e.return,m)}yr&&(yr=!1,om(e));break;case 4:n=tt,tt=fi(e.stateNode.containerInfo),Me(t,e),Ue(e),tt=n;break;case 12:Me(t,e),Ue(e);break;case 13:Me(t,e),Ue(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Lu=ct()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,pr(e,n)));break;case 22:s=e.memoizedState!==null;var u=a!==null&&a.memoizedState!==null,c=bt,d=le;if(bt=c||s,le=d||u,Me(t,e),le=d,bt=c,Ue(e),n&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(a===null||u||bt||le||pa(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){u=a=t;try{if(l=u.stateNode,s)i=l.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none";else{o=u.stateNode;var h=u.memoizedProps.style,f=h!=null&&h.hasOwnProperty("display")?h.display:null;o.style.display=f==null||typeof f=="boolean"?"":(""+f).trim()}}catch(m){Q(u,u.return,m)}}}else if(t.tag===6){if(a===null){u=t;try{u.stateNode.nodeValue=s?"":u.memoizedProps}catch(m){Q(u,u.return,m)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,pr(e,a))));break;case 19:Me(t,e),Ue(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,pr(e,n)));break;case 30:break;case 21:break;default:Me(t,e),Ue(e)}}function Ue(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(tm(n)){a=n;break}n=n.return}if(a==null)throw Error(S(160));switch(a.tag){case 27:var s=a.stateNode,l=gr(e);li(e,l,s);break;case 5:var i=a.stateNode;a.flags&32&&(Sn(i,""),a.flags&=-33);var o=gr(e);li(e,o,i);break;case 3:case 4:var u=a.stateNode.containerInfo,c=gr(e);xo(e,c,u);break;default:throw Error(S(161))}}catch(d){Q(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function om(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;om(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function zt(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)nm(e,t.alternate,t),t=t.sibling}function pa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ia(4,t,t.return),pa(t);break;case 1:ot(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Wh(t,t.return,a),pa(t);break;case 27:vs(t.stateNode);case 26:case 5:ot(t,t.return),pa(t);break;case 22:t.memoizedState===null&&pa(t);break;case 30:pa(t);break;default:pa(t)}e=e.sibling}}function Lt(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,s=e,l=t,i=l.flags;switch(l.tag){case 0:case 11:case 15:Lt(s,l,a),Js(4,l);break;case 1:if(Lt(s,l,a),n=l,s=n.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(c){Q(n,n.return,c)}if(n=l,s=n.updateQueue,s!==null){var o=n.stateNode;try{var u=s.shared.hiddenCallbacks;if(u!==null)for(s.shared.hiddenCallbacks=null,s=0;s<u.length;s++)nh(u[s],o)}catch(c){Q(n,n.return,c)}}a&&i&64&&Fh(l),ms(l,l.return);break;case 27:am(l);case 26:case 5:Lt(s,l,a),a&&n===null&&i&4&&em(l),ms(l,l.return);break;case 12:Lt(s,l,a);break;case 13:Lt(s,l,a),a&&i&4&&im(s,l);break;case 22:l.memoizedState===null&&Lt(s,l,a),ms(l,l.return);break;case 30:break;default:Lt(s,l,a)}t=t.sibling}}function Mu(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Qs(a))}function Uu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Qs(e))}function lt(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)um(e,t,a,n),t=t.sibling}function um(e,t,a,n){var s=t.flags;switch(t.tag){case 0:case 11:case 15:lt(e,t,a,n),s&2048&&Js(9,t);break;case 1:lt(e,t,a,n);break;case 3:lt(e,t,a,n),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Qs(e)));break;case 12:if(s&2048){lt(e,t,a,n),e=t.stateNode;try{var l=t.memoizedProps,i=l.id,o=l.onPostCommit;typeof o=="function"&&o(i,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(u){Q(t,t.return,u)}}else lt(e,t,a,n);break;case 13:lt(e,t,a,n);break;case 23:break;case 22:l=t.stateNode,i=t.alternate,t.memoizedState!==null?l._visibility&2?lt(e,t,a,n):gs(e,t):l._visibility&2?lt(e,t,a,n):(l._visibility|=2,Pa(e,t,a,n,(t.subtreeFlags&10256)!==0)),s&2048&&Mu(i,t);break;case 24:lt(e,t,a,n),s&2048&&Uu(t.alternate,t);break;default:lt(e,t,a,n)}}function Pa(e,t,a,n,s){for(s=s&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var l=e,i=t,o=a,u=n,c=i.flags;switch(i.tag){case 0:case 11:case 15:Pa(l,i,o,u,s),Js(8,i);break;case 23:break;case 22:var d=i.stateNode;i.memoizedState!==null?d._visibility&2?Pa(l,i,o,u,s):gs(l,i):(d._visibility|=2,Pa(l,i,o,u,s)),s&&c&2048&&Mu(i.alternate,i);break;case 24:Pa(l,i,o,u,s),s&&c&2048&&Uu(i.alternate,i);break;default:Pa(l,i,o,u,s)}t=t.sibling}}function gs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,s=n.flags;switch(n.tag){case 22:gs(a,n),s&2048&&Mu(n.alternate,n);break;case 24:gs(a,n),s&2048&&Uu(n.alternate,n);break;default:gs(a,n)}t=t.sibling}}var ts=8192;function Ha(e){if(e.subtreeFlags&ts)for(e=e.child;e!==null;)cm(e),e=e.sibling}function cm(e){switch(e.tag){case 26:Ha(e),e.flags&ts&&e.memoizedState!==null&&dp(tt,e.memoizedState,e.memoizedProps);break;case 5:Ha(e);break;case 3:case 4:var t=tt;tt=fi(e.stateNode.containerInfo),Ha(e),tt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=ts,ts=16777216,Ha(e),ts=t):Ha(e));break;default:Ha(e)}}function dm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Zn(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];me=n,hm(n,e)}dm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)fm(e),e=e.sibling}function fm(e){switch(e.tag){case 0:case 11:case 15:Zn(e),e.flags&2048&&ia(9,e,e.return);break;case 3:Zn(e);break;case 12:Zn(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Bl(e)):Zn(e);break;default:Zn(e)}}function Bl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];me=n,hm(n,e)}dm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ia(8,t,t.return),Bl(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Bl(t));break;default:Bl(t)}e=e.sibling}}function hm(e,t){for(;me!==null;){var a=me;switch(a.tag){case 0:case 11:case 15:ia(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Qs(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,me=n;else e:for(a=e;me!==null;){n=me;var s=n.sibling,l=n.return;if(sm(n),n===a){me=null;break e}if(s!==null){s.return=l,me=s;break e}me=l}}}var Ey={getCacheForType:function(e){var t=Se(ce),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},Ty=typeof WeakMap=="function"?WeakMap:Map,Y=0,Z=null,L=null,H=0,G=0,ze=null,Pt=!1,zn=!1,zu=!1,kt=0,ae=0,ra=0,Aa=0,Bu=0,Je=0,En=0,ys=null,Ce=null,_o=!1,Lu=0,ii=1/0,ri=null,ea=null,be=0,ta=null,Tn=null,bn=0,So=0,wo=null,mm=null,ps=0,jo=null;function qe(){if(Y&2&&H!==0)return H&-H;if(O.T!==null){var e=wn;return e!==0?e:qu()}return Nf()}function gm(){Je===0&&(Je=!(H&536870912)||q?_f():536870912);var e=Fe.current;return e!==null&&(e.flags|=32),Je}function $e(e,t,a){(e===Z&&(G===2||G===9)||e.cancelPendingCommit!==null)&&(On(e,0),Jt(e,H,Je,!1)),$s(e,a),(!(Y&2)||e!==Z)&&(e===Z&&(!(Y&2)&&(Aa|=a),ae===4&&Jt(e,H,Je,!1)),ht(e))}function ym(e,t,a){if(Y&6)throw Error(S(327));var n=!a&&(t&124)===0&&(t&e.expiredLanes)===0||qs(e,t),s=n?Dy(e,t):vr(e,t,!0),l=n;do{if(s===0){zn&&!n&&Jt(e,t,0,!1);break}else{if(a=e.current.alternate,l&&!Oy(a)){s=vr(e,t,!1),l=!1;continue}if(s===2){if(l=t,e.errorRecoveryDisabledLanes&l)var i=0;else i=e.pendingLanes&-536870913,i=i!==0?i:i&536870912?536870912:0;if(i!==0){t=i;e:{var o=e;s=ys;var u=o.current.memoizedState.isDehydrated;if(u&&(On(o,i).flags|=256),i=vr(o,i,!1),i!==2){if(zu&&!u){o.errorRecoveryDisabledLanes|=l,Aa|=l,s=4;break e}l=Ce,Ce=s,l!==null&&(Ce===null?Ce=l:Ce.push.apply(Ce,l))}s=i}if(l=!1,s!==2)continue}}if(s===1){On(e,0),Jt(e,t,0,!0);break}e:{switch(n=e,l=s,l){case 0:case 1:throw Error(S(345));case 4:if((t&4194048)!==t)break;case 6:Jt(n,t,Je,!Pt);break e;case 2:Ce=null;break;case 3:case 5:break;default:throw Error(S(329))}if((t&62914560)===t&&(s=Lu+300-ct(),10<s)){if(Jt(n,t,Je,!Pt),Si(n,0,!0)!==0)break e;n.timeoutHandle=Um(sd.bind(null,n,a,Ce,ri,_o,t,Je,Aa,En,Pt,l,2,-0,0),s);break e}sd(n,a,Ce,ri,_o,t,Je,Aa,En,Pt,l,0,-0,0)}}break}while(!0);ht(e)}function sd(e,t,a,n,s,l,i,o,u,c,d,h,f,m){if(e.timeoutHandle=-1,h=t.subtreeFlags,(h&8192||(h&16785408)===16785408)&&(ks={stylesheets:null,count:0,unsuspend:cp},cm(t),h=fp(),h!==null)){e.cancelPendingCommit=h(id.bind(null,e,t,l,a,n,s,i,o,u,d,1,f,m)),Jt(e,l,i,!c);return}id(e,t,l,a,n,s,i,o,u)}function Oy(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var s=a[n],l=s.getSnapshot;s=s.value;try{if(!Ge(l(),s))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jt(e,t,a,n){t&=~Bu,t&=~Aa,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var s=t;0<s;){var l=31-He(s),i=1<<l;n[l]=-1,s&=~i}a!==0&&wf(e,a,t)}function ki(){return Y&6?!0:(Is(0),!1)}function Hu(){if(L!==null){if(G===0)var e=L.return;else e=L,jt=Ba=null,Nu(e),vn=null,Os=0,e=L;for(;e!==null;)Ih(e.alternate,e),e=e.return;L=null}}function On(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Xy(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Hu(),Z=e,L=a=At(e.current,null),H=t,G=0,ze=null,Pt=!1,zn=qs(e,t),zu=!1,En=Je=Bu=Aa=ra=ae=0,Ce=ys=null,_o=!1,t&8&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var s=31-He(n),l=1<<s;t|=e[s],n&=~l}return kt=t,Ai(),a}function pm(e,t){k=null,O.H=ei,t===Xs||t===Ti?(t=zc(),G=3):t===th?(t=zc(),G=4):G=t===Kh?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,ze=t,L===null&&(ae=1,ni(e,Pe(t,e.current)))}function vm(){var e=O.H;return O.H=ei,e===null?ei:e}function bm(){var e=O.A;return O.A=Ey,e}function No(){ae=4,Pt||(H&4194048)!==H&&Fe.current!==null||(zn=!0),!(ra&134217727)&&!(Aa&134217727)||Z===null||Jt(Z,H,Je,!1)}function vr(e,t,a){var n=Y;Y|=2;var s=vm(),l=bm();(Z!==e||H!==t)&&(ri=null,On(e,t)),t=!1;var i=ae;e:do try{if(G!==0&&L!==null){var o=L,u=ze;switch(G){case 8:Hu(),i=6;break e;case 3:case 2:case 9:case 6:Fe.current===null&&(t=!0);var c=G;if(G=0,ze=null,dn(e,o,u,c),a&&zn){i=0;break e}break;default:c=G,G=0,ze=null,dn(e,o,u,c)}}Cy(),i=ae;break}catch(d){pm(e,d)}while(!0);return t&&e.shellSuspendCounter++,jt=Ba=null,Y=n,O.H=s,O.A=l,L===null&&(Z=null,H=0,Ai()),i}function Cy(){for(;L!==null;)xm(L)}function Dy(e,t){var a=Y;Y|=2;var n=vm(),s=bm();Z!==e||H!==t?(ri=null,ii=ct()+500,On(e,t)):zn=qs(e,t);e:do try{if(G!==0&&L!==null){t=L;var l=ze;t:switch(G){case 1:G=0,ze=null,dn(e,t,l,1);break;case 2:case 9:if(Uc(l)){G=0,ze=null,ld(t);break}t=function(){G!==2&&G!==9||Z!==e||(G=7),ht(e)},l.then(t,t);break e;case 3:G=7;break e;case 4:G=5;break e;case 7:Uc(l)?(G=0,ze=null,ld(t)):(G=0,ze=null,dn(e,t,l,7));break;case 5:var i=null;switch(L.tag){case 26:i=L.memoizedState;case 5:case 27:var o=L;if(!i||Hm(i)){G=0,ze=null;var u=o.sibling;if(u!==null)L=u;else{var c=o.return;c!==null?(L=c,Ri(c)):L=null}break t}}G=0,ze=null,dn(e,t,l,5);break;case 6:G=0,ze=null,dn(e,t,l,6);break;case 8:Hu(),ae=6;break e;default:throw Error(S(462))}}ky();break}catch(d){pm(e,d)}while(!0);return jt=Ba=null,O.H=n,O.A=s,Y=a,L!==null?0:(Z=null,H=0,Ai(),ae)}function ky(){for(;L!==null&&!e0();)xm(L)}function xm(e){var t=Jh(e.alternate,e,kt);e.memoizedProps=e.pendingProps,t===null?Ri(e):L=t}function ld(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Fc(a,t,t.pendingProps,t.type,void 0,H);break;case 11:t=Fc(a,t,t.pendingProps,t.type.render,t.ref,H);break;case 5:Nu(t);default:Ih(a,t),t=L=If(t,kt),t=Jh(a,t,kt)}e.memoizedProps=e.pendingProps,t===null?Ri(e):L=t}function dn(e,t,a,n){jt=Ba=null,Nu(t),vn=null,Os=0;var s=t.return;try{if(_y(e,s,t,a,H)){ae=1,ni(e,Pe(a,e.current)),L=null;return}}catch(l){if(s!==null)throw L=s,l;ae=1,ni(e,Pe(a,e.current)),L=null;return}t.flags&32768?(q||n===1?e=!0:zn||H&536870912?e=!1:(Pt=e=!0,(n===2||n===9||n===3||n===6)&&(n=Fe.current,n!==null&&n.tag===13&&(n.flags|=16384))),_m(t,e)):Ri(t)}function Ri(e){var t=e;do{if(t.flags&32768){_m(t,Pt);return}e=t.return;var a=wy(t.alternate,t,kt);if(a!==null){L=a;return}if(t=t.sibling,t!==null){L=t;return}L=t=e}while(t!==null);ae===0&&(ae=5)}function _m(e,t){do{var a=jy(e.alternate,e);if(a!==null){a.flags&=32767,L=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){L=e;return}L=e=a}while(e!==null);ae=6,L=null}function id(e,t,a,n,s,l,i,o,u){e.cancelPendingCommit=null;do Mi();while(be!==0);if(Y&6)throw Error(S(327));if(t!==null){if(t===e.current)throw Error(S(177));if(l=t.lanes|t.childLanes,l|=fu,c0(e,a,l,i,o,u),e===Z&&(L=Z=null,H=0),Tn=t,ta=e,bn=a,So=l,wo=s,mm=n,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,zy(Vl,function(){return Am(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,t.subtreeFlags&13878||n){n=O.T,O.T=null,s=$.p,$.p=2,i=Y,Y|=4;try{Ny(e,t,a)}finally{Y=i,$.p=s,O.T=n}}be=1,Sm(),wm(),jm()}}function Sm(){if(be===1){be=0;var e=ta,t=Tn,a=(t.flags&13878)!==0;if(t.subtreeFlags&13878||a){a=O.T,O.T=null;var n=$.p;$.p=2;var s=Y;Y|=4;try{rm(t,e);var l=Oo,i=Yf(e.containerInfo),o=l.focusedElem,u=l.selectionRange;if(i!==o&&o&&o.ownerDocument&&Gf(o.ownerDocument.documentElement,o)){if(u!==null&&du(o)){var c=u.start,d=u.end;if(d===void 0&&(d=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(d,o.value.length);else{var h=o.ownerDocument||document,f=h&&h.defaultView||window;if(f.getSelection){var m=f.getSelection(),b=o.textContent.length,_=Math.min(u.start,b),x=u.end===void 0?_:Math.min(u.end,b);!m.extend&&_>x&&(i=x,x=_,_=i);var y=Ec(o,_),g=Ec(o,x);if(y&&g&&(m.rangeCount!==1||m.anchorNode!==y.node||m.anchorOffset!==y.offset||m.focusNode!==g.node||m.focusOffset!==g.offset)){var p=h.createRange();p.setStart(y.node,y.offset),m.removeAllRanges(),_>x?(m.addRange(p),m.extend(g.node,g.offset)):(p.setEnd(g.node,g.offset),m.addRange(p))}}}}for(h=[],m=o;m=m.parentNode;)m.nodeType===1&&h.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<h.length;o++){var v=h[o];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}gi=!!To,Oo=To=null}finally{Y=s,$.p=n,O.T=a}}e.current=t,be=2}}function wm(){if(be===2){be=0;var e=ta,t=Tn,a=(t.flags&8772)!==0;if(t.subtreeFlags&8772||a){a=O.T,O.T=null;var n=$.p;$.p=2;var s=Y;Y|=4;try{nm(e,t.alternate,t)}finally{Y=s,$.p=n,O.T=a}}be=3}}function jm(){if(be===4||be===3){be=0,t0();var e=ta,t=Tn,a=bn,n=mm;t.subtreeFlags&10256||t.flags&10256?be=5:(be=0,Tn=ta=null,Nm(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(ea=null),su(a),t=t.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot(Hs,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=O.T,s=$.p,$.p=2,O.T=null;try{for(var l=e.onRecoverableError,i=0;i<n.length;i++){var o=n[i];l(o.value,{componentStack:o.stack})}}finally{O.T=t,$.p=s}}bn&3&&Mi(),ht(e),s=e.pendingLanes,a&4194090&&s&42?e===jo?ps++:(ps=0,jo=e):ps=0,Is(0)}}function Nm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Qs(t)))}function Mi(e){return Sm(),wm(),jm(),Am()}function Am(){if(be!==5)return!1;var e=ta,t=So;So=0;var a=su(bn),n=O.T,s=$.p;try{$.p=32>a?32:a,O.T=null,a=wo,wo=null;var l=ta,i=bn;if(be=0,Tn=ta=null,bn=0,Y&6)throw Error(S(331));var o=Y;if(Y|=4,fm(l.current),um(l,l.current,i,a),Y=o,Is(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot(Hs,l)}catch{}return!0}finally{$.p=s,O.T=n,Nm(e,t)}}function rd(e,t,a){t=Pe(a,t),t=po(e.stateNode,t,2),e=Wt(e,t,2),e!==null&&($s(e,2),ht(e))}function Q(e,t,a){if(e.tag===3)rd(e,e,a);else for(;t!==null;){if(t.tag===3){rd(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ea===null||!ea.has(n))){e=Pe(a,e),a=Yh(2),n=Wt(t,a,2),n!==null&&(Vh(a,n,t,e),$s(n,2),ht(n));break}}t=t.return}}function br(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new Ty;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(a)||(zu=!0,s.add(a),e=Ry.bind(null,e,t,a),t.then(e,e))}function Ry(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Z===e&&(H&a)===a&&(ae===4||ae===3&&(H&62914560)===H&&300>ct()-Lu?!(Y&2)&&On(e,0):Bu|=a,En===H&&(En=0)),ht(e)}function Em(e,t){t===0&&(t=Sf()),e=Un(e,t),e!==null&&($s(e,t),ht(e))}function My(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Em(e,a)}function Uy(e,t){var a=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(a=s.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(S(314))}n!==null&&n.delete(t),Em(e,a)}function zy(e,t){return au(e,t)}var oi=null,Ja=null,Ao=!1,ui=!1,xr=!1,Ea=0;function ht(e){e!==Ja&&e.next===null&&(Ja===null?oi=Ja=e:Ja=Ja.next=e),ui=!0,Ao||(Ao=!0,Ly())}function Is(e,t){if(!xr&&ui){xr=!0;do for(var a=!1,n=oi;n!==null;){if(e!==0){var s=n.pendingLanes;if(s===0)var l=0;else{var i=n.suspendedLanes,o=n.pingedLanes;l=(1<<31-He(42|e)+1)-1,l&=s&~(i&~o),l=l&201326741?l&201326741|1:l?l|2:0}l!==0&&(a=!0,od(n,l))}else l=H,l=Si(n,n===Z?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),!(l&3)||qs(n,l)||(a=!0,od(n,l));n=n.next}while(a);xr=!1}}function By(){Tm()}function Tm(){ui=Ao=!1;var e=0;Ea!==0&&(Qy()&&(e=Ea),Ea=0);for(var t=ct(),a=null,n=oi;n!==null;){var s=n.next,l=Om(n,t);l===0?(n.next=null,a===null?oi=s:a.next=s,s===null&&(Ja=a)):(a=n,(e!==0||l&3)&&(ui=!0)),n=s}Is(e)}function Om(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,l=e.pendingLanes&-62914561;0<l;){var i=31-He(l),o=1<<i,u=s[i];u===-1?(!(o&a)||o&n)&&(s[i]=u0(o,t)):u<=t&&(e.expiredLanes|=o),l&=~o}if(t=Z,a=H,a=Si(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(G===2||G===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&Qi(n),e.callbackNode=null,e.callbackPriority=0;if(!(a&3)||qs(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&Qi(n),su(a)){case 2:case 8:a=bf;break;case 32:a=Vl;break;case 268435456:a=xf;break;default:a=Vl}return n=Cm.bind(null,e),a=au(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&Qi(n),e.callbackPriority=2,e.callbackNode=null,2}function Cm(e,t){if(be!==0&&be!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Mi()&&e.callbackNode!==a)return null;var n=H;return n=Si(e,e===Z?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(ym(e,n,t),Om(e,ct()),e.callbackNode!=null&&e.callbackNode===a?Cm.bind(null,e):null)}function od(e,t){if(Mi())return null;ym(e,t,!0)}function Ly(){Zy(function(){Y&6?au(vf,By):Tm()})}function qu(){return Ea===0&&(Ea=_f()),Ea}function ud(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ol(""+e)}function cd(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Hy(e,t,a,n,s){if(t==="submit"&&a&&a.stateNode===s){var l=ud((s[ke]||null).action),i=n.submitter;i&&(t=(t=i[ke]||null)?ud(t.formAction):i.getAttribute("formAction"),t!==null&&(l=t,i=null));var o=new wi("action","action",null,n,s);e.push({event:o,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(Ea!==0){var u=i?cd(s,i):new FormData(s);go(a,{pending:!0,data:u,method:s.method,action:l},null,u)}}else typeof l=="function"&&(o.preventDefault(),u=i?cd(s,i):new FormData(s),go(a,{pending:!0,data:u,method:s.method,action:l},l,u))},currentTarget:s}]})}}for(var _r=0;_r<ao.length;_r++){var Sr=ao[_r],qy=Sr.toLowerCase(),$y=Sr[0].toUpperCase()+Sr.slice(1);st(qy,"on"+$y)}st(Kf,"onAnimationEnd");st(Qf,"onAnimationIteration");st(Xf,"onAnimationStart");st("dblclick","onDoubleClick");st("focusin","onFocus");st("focusout","onBlur");st(sy,"onTransitionRun");st(ly,"onTransitionStart");st(iy,"onTransitionCancel");st(Zf,"onTransitionEnd");_n("onMouseEnter",["mouseout","mouseover"]);_n("onMouseLeave",["mouseout","mouseover"]);_n("onPointerEnter",["pointerout","pointerover"]);_n("onPointerLeave",["pointerout","pointerover"]);Ma("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ma("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ma("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ma("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ma("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ma("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cs));function Dm(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],s=n.event;n=n.listeners;e:{var l=void 0;if(t)for(var i=n.length-1;0<=i;i--){var o=n[i],u=o.instance,c=o.currentTarget;if(o=o.listener,u!==l&&s.isPropagationStopped())break e;l=o,s.currentTarget=c;try{l(s)}catch(d){ai(d)}s.currentTarget=null,l=u}else for(i=0;i<n.length;i++){if(o=n[i],u=o.instance,c=o.currentTarget,o=o.listener,u!==l&&s.isPropagationStopped())break e;l=o,s.currentTarget=c;try{l(s)}catch(d){ai(d)}s.currentTarget=null,l=u}}}}function B(e,t){var a=t[Pr];a===void 0&&(a=t[Pr]=new Set);var n=e+"__bubble";a.has(n)||(km(t,e,2,!1),a.add(n))}function wr(e,t,a){var n=0;t&&(n|=4),km(a,e,n,t)}var yl="_reactListening"+Math.random().toString(36).slice(2);function $u(e){if(!e[yl]){e[yl]=!0,Af.forEach(function(a){a!=="selectionchange"&&(Gy.has(a)||wr(a,!1,e),wr(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[yl]||(t[yl]=!0,wr("selectionchange",!1,t))}}function km(e,t,a,n){switch(Vm(t)){case 2:var s=gp;break;case 8:s=yp;break;default:s=Ku}a=s.bind(null,t,a,e),s=void 0,!Wr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,a,{capture:!0,passive:s}):e.addEventListener(t,a,!0):s!==void 0?e.addEventListener(t,a,{passive:s}):e.addEventListener(t,a,!1)}function jr(e,t,a,n,s){var l=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var o=n.stateNode.containerInfo;if(o===s)break;if(i===4)for(i=n.return;i!==null;){var u=i.tag;if((u===3||u===4)&&i.stateNode.containerInfo===s)return;i=i.return}for(;o!==null;){if(i=tn(o),i===null)return;if(u=i.tag,u===5||u===6||u===26||u===27){n=l=i;continue e}o=o.parentNode}}n=n.return}Mf(function(){var c=l,d=ru(a),h=[];e:{var f=Pf.get(e);if(f!==void 0){var m=wi,b=e;switch(e){case"keypress":if(Dl(a)===0)break e;case"keydown":case"keyup":m=z0;break;case"focusin":b="focus",m=er;break;case"focusout":b="blur",m=er;break;case"beforeblur":case"afterblur":m=er;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=pc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=j0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=H0;break;case Kf:case Qf:case Xf:m=E0;break;case Zf:m=$0;break;case"scroll":case"scrollend":m=S0;break;case"wheel":m=Y0;break;case"copy":case"cut":case"paste":m=O0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=bc;break;case"toggle":case"beforetoggle":m=K0}var _=(t&4)!==0,x=!_&&(e==="scroll"||e==="scrollend"),y=_?f!==null?f+"Capture":null:f;_=[];for(var g=c,p;g!==null;){var v=g;if(p=v.stateNode,v=v.tag,v!==5&&v!==26&&v!==27||p===null||y===null||(v=js(g,y),v!=null&&_.push(Ds(g,v,p))),x)break;g=g.return}0<_.length&&(f=new m(f,b,null,a,d),h.push({event:f,listeners:_}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&a!==Fr&&(b=a.relatedTarget||a.fromElement)&&(tn(b)||b[Rn]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(b=a.relatedTarget||a.toElement,m=c,b=b?tn(b):null,b!==null&&(x=Ls(b),_=b.tag,b!==x||_!==5&&_!==27&&_!==6)&&(b=null)):(m=null,b=c),m!==b)){if(_=pc,v="onMouseLeave",y="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(_=bc,v="onPointerLeave",y="onPointerEnter",g="pointer"),x=m==null?f:es(m),p=b==null?f:es(b),f=new _(v,g+"leave",m,a,d),f.target=x,f.relatedTarget=p,v=null,tn(d)===c&&(_=new _(y,g+"enter",b,a,d),_.target=p,_.relatedTarget=x,v=_),x=v,m&&b)t:{for(_=m,y=b,g=0,p=_;p;p=qa(p))g++;for(p=0,v=y;v;v=qa(v))p++;for(;0<g-p;)_=qa(_),g--;for(;0<p-g;)y=qa(y),p--;for(;g--;){if(_===y||y!==null&&_===y.alternate)break t;_=qa(_),y=qa(y)}_=null}else _=null;m!==null&&dd(h,f,m,_,!1),b!==null&&x!==null&&dd(h,x,b,_,!0)}}e:{if(f=c?es(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var j=wc;else if(Sc(f))if(qf)j=ty;else{j=W0;var N=F0}else m=f.nodeName,!m||m.toLowerCase()!=="input"||f.type!=="checkbox"&&f.type!=="radio"?c&&iu(c.elementType)&&(j=wc):j=ey;if(j&&(j=j(e,c))){Hf(h,j,a,d);break e}N&&N(e,f,c),e==="focusout"&&c&&f.type==="number"&&c.memoizedProps.value!=null&&Ir(f,"number",f.value)}switch(N=c?es(c):window,e){case"focusin":(Sc(N)||N.contentEditable==="true")&&(sn=N,eo=c,rs=null);break;case"focusout":rs=eo=sn=null;break;case"mousedown":to=!0;break;case"contextmenu":case"mouseup":case"dragend":to=!1,Tc(h,a,d);break;case"selectionchange":if(ny)break;case"keydown":case"keyup":Tc(h,a,d)}var w;if(cu)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else nn?Bf(e,a)&&(A="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(A="onCompositionStart");A&&(zf&&a.locale!=="ko"&&(nn||A!=="onCompositionStart"?A==="onCompositionEnd"&&nn&&(w=Uf()):(Zt=d,ou="value"in Zt?Zt.value:Zt.textContent,nn=!0)),N=ci(c,A),0<N.length&&(A=new vc(A,e,null,a,d),h.push({event:A,listeners:N}),w?A.data=w:(w=Lf(a),w!==null&&(A.data=w)))),(w=X0?Z0(e,a):P0(e,a))&&(A=ci(c,"onBeforeInput"),0<A.length&&(N=new vc("onBeforeInput","beforeinput",null,a,d),h.push({event:N,listeners:A}),N.data=w)),Hy(h,e,c,a,d)}Dm(h,t)})}function Ds(e,t,a){return{instance:e,listener:t,currentTarget:a}}function ci(e,t){for(var a=t+"Capture",n=[];e!==null;){var s=e,l=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||l===null||(s=js(e,a),s!=null&&n.unshift(Ds(e,s,l)),s=js(e,t),s!=null&&n.push(Ds(e,s,l))),e.tag===3)return n;e=e.return}return[]}function qa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function dd(e,t,a,n,s){for(var l=t._reactName,i=[];a!==null&&a!==n;){var o=a,u=o.alternate,c=o.stateNode;if(o=o.tag,u!==null&&u===n)break;o!==5&&o!==26&&o!==27||c===null||(u=c,s?(c=js(a,l),c!=null&&i.unshift(Ds(a,c,u))):s||(c=js(a,l),c!=null&&i.push(Ds(a,c,u)))),a=a.return}i.length!==0&&e.push({event:t,listeners:i})}var Yy=/\r\n?/g,Vy=/\u0000|\uFFFD/g;function fd(e){return(typeof e=="string"?e:""+e).replace(Yy,`
`).replace(Vy,"")}function Rm(e,t){return t=fd(t),fd(e)===t}function Ui(){}function V(e,t,a,n,s,l){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||Sn(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&Sn(e,""+n);break;case"className":ul(e,"class",n);break;case"tabIndex":ul(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":ul(e,a,n);break;case"style":Rf(e,n,l);break;case"data":if(t!=="object"){ul(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Ol(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof l=="function"&&(a==="formAction"?(t!=="input"&&V(e,t,"name",s.name,s,null),V(e,t,"formEncType",s.formEncType,s,null),V(e,t,"formMethod",s.formMethod,s,null),V(e,t,"formTarget",s.formTarget,s,null)):(V(e,t,"encType",s.encType,s,null),V(e,t,"method",s.method,s,null),V(e,t,"target",s.target,s,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Ol(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=Ui);break;case"onScroll":n!=null&&B("scroll",e);break;case"onScrollEnd":n!=null&&B("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(S(61));if(a=n.__html,a!=null){if(s.children!=null)throw Error(S(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=Ol(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":B("beforetoggle",e),B("toggle",e),Tl(e,"popover",n);break;case"xlinkActuate":mt(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":mt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":mt(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":mt(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":mt(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":mt(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":mt(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":mt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":mt(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":Tl(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=x0.get(a)||a,Tl(e,a,n))}}function Eo(e,t,a,n,s,l){switch(a){case"style":Rf(e,n,l);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(S(61));if(a=n.__html,a!=null){if(s.children!=null)throw Error(S(60));e.innerHTML=a}}break;case"children":typeof n=="string"?Sn(e,n):(typeof n=="number"||typeof n=="bigint")&&Sn(e,""+n);break;case"onScroll":n!=null&&B("scroll",e);break;case"onScrollEnd":n!=null&&B("scrollend",e);break;case"onClick":n!=null&&(e.onclick=Ui);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ef.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(s=a.endsWith("Capture"),t=a.slice(2,s?a.length-7:void 0),l=e[ke]||null,l=l!=null?l[a]:null,typeof l=="function"&&e.removeEventListener(t,l,s),typeof n=="function")){typeof l!="function"&&l!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,s);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):Tl(e,a,n)}}}function xe(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":B("error",e),B("load",e);var n=!1,s=!1,l;for(l in a)if(a.hasOwnProperty(l)){var i=a[l];if(i!=null)switch(l){case"src":n=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(S(137,t));default:V(e,t,l,i,a,null)}}s&&V(e,t,"srcSet",a.srcSet,a,null),n&&V(e,t,"src",a.src,a,null);return;case"input":B("invalid",e);var o=l=i=s=null,u=null,c=null;for(n in a)if(a.hasOwnProperty(n)){var d=a[n];if(d!=null)switch(n){case"name":s=d;break;case"type":i=d;break;case"checked":u=d;break;case"defaultChecked":c=d;break;case"value":l=d;break;case"defaultValue":o=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(S(137,t));break;default:V(e,t,n,d,a,null)}}Cf(e,l,o,u,c,i,s,!1),Kl(e);return;case"select":B("invalid",e),n=i=l=null;for(s in a)if(a.hasOwnProperty(s)&&(o=a[s],o!=null))switch(s){case"value":l=o;break;case"defaultValue":i=o;break;case"multiple":n=o;default:V(e,t,s,o,a,null)}t=l,a=i,e.multiple=!!n,t!=null?hn(e,!!n,t,!1):a!=null&&hn(e,!!n,a,!0);return;case"textarea":B("invalid",e),l=s=n=null;for(i in a)if(a.hasOwnProperty(i)&&(o=a[i],o!=null))switch(i){case"value":n=o;break;case"defaultValue":s=o;break;case"children":l=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(S(91));break;default:V(e,t,i,o,a,null)}kf(e,n,s,l),Kl(e);return;case"option":for(u in a)if(a.hasOwnProperty(u)&&(n=a[u],n!=null))switch(u){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:V(e,t,u,n,a,null)}return;case"dialog":B("beforetoggle",e),B("toggle",e),B("cancel",e),B("close",e);break;case"iframe":case"object":B("load",e);break;case"video":case"audio":for(n=0;n<Cs.length;n++)B(Cs[n],e);break;case"image":B("error",e),B("load",e);break;case"details":B("toggle",e);break;case"embed":case"source":case"link":B("error",e),B("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in a)if(a.hasOwnProperty(c)&&(n=a[c],n!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(S(137,t));default:V(e,t,c,n,a,null)}return;default:if(iu(t)){for(d in a)a.hasOwnProperty(d)&&(n=a[d],n!==void 0&&Eo(e,t,d,n,a,void 0));return}}for(o in a)a.hasOwnProperty(o)&&(n=a[o],n!=null&&V(e,t,o,n,a,null))}function Ky(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,l=null,i=null,o=null,u=null,c=null,d=null;for(m in a){var h=a[m];if(a.hasOwnProperty(m)&&h!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":u=h;default:n.hasOwnProperty(m)||V(e,t,m,null,n,h)}}for(var f in n){var m=n[f];if(h=a[f],n.hasOwnProperty(f)&&(m!=null||h!=null))switch(f){case"type":l=m;break;case"name":s=m;break;case"checked":c=m;break;case"defaultChecked":d=m;break;case"value":i=m;break;case"defaultValue":o=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(S(137,t));break;default:m!==h&&V(e,t,f,m,n,h)}}Jr(e,i,o,u,c,d,l,s);return;case"select":m=i=o=f=null;for(l in a)if(u=a[l],a.hasOwnProperty(l)&&u!=null)switch(l){case"value":break;case"multiple":m=u;default:n.hasOwnProperty(l)||V(e,t,l,null,n,u)}for(s in n)if(l=n[s],u=a[s],n.hasOwnProperty(s)&&(l!=null||u!=null))switch(s){case"value":f=l;break;case"defaultValue":o=l;break;case"multiple":i=l;default:l!==u&&V(e,t,s,l,n,u)}t=o,a=i,n=m,f!=null?hn(e,!!a,f,!1):!!n!=!!a&&(t!=null?hn(e,!!a,t,!0):hn(e,!!a,a?[]:"",!1));return;case"textarea":m=f=null;for(o in a)if(s=a[o],a.hasOwnProperty(o)&&s!=null&&!n.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:V(e,t,o,null,n,s)}for(i in n)if(s=n[i],l=a[i],n.hasOwnProperty(i)&&(s!=null||l!=null))switch(i){case"value":f=s;break;case"defaultValue":m=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(S(91));break;default:s!==l&&V(e,t,i,s,n,l)}Df(e,f,m);return;case"option":for(var b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!n.hasOwnProperty(b))switch(b){case"selected":e.selected=!1;break;default:V(e,t,b,null,n,f)}for(u in n)if(f=n[u],m=a[u],n.hasOwnProperty(u)&&f!==m&&(f!=null||m!=null))switch(u){case"selected":e.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:V(e,t,u,f,n,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _ in a)f=a[_],a.hasOwnProperty(_)&&f!=null&&!n.hasOwnProperty(_)&&V(e,t,_,null,n,f);for(c in n)if(f=n[c],m=a[c],n.hasOwnProperty(c)&&f!==m&&(f!=null||m!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(S(137,t));break;default:V(e,t,c,f,n,m)}return;default:if(iu(t)){for(var x in a)f=a[x],a.hasOwnProperty(x)&&f!==void 0&&!n.hasOwnProperty(x)&&Eo(e,t,x,void 0,n,f);for(d in n)f=n[d],m=a[d],!n.hasOwnProperty(d)||f===m||f===void 0&&m===void 0||Eo(e,t,d,f,n,m);return}}for(var y in a)f=a[y],a.hasOwnProperty(y)&&f!=null&&!n.hasOwnProperty(y)&&V(e,t,y,null,n,f);for(h in n)f=n[h],m=a[h],!n.hasOwnProperty(h)||f===m||f==null&&m==null||V(e,t,h,f,n,m)}var To=null,Oo=null;function di(e){return e.nodeType===9?e:e.ownerDocument}function hd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Mm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Co(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Nr=null;function Qy(){var e=window.event;return e&&e.type==="popstate"?e===Nr?!1:(Nr=e,!0):(Nr=null,!1)}var Um=typeof setTimeout=="function"?setTimeout:void 0,Xy=typeof clearTimeout=="function"?clearTimeout:void 0,md=typeof Promise=="function"?Promise:void 0,Zy=typeof queueMicrotask=="function"?queueMicrotask:typeof md<"u"?function(e){return md.resolve(null).then(e).catch(Py)}:Um;function Py(e){setTimeout(function(){throw e})}function ua(e){return e==="head"}function gd(e,t){var a=t,n=0,s=0;do{var l=a.nextSibling;if(e.removeChild(a),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(0<n&&8>n){a=n;var i=e.ownerDocument;if(a&1&&vs(i.documentElement),a&2&&vs(i.body),a&4)for(a=i.head,vs(a),i=a.firstChild;i;){var o=i.nextSibling,u=i.nodeName;i[Gs]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&i.rel.toLowerCase()==="stylesheet"||a.removeChild(i),i=o}}if(s===0){e.removeChild(l),zs(t);return}s--}else a==="$"||a==="$?"||a==="$!"?s++:n=a.charCodeAt(0)-48;else n=0;a=l}while(a);zs(t)}function Do(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Do(a),lu(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Jy(e,t,a,n){for(;e.nodeType===1;){var s=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[Gs])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(l=e.getAttribute("rel"),l==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(l!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(l=e.getAttribute("src"),(l!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&l&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var l=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===l)return e}else return e;if(e=nt(e.nextSibling),e===null)break}return null}function Iy(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=nt(e.nextSibling),e===null))return null;return e}function ko(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Fy(e,t){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function nt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Ro=null;function yd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function zm(e,t,a){switch(t=di(a),e){case"html":if(e=t.documentElement,!e)throw Error(S(452));return e;case"head":if(e=t.head,!e)throw Error(S(453));return e;case"body":if(e=t.body,!e)throw Error(S(454));return e;default:throw Error(S(451))}}function vs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);lu(e)}var We=new Map,pd=new Set;function fi(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Rt=$.d;$.d={f:Wy,r:ep,D:tp,C:ap,L:np,m:sp,X:ip,S:lp,M:rp};function Wy(){var e=Rt.f(),t=ki();return e||t}function ep(e){var t=Mn(e);t!==null&&t.tag===5&&t.type==="form"?Oh(t):Rt.r(e)}var Bn=typeof document>"u"?null:document;function Bm(e,t,a){var n=Bn;if(n&&typeof t=="string"&&t){var s=Ze(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof a=="string"&&(s+='[crossorigin="'+a+'"]'),pd.has(s)||(pd.add(s),e={rel:e,crossOrigin:a,href:t},n.querySelector(s)===null&&(t=n.createElement("link"),xe(t,"link",e),ge(t),n.head.appendChild(t)))}}function tp(e){Rt.D(e),Bm("dns-prefetch",e,null)}function ap(e,t){Rt.C(e,t),Bm("preconnect",e,t)}function np(e,t,a){Rt.L(e,t,a);var n=Bn;if(n&&e&&t){var s='link[rel="preload"][as="'+Ze(t)+'"]';t==="image"&&a&&a.imageSrcSet?(s+='[imagesrcset="'+Ze(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(s+='[imagesizes="'+Ze(a.imageSizes)+'"]')):s+='[href="'+Ze(e)+'"]';var l=s;switch(t){case"style":l=Cn(e);break;case"script":l=Ln(e)}We.has(l)||(e=P({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),We.set(l,e),n.querySelector(s)!==null||t==="style"&&n.querySelector(Fs(l))||t==="script"&&n.querySelector(Ws(l))||(t=n.createElement("link"),xe(t,"link",e),ge(t),n.head.appendChild(t)))}}function sp(e,t){Rt.m(e,t);var a=Bn;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+Ze(n)+'"][href="'+Ze(e)+'"]',l=s;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":l=Ln(e)}if(!We.has(l)&&(e=P({rel:"modulepreload",href:e},t),We.set(l,e),a.querySelector(s)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ws(l)))return}n=a.createElement("link"),xe(n,"link",e),ge(n),a.head.appendChild(n)}}}function lp(e,t,a){Rt.S(e,t,a);var n=Bn;if(n&&e){var s=fn(n).hoistableStyles,l=Cn(e);t=t||"default";var i=s.get(l);if(!i){var o={loading:0,preload:null};if(i=n.querySelector(Fs(l)))o.loading=5;else{e=P({rel:"stylesheet",href:e,"data-precedence":t},a),(a=We.get(l))&&Gu(e,a);var u=i=n.createElement("link");ge(u),xe(u,"link",e),u._p=new Promise(function(c,d){u.onload=c,u.onerror=d}),u.addEventListener("load",function(){o.loading|=1}),u.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Ll(i,t,n)}i={type:"stylesheet",instance:i,count:1,state:o},s.set(l,i)}}}function ip(e,t){Rt.X(e,t);var a=Bn;if(a&&e){var n=fn(a).hoistableScripts,s=Ln(e),l=n.get(s);l||(l=a.querySelector(Ws(s)),l||(e=P({src:e,async:!0},t),(t=We.get(s))&&Yu(e,t),l=a.createElement("script"),ge(l),xe(l,"link",e),a.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},n.set(s,l))}}function rp(e,t){Rt.M(e,t);var a=Bn;if(a&&e){var n=fn(a).hoistableScripts,s=Ln(e),l=n.get(s);l||(l=a.querySelector(Ws(s)),l||(e=P({src:e,async:!0,type:"module"},t),(t=We.get(s))&&Yu(e,t),l=a.createElement("script"),ge(l),xe(l,"link",e),a.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},n.set(s,l))}}function vd(e,t,a,n){var s=(s=It.current)?fi(s):null;if(!s)throw Error(S(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Cn(a.href),a=fn(s).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Cn(a.href);var l=fn(s).hoistableStyles,i=l.get(e);if(i||(s=s.ownerDocument||s,i={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},l.set(e,i),(l=s.querySelector(Fs(e)))&&!l._p&&(i.instance=l,i.state.loading=5),We.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},We.set(e,a),l||op(s,e,a,i.state))),t&&n===null)throw Error(S(528,""));return i}if(t&&n!==null)throw Error(S(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ln(a),a=fn(s).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(S(444,e))}}function Cn(e){return'href="'+Ze(e)+'"'}function Fs(e){return'link[rel="stylesheet"]['+e+"]"}function Lm(e){return P({},e,{"data-precedence":e.precedence,precedence:null})}function op(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),xe(t,"link",a),ge(t),e.head.appendChild(t))}function Ln(e){return'[src="'+Ze(e)+'"]'}function Ws(e){return"script[async]"+e}function bd(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+Ze(a.href)+'"]');if(n)return t.instance=n,ge(n),n;var s=P({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),ge(n),xe(n,"style",s),Ll(n,a.precedence,e),t.instance=n;case"stylesheet":s=Cn(a.href);var l=e.querySelector(Fs(s));if(l)return t.state.loading|=4,t.instance=l,ge(l),l;n=Lm(a),(s=We.get(s))&&Gu(n,s),l=(e.ownerDocument||e).createElement("link"),ge(l);var i=l;return i._p=new Promise(function(o,u){i.onload=o,i.onerror=u}),xe(l,"link",n),t.state.loading|=4,Ll(l,a.precedence,e),t.instance=l;case"script":return l=Ln(a.src),(s=e.querySelector(Ws(l)))?(t.instance=s,ge(s),s):(n=a,(s=We.get(l))&&(n=P({},a),Yu(n,s)),e=e.ownerDocument||e,s=e.createElement("script"),ge(s),xe(s,"link",n),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(S(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(n=t.instance,t.state.loading|=4,Ll(n,a.precedence,e));return t.instance}function Ll(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=n.length?n[n.length-1]:null,l=s,i=0;i<n.length;i++){var o=n[i];if(o.dataset.precedence===t)l=o;else if(l!==s)break}l?l.parentNode.insertBefore(e,l.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Gu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Yu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Hl=null;function xd(e,t,a){if(Hl===null){var n=new Map,s=Hl=new Map;s.set(a,n)}else s=Hl,n=s.get(a),n||(n=new Map,s.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),s=0;s<a.length;s++){var l=a[s];if(!(l[Gs]||l[_e]||e==="link"&&l.getAttribute("rel")==="stylesheet")&&l.namespaceURI!=="http://www.w3.org/2000/svg"){var i=l.getAttribute(t)||"";i=e+i;var o=n.get(i);o?o.push(l):n.set(i,[l])}}return n}function _d(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function up(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Hm(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var ks=null;function cp(){}function dp(e,t,a){if(ks===null)throw Error(S(475));var n=ks;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var s=Cn(a.href),l=e.querySelector(Fs(s));if(l){e=l._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(n.count++,n=hi.bind(n),e.then(n,n)),t.state.loading|=4,t.instance=l,ge(l);return}l=e.ownerDocument||e,a=Lm(a),(s=We.get(s))&&Gu(a,s),l=l.createElement("link"),ge(l);var i=l;i._p=new Promise(function(o,u){i.onload=o,i.onerror=u}),xe(l,"link",a),t.instance=l}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(n.count++,t=hi.bind(n),e.addEventListener("load",t),e.addEventListener("error",t))}}function fp(){if(ks===null)throw Error(S(475));var e=ks;return e.stylesheets&&e.count===0&&Mo(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&Mo(e,e.stylesheets),e.unsuspend){var n=e.unsuspend;e.unsuspend=null,n()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function hi(){if(this.count--,this.count===0){if(this.stylesheets)Mo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var mi=null;function Mo(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,mi=new Map,t.forEach(hp,e),mi=null,hi.call(e))}function hp(e,t){if(!(t.state.loading&4)){var a=mi.get(e);if(a)var n=a.get(null);else{a=new Map,mi.set(e,a);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),l=0;l<s.length;l++){var i=s[l];(i.nodeName==="LINK"||i.getAttribute("media")!=="not all")&&(a.set(i.dataset.precedence,i),n=i)}n&&a.set(null,n)}s=t.instance,i=s.getAttribute("data-precedence"),l=a.get(i)||n,l===n&&a.set(null,s),a.set(i,s),this.count++,n=hi.bind(this),s.addEventListener("load",n),s.addEventListener("error",n),l?l.parentNode.insertBefore(s,l.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var Rs={$$typeof:_t,Provider:null,Consumer:null,_currentValue:_a,_currentValue2:_a,_threadCount:0};function mp(e,t,a,n,s,l,i,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xi(0),this.hiddenUpdates=Xi(null),this.identifierPrefix=n,this.onUncaughtError=s,this.onCaughtError=l,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function qm(e,t,a,n,s,l,i,o,u,c,d,h){return e=new mp(e,t,a,i,o,u,c,h),t=1,l===!0&&(t|=24),l=Be(3,null,null,t),e.current=l,l.stateNode=e,t=pu(),t.refCount++,e.pooledCache=t,t.refCount++,l.memoizedState={element:n,isDehydrated:a,cache:t},bu(l),e}function $m(e){return e?(e=on,e):on}function Gm(e,t,a,n,s,l){s=$m(s),n.context===null?n.context=s:n.pendingContext=s,n=Ft(t),n.payload={element:a},l=l===void 0?null:l,l!==null&&(n.callback=l),a=Wt(e,n,t),a!==null&&($e(a,e,t),cs(a,e,t))}function Sd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Vu(e,t){Sd(e,t),(e=e.alternate)&&Sd(e,t)}function Ym(e){if(e.tag===13){var t=Un(e,67108864);t!==null&&$e(t,e,67108864),Vu(e,67108864)}}var gi=!0;function gp(e,t,a,n){var s=O.T;O.T=null;var l=$.p;try{$.p=2,Ku(e,t,a,n)}finally{$.p=l,O.T=s}}function yp(e,t,a,n){var s=O.T;O.T=null;var l=$.p;try{$.p=8,Ku(e,t,a,n)}finally{$.p=l,O.T=s}}function Ku(e,t,a,n){if(gi){var s=Uo(n);if(s===null)jr(e,t,n,yi,a),wd(e,n);else if(vp(s,e,t,a,n))n.stopPropagation();else if(wd(e,n),t&4&&-1<pp.indexOf(e)){for(;s!==null;){var l=Mn(s);if(l!==null)switch(l.tag){case 3:if(l=l.stateNode,l.current.memoizedState.isDehydrated){var i=ga(l.pendingLanes);if(i!==0){var o=l;for(o.pendingLanes|=2,o.entangledLanes|=2;i;){var u=1<<31-He(i);o.entanglements[1]|=u,i&=~u}ht(l),!(Y&6)&&(ii=ct()+500,Is(0))}}break;case 13:o=Un(l,2),o!==null&&$e(o,l,2),ki(),Vu(l,2)}if(l=Uo(n),l===null&&jr(e,t,n,yi,a),l===s)break;s=l}s!==null&&n.stopPropagation()}else jr(e,t,n,null,a)}}function Uo(e){return e=ru(e),Qu(e)}var yi=null;function Qu(e){if(yi=null,e=tn(e),e!==null){var t=Ls(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=mf(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return yi=e,null}function Vm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(a0()){case vf:return 2;case bf:return 8;case Vl:case n0:return 32;case xf:return 268435456;default:return 32}default:return 32}}var zo=!1,aa=null,na=null,sa=null,Ms=new Map,Us=new Map,Kt=[],pp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wd(e,t){switch(e){case"focusin":case"focusout":aa=null;break;case"dragenter":case"dragleave":na=null;break;case"mouseover":case"mouseout":sa=null;break;case"pointerover":case"pointerout":Ms.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Us.delete(t.pointerId)}}function Pn(e,t,a,n,s,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:l,targetContainers:[s]},t!==null&&(t=Mn(t),t!==null&&Ym(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function vp(e,t,a,n,s){switch(t){case"focusin":return aa=Pn(aa,e,t,a,n,s),!0;case"dragenter":return na=Pn(na,e,t,a,n,s),!0;case"mouseover":return sa=Pn(sa,e,t,a,n,s),!0;case"pointerover":var l=s.pointerId;return Ms.set(l,Pn(Ms.get(l)||null,e,t,a,n,s)),!0;case"gotpointercapture":return l=s.pointerId,Us.set(l,Pn(Us.get(l)||null,e,t,a,n,s)),!0}return!1}function Km(e){var t=tn(e.target);if(t!==null){var a=Ls(t);if(a!==null){if(t=a.tag,t===13){if(t=mf(a),t!==null){e.blockedOn=t,d0(e.priority,function(){if(a.tag===13){var n=qe();n=nu(n);var s=Un(a,n);s!==null&&$e(s,a,n),Vu(a,n)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ql(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Uo(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);Fr=n,a.target.dispatchEvent(n),Fr=null}else return t=Mn(a),t!==null&&Ym(t),e.blockedOn=a,!1;t.shift()}return!0}function jd(e,t,a){ql(e)&&a.delete(t)}function bp(){zo=!1,aa!==null&&ql(aa)&&(aa=null),na!==null&&ql(na)&&(na=null),sa!==null&&ql(sa)&&(sa=null),Ms.forEach(jd),Us.forEach(jd)}function pl(e,t){e.blockedOn===t&&(e.blockedOn=null,zo||(zo=!0,fe.unstable_scheduleCallback(fe.unstable_NormalPriority,bp)))}var vl=null;function Nd(e){vl!==e&&(vl=e,fe.unstable_scheduleCallback(fe.unstable_NormalPriority,function(){vl===e&&(vl=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],s=e[t+2];if(typeof n!="function"){if(Qu(n||a)===null)continue;break}var l=Mn(a);l!==null&&(e.splice(t,3),t-=3,go(l,{pending:!0,data:s,method:a.method,action:n},n,s))}}))}function zs(e){function t(u){return pl(u,e)}aa!==null&&pl(aa,e),na!==null&&pl(na,e),sa!==null&&pl(sa,e),Ms.forEach(t),Us.forEach(t);for(var a=0;a<Kt.length;a++){var n=Kt[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<Kt.length&&(a=Kt[0],a.blockedOn===null);)Km(a),a.blockedOn===null&&Kt.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var s=a[n],l=a[n+1],i=s[ke]||null;if(typeof l=="function")i||Nd(a);else if(i){var o=null;if(l&&l.hasAttribute("formAction")){if(s=l,i=l[ke]||null)o=i.formAction;else if(Qu(s)!==null)continue}else o=i.action;typeof o=="function"?a[n+1]=o:(a.splice(n,3),n-=3),Nd(a)}}}function Xu(e){this._internalRoot=e}zi.prototype.render=Xu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(S(409));var a=t.current,n=qe();Gm(a,n,e,t,null,null)};zi.prototype.unmount=Xu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Gm(e.current,2,null,e,null,null),ki(),t[Rn]=null}};function zi(e){this._internalRoot=e}zi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nf();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Kt.length&&t!==0&&t<Kt[a].priority;a++);Kt.splice(a,0,e),a===0&&Km(e)}};var Ad=ff.version;if(Ad!=="19.1.1")throw Error(S(527,Ad,"19.1.1"));$.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(S(188)):(e=Object.keys(e).join(","),Error(S(268,e)));return e=Pg(t),e=e!==null?gf(e):null,e=e===null?null:e.stateNode,e};var xp={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bl.isDisabled&&bl.supportsFiber)try{Hs=bl.inject(xp),Le=bl}catch{}}xi.createRoot=function(e,t){if(!hf(e))throw Error(S(299));var a=!1,n="",s=qh,l=$h,i=Gh,o=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(l=t.onCaughtError),t.onRecoverableError!==void 0&&(i=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(o=t.unstable_transitionCallbacks)),t=qm(e,1,!1,null,null,a,n,s,l,i,o,null),e[Rn]=t.current,$u(e),new Xu(t)};xi.hydrateRoot=function(e,t,a){if(!hf(e))throw Error(S(299));var n=!1,s="",l=qh,i=$h,o=Gh,u=null,c=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(s=a.identifierPrefix),a.onUncaughtError!==void 0&&(l=a.onUncaughtError),a.onCaughtError!==void 0&&(i=a.onCaughtError),a.onRecoverableError!==void 0&&(o=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(u=a.unstable_transitionCallbacks),a.formState!==void 0&&(c=a.formState)),t=qm(e,1,!0,t,a??null,n,s,l,i,o,u,c),t.context=$m(null),a=t.current,n=qe(),n=nu(n),s=Ft(n),s.callback=null,Wt(a,s,n),a=n,t.current.lanes=a,$s(t,a),ht(t),e[Rn]=t.current,$u(e),new zi(t)};xi.version="19.1.1";function Qm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Qm)}catch(e){console.error(e)}}Qm(),lf.exports=xi;var _p=lf.exports;const Xm=Pd(_p),Sp="modulepreload",wp=function(e,t){return new URL(e,t).href},Ed={},Hn=function(t,a,n){let s=Promise.resolve();if(a&&a.length>0){const i=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),u=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(a.map(c=>{if(c=wp(c,n),c in Ed)return;Ed[c]=!0;const d=c.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(!!n)for(let b=i.length-1;b>=0;b--){const _=i[b];if(_.href===c&&(!d||_.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${h}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":Sp,d||(m.as="script"),m.crossOrigin="",m.href=c,u&&m.setAttribute("nonce",u),document.head.appendChild(m),d)return new Promise((b,_)=>{m.addEventListener("load",b),m.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${c}`)))})}))}function l(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return s.then(i=>{for(const o of i||[])o.status==="rejected"&&l(o.reason);return t().catch(l)})},jp=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...a)=>Hn(async()=>{const{default:n}=await Promise.resolve().then(()=>qn);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...a)):t=fetch,(...a)=>t(...a)};class Zu extends Error{constructor(t,a="FunctionsError",n){super(t),this.name=a,this.context=n}}class Np extends Zu{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Td extends Zu{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Od extends Zu{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Bo;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Bo||(Bo={}));var Ap=function(e,t,a,n){function s(l){return l instanceof a?l:new a(function(i){i(l)})}return new(a||(a=Promise))(function(l,i){function o(d){try{c(n.next(d))}catch(h){i(h)}}function u(d){try{c(n.throw(d))}catch(h){i(h)}}function c(d){d.done?l(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};class Ep{constructor(t,{headers:a={},customFetch:n,region:s=Bo.Any}={}){this.url=t,this.headers=a,this.region=s,this.fetch=jp(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,a={}){var n;return Ap(this,void 0,void 0,function*(){try{const{headers:s,method:l,body:i}=a;let o={},{region:u}=a;u||(u=this.region);const c=new URL(`${this.url}/${t}`);u&&u!=="any"&&(o["x-region"]=u,c.searchParams.set("forceFunctionRegion",u));let d;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=i):typeof i=="string"?(o["Content-Type"]="text/plain",d=i):typeof FormData<"u"&&i instanceof FormData?d=i:(o["Content-Type"]="application/json",d=JSON.stringify(i)));const h=yield this.fetch(c.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:d}).catch(_=>{throw new Np(_)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new Td(h);if(!h.ok)throw new Od(h);let m=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),b;return m==="application/json"?b=yield h.json():m==="application/octet-stream"?b=yield h.blob():m==="text/event-stream"?b=h:m==="multipart/form-data"?b=yield h.formData():b=yield h.text(),{data:b,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof Od||s instanceof Td?s.context:void 0}}})}}var De={},Pu={},Bi={},el={},Li={},Hi={},Tp=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Dn=Tp();const Op=Dn.fetch,Zm=Dn.fetch.bind(Dn),Pm=Dn.Headers,Cp=Dn.Request,Dp=Dn.Response,qn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Pm,Request:Cp,Response:Dp,default:Zm,fetch:Op},Symbol.toStringTag,{value:"Module"})),kp=Ng(qn);var qi={};Object.defineProperty(qi,"__esModule",{value:!0});let Rp=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};qi.default=Rp;var Jm=Ie&&Ie.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hi,"__esModule",{value:!0});const Mp=Jm(kp),Up=Jm(qi);let zp=class{constructor(t){var a,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(a=t.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Mp.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,a){return this.headers=new Headers(this.headers),this.headers.set(t,a),this}then(t,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var i,o,u,c;let d=null,h=null,f=null,m=l.status,b=l.statusText;if(l.ok){if(this.method!=="HEAD"){const g=await l.text();g===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((i=this.headers.get("Accept"))===null||i===void 0)&&i.includes("application/vnd.pgrst.plan+text"))?h=g:h=JSON.parse(g))}const x=(o=this.headers.get("Prefer"))===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),y=(u=l.headers.get("content-range"))===null||u===void 0?void 0:u.split("/");x&&y&&y.length>1&&(f=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,m=406,b="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const x=await l.text();try{d=JSON.parse(x),Array.isArray(d)&&l.status===404&&(h=[],d=null,m=200,b="OK")}catch{l.status===404&&x===""?(m=204,b="No Content"):d={message:x}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,m=200,b="OK"),d&&this.shouldThrowOnError)throw new Up.default(d)}return{error:d,data:h,count:f,status:m,statusText:b}});return this.shouldThrowOnError||(s=s.catch(l=>{var i,o,u;return{error:{message:`${(i=l==null?void 0:l.name)!==null&&i!==void 0?i:"FetchError"}: ${l==null?void 0:l.message}`,details:`${(o=l==null?void 0:l.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(u=l==null?void 0:l.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,a)}returns(){return this}overrideTypes(){return this}};Hi.default=zp;var Bp=Ie&&Ie.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Li,"__esModule",{value:!0});const Lp=Bp(Hi);let Hp=class extends Lp.default{select(t){let a=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!a?"":(s==='"'&&(a=!a),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:a=!0,nullsFirst:n,foreignTable:s,referencedTable:l=s}={}){const i=l?`${l}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${t}.${a?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:a,referencedTable:n=a}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,a,{foreignTable:n,referencedTable:s=n}={}){const l=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${t}`),this.url.searchParams.set(i,`${a-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:a=!1,settings:n=!1,buffers:s=!1,wal:l=!1,format:i="text"}={}){var o;const u=[t?"analyze":null,a?"verbose":null,n?"settings":null,s?"buffers":null,l?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${u};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Li.default=Hp;var qp=Ie&&Ie.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(el,"__esModule",{value:!0});const $p=qp(Li);let Gp=class extends $p.default{eq(t,a){return this.url.searchParams.append(t,`eq.${a}`),this}neq(t,a){return this.url.searchParams.append(t,`neq.${a}`),this}gt(t,a){return this.url.searchParams.append(t,`gt.${a}`),this}gte(t,a){return this.url.searchParams.append(t,`gte.${a}`),this}lt(t,a){return this.url.searchParams.append(t,`lt.${a}`),this}lte(t,a){return this.url.searchParams.append(t,`lte.${a}`),this}like(t,a){return this.url.searchParams.append(t,`like.${a}`),this}likeAllOf(t,a){return this.url.searchParams.append(t,`like(all).{${a.join(",")}}`),this}likeAnyOf(t,a){return this.url.searchParams.append(t,`like(any).{${a.join(",")}}`),this}ilike(t,a){return this.url.searchParams.append(t,`ilike.${a}`),this}ilikeAllOf(t,a){return this.url.searchParams.append(t,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(t,a){return this.url.searchParams.append(t,`ilike(any).{${a.join(",")}}`),this}is(t,a){return this.url.searchParams.append(t,`is.${a}`),this}in(t,a){const n=Array.from(new Set(a)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,a){return typeof a=="string"?this.url.searchParams.append(t,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(t,`cs.{${a.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(a)}`),this}containedBy(t,a){return typeof a=="string"?this.url.searchParams.append(t,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(t,`cd.{${a.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(a)}`),this}rangeGt(t,a){return this.url.searchParams.append(t,`sr.${a}`),this}rangeGte(t,a){return this.url.searchParams.append(t,`nxl.${a}`),this}rangeLt(t,a){return this.url.searchParams.append(t,`sl.${a}`),this}rangeLte(t,a){return this.url.searchParams.append(t,`nxr.${a}`),this}rangeAdjacent(t,a){return this.url.searchParams.append(t,`adj.${a}`),this}overlaps(t,a){return typeof a=="string"?this.url.searchParams.append(t,`ov.${a}`):this.url.searchParams.append(t,`ov.{${a.join(",")}}`),this}textSearch(t,a,{config:n,type:s}={}){let l="";s==="plain"?l="pl":s==="phrase"?l="ph":s==="websearch"&&(l="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${l}fts${i}.${a}`),this}match(t){return Object.entries(t).forEach(([a,n])=>{this.url.searchParams.append(a,`eq.${n}`)}),this}not(t,a,n){return this.url.searchParams.append(t,`not.${a}.${n}`),this}or(t,{foreignTable:a,referencedTable:n=a}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,a,n){return this.url.searchParams.append(t,`${a}.${n}`),this}};el.default=Gp;var Yp=Ie&&Ie.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bi,"__esModule",{value:!0});const Jn=Yp(el);let Vp=class{constructor(t,{headers:a={},schema:n,fetch:s}){this.url=t,this.headers=new Headers(a),this.schema=n,this.fetch=s}select(t,{head:a=!1,count:n}={}){const s=a?"HEAD":"GET";let l=!1;const i=(t??"*").split("").map(o=>/\s/.test(o)&&!l?"":(o==='"'&&(l=!l),o)).join("");return this.url.searchParams.set("select",i),n&&this.headers.append("Prefer",`count=${n}`),new Jn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:a,defaultToNull:n=!0}={}){var s;const l="POST";if(a&&this.headers.append("Prefer",`count=${a}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const i=t.reduce((o,u)=>o.concat(Object.keys(u)),[]);if(i.length>0){const o=[...new Set(i)].map(u=>`"${u}"`);this.url.searchParams.set("columns",o.join(","))}}return new Jn.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:a,ignoreDuplicates:n=!1,count:s,defaultToNull:l=!0}={}){var i;const o="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),s&&this.headers.append("Prefer",`count=${s}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Jn.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(t,{count:a}={}){var n;const s="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new Jn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var a;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Jn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};Bi.default=Vp;var Im=Ie&&Ie.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pu,"__esModule",{value:!0});const Kp=Im(Bi),Qp=Im(el);let Xp=class Fm{constructor(t,{headers:a={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(a),this.schemaName=n,this.fetch=s}from(t){const a=new URL(`${this.url}/${t}`);return new Kp.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Fm(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,a={},{head:n=!1,get:s=!1,count:l}={}){var i;let o;const u=new URL(`${this.url}/rpc/${t}`);let c;n||s?(o=n?"HEAD":"GET",Object.entries(a).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{u.searchParams.append(h,f)})):(o="POST",c=a);const d=new Headers(this.headers);return l&&d.set("Prefer",`count=${l}`),new Qp.default({method:o,url:u,headers:d,schema:this.schemaName,body:c,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};Pu.default=Xp;var $n=Ie&&Ie.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(De,"__esModule",{value:!0});De.PostgrestError=De.PostgrestBuilder=De.PostgrestTransformBuilder=De.PostgrestFilterBuilder=De.PostgrestQueryBuilder=De.PostgrestClient=void 0;const Wm=$n(Pu);De.PostgrestClient=Wm.default;const eg=$n(Bi);De.PostgrestQueryBuilder=eg.default;const tg=$n(el);De.PostgrestFilterBuilder=tg.default;const ag=$n(Li);De.PostgrestTransformBuilder=ag.default;const ng=$n(Hi);De.PostgrestBuilder=ng.default;const sg=$n(qi);De.PostgrestError=sg.default;var Zp=De.default={PostgrestClient:Wm.default,PostgrestQueryBuilder:eg.default,PostgrestFilterBuilder:tg.default,PostgrestTransformBuilder:ag.default,PostgrestBuilder:ng.default,PostgrestError:sg.default};const{PostgrestClient:Pp,PostgrestQueryBuilder:Gx,PostgrestFilterBuilder:Yx,PostgrestTransformBuilder:Vx,PostgrestBuilder:Kx,PostgrestError:Qx}=Zp;class Jp{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const a=process.versions;if(a&&a.node){const n=a.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let a=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(a+=`

Suggested solution: ${t.workaround}`),new Error(a)}static createWebSocket(t,a){const n=this.getWebSocketConstructor();return new n(t,a)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Ip="2.15.5",Fp=`realtime-js/${Ip}`,Wp="1.0.0",Lo=1e4,ev=1e3,tv=100;var bs;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(bs||(bs={}));var oe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(oe||(oe={}));var at;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(at||(at={}));var Ho;(function(e){e.websocket="websocket"})(Ho||(Ho={}));var xa;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(xa||(xa={}));class av{constructor(){this.HEADER_LENGTH=1}decode(t,a){return t.constructor===ArrayBuffer?a(this._binaryDecode(t)):a(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const a=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,a,n)}_decodeBroadcast(t,a,n){const s=a.getUint8(1),l=a.getUint8(2);let i=this.HEADER_LENGTH+2;const o=n.decode(t.slice(i,i+s));i=i+s;const u=n.decode(t.slice(i,i+l));i=i+l;const c=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{ref:null,topic:o,event:u,payload:c}}}class lg{constructor(t,a){this.callback=t,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var X;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(X||(X={}));const Cd=(e,t,a={})=>{var n;const s=(n=a.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((l,i)=>(l[i]=nv(i,e,t,s),l),{})},nv=(e,t,a,n)=>{const s=t.find(o=>o.name===e),l=s==null?void 0:s.type,i=a[e];return l&&!n.includes(l)?ig(l,i):qo(i)},ig=(e,t)=>{if(e.charAt(0)==="_"){const a=e.slice(1,e.length);return rv(t,a)}switch(e){case X.bool:return sv(t);case X.float4:case X.float8:case X.int2:case X.int4:case X.int8:case X.numeric:case X.oid:return lv(t);case X.json:case X.jsonb:return iv(t);case X.timestamp:return ov(t);case X.abstime:case X.date:case X.daterange:case X.int4range:case X.int8range:case X.money:case X.reltime:case X.text:case X.time:case X.timestamptz:case X.timetz:case X.tsrange:case X.tstzrange:return qo(t);default:return qo(t)}},qo=e=>e,sv=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},lv=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},iv=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},rv=(e,t)=>{if(typeof e!="string")return e;const a=e.length-1,n=e[a];if(e[0]==="{"&&n==="}"){let l;const i=e.slice(1,a);try{l=JSON.parse("["+i+"]")}catch{l=i?i.split(","):[]}return l.map(o=>ig(t,o))}return e},ov=e=>typeof e=="string"?e.replace(" ","T"):e,rg=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Ar{constructor(t,a,n={},s=Lo){this.channel=t,this.event=a,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,a){var n;return this._hasReceived(t)&&a((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:a}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(a))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Dd;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Dd||(Dd={}));class xs{constructor(t,a){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(a==null?void 0:a.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:l,onLeave:i,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=xs.syncState(this.state,s,l,i),this.pendingDiffs.forEach(u=>{this.state=xs.syncDiff(this.state,u,l,i)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:l,onLeave:i,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=xs.syncDiff(this.state,s,l,i),o())}),this.onJoin((s,l,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:l,newPresences:i})}),this.onLeave((s,l,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:l,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,a,n,s){const l=this.cloneDeep(t),i=this.transformState(a),o={},u={};return this.map(l,(c,d)=>{i[c]||(u[c]=d)}),this.map(i,(c,d)=>{const h=l[c];if(h){const f=d.map(x=>x.presence_ref),m=h.map(x=>x.presence_ref),b=d.filter(x=>m.indexOf(x.presence_ref)<0),_=h.filter(x=>f.indexOf(x.presence_ref)<0);b.length>0&&(o[c]=b),_.length>0&&(u[c]=_)}else o[c]=d}),this.syncDiff(l,{joins:o,leaves:u},n,s)}static syncDiff(t,a,n,s){const{joins:l,leaves:i}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(l,(o,u)=>{var c;const d=(c=t[o])!==null&&c!==void 0?c:[];if(t[o]=this.cloneDeep(u),d.length>0){const h=t[o].map(m=>m.presence_ref),f=d.filter(m=>h.indexOf(m.presence_ref)<0);t[o].unshift(...f)}n(o,d,u)}),this.map(i,(o,u)=>{let c=t[o];if(!c)return;const d=u.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),t[o]=c,s(o,c,u),c.length===0&&delete t[o]}),t}static map(t,a){return Object.getOwnPropertyNames(t).map(n=>a(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((a,n)=>{const s=t[n];return"metas"in s?a[n]=s.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):a[n]=s,a},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var kd;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(kd||(kd={}));var _s;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(_s||(_s={}));var vt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(vt||(vt={}));class Ju{constructor(t,a={config:{}},n){this.topic=t,this.params=a,this.socket=n,this.bindings={},this.state=oe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new Ar(this,at.join,this.params,this.timeout),this.rejoinTimer=new lg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=oe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=oe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=oe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(at.reply,{},(s,l)=>{this._trigger(this._replyEventName(l),s)}),this.presence=new xs(this),this.broadcastEndpointURL=rg(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,a=this.timeout){var n,s,l;if(this.socket.isConnected()||this.socket.connect(),this.state==oe.closed){const{config:{broadcast:i,presence:o,private:u}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[_s.PRESENCE]&&this.bindings[_s.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,h={},f={broadcast:i,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:c,private:u};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(vt.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(vt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",async({postgres_changes:m})=>{var b;if(this.socket.setAuth(),m===void 0){t==null||t(vt.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,x=(b=_==null?void 0:_.length)!==null&&b!==void 0?b:0,y=[];for(let g=0;g<x;g++){const p=_[g],{filter:{event:v,schema:j,table:N,filter:w}}=p,A=m&&m[g];if(A&&A.event===v&&A.schema===j&&A.table===N&&A.filter===w)y.push(Object.assign(Object.assign({},p),{id:A.id}));else{this.unsubscribe(),this.state=oe.errored,t==null||t(vt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(vt.SUBSCRIBED);return}}).receive("error",m=>{this.state=oe.errored,t==null||t(vt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(vt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,a={}){return await this.send({type:"presence",event:"track",payload:t},a.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,a,n){return this.state===oe.joined&&t===_s.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,a,n)}async send(t,a={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:l,payload:i}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:i,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=a.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var i,o,u;const c=this._push(t.type,t,a.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(o=(i=this.params)===null||i===void 0?void 0:i.config)===null||o===void 0?void 0:o.broadcast)===null||u===void 0)&&u.ack)&&l("ok"),c.receive("ok",()=>l("ok")),c.receive("error",()=>l("error")),c.receive("timeout",()=>l("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=oe.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(at.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Ar(this,at.leave,{},t),n.receive("ok",()=>{a(),s("ok")}).receive("timeout",()=>{a(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=oe.closed,this.bindings={}}async _fetchWithTimeout(t,a,n){const s=new AbortController,l=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},a),{signal:s.signal}));return clearTimeout(l),i}_push(t,a,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ar(this,t,a,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>tv){const a=this.pushBuffer.shift();a&&(a.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${a.event}`,a.payload))}}_onMessage(t,a,n){return a}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,a,n){var s,l;const i=t.toLocaleLowerCase(),{close:o,error:u,leave:c,join:d}=at;if(n&&[o,u,c,d].indexOf(i)>=0&&n!==this._joinRef())return;let f=this._onMessage(i,a,n);if(a&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var b,_,x;return((b=m.filter)===null||b===void 0?void 0:b.event)==="*"||((x=(_=m.filter)===null||_===void 0?void 0:_.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===i}).map(m=>m.callback(f,n)):(l=this.bindings[i])===null||l===void 0||l.filter(m=>{var b,_,x,y,g,p;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in m){const v=m.id,j=(b=m.filter)===null||b===void 0?void 0:b.event;return v&&((_=a.ids)===null||_===void 0?void 0:_.includes(v))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((x=a.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const v=(g=(y=m==null?void 0:m.filter)===null||y===void 0?void 0:y.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return v==="*"||v===((p=a==null?void 0:a.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===i}).map(m=>{if(typeof f=="object"&&"ids"in f){const b=f.data,{schema:_,table:x,commit_timestamp:y,type:g,errors:p}=b;f=Object.assign(Object.assign({},{schema:_,table:x,commit_timestamp:y,eventType:g,new:{},old:{},errors:p}),this._getPayloadRecords(b))}m.callback(f,n)})}_isClosed(){return this.state===oe.closed}_isJoined(){return this.state===oe.joined}_isJoining(){return this.state===oe.joining}_isLeaving(){return this.state===oe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,a,n){const s=t.toLocaleLowerCase(),l={type:s,filter:a,callback:n};return this.bindings[s]?this.bindings[s].push(l):this.bindings[s]=[l],this}_off(t,a){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var l;return!(((l=s.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===n&&Ju.isEqual(s.filter,a))})),this}static isEqual(t,a){if(Object.keys(t).length!==Object.keys(a).length)return!1;for(const n in t)if(t[n]!==a[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(at.close,{},t)}_onError(t){this._on(at.error,{},a=>t(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=oe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const a={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(a.new=Cd(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(a.old=Cd(t.columns,t.old_record)),a}}const Er=()=>{},xl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},uv=[1e3,2e3,5e3,1e4],cv=1e4,dv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class fv{constructor(t,a){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Lo,this.transport=null,this.heartbeatIntervalMs=xl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Er,this.ref=0,this.reconnectTimer=null,this.logger=Er,this.conn=null,this.sendBuffer=[],this.serializer=new av,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let l;return s?l=s:typeof fetch>"u"?l=(...i)=>Hn(async()=>{const{default:o}=await Promise.resolve().then(()=>qn);return{default:o}},void 0,import.meta.url).then(({default:o})=>o(...i)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):l=fetch,(...i)=>l(...i)},!(!((n=a==null?void 0:a.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=a.params.apikey,this.endPoint=`${t}/${Ho.websocket}`,this.httpEndpoint=rg(t),this._initializeOptions(a),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(a==null?void 0:a.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Jp.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const a=t.message;throw a.includes("Node.js")?new Error(`${a}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${a}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Wp}))}disconnect(t,a){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,a??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const a=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const t=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,a,n){this.logger(t,a,n)}connectionState(){switch(this.conn&&this.conn.readyState){case bs.connecting:return xa.Connecting;case bs.open:return xa.Open;case bs.closing:return xa.Closing;default:return xa.Closed}}isConnected(){return this.connectionState()===xa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,a={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(l=>l.topic===n);if(s)return s;{const l=new Ju(`realtime:${t}`,a,this);return this.channels.push(l),l}}push(t){const{topic:a,event:n,payload:s,ref:l}=t,i=()=>{this.encode(t,o=>{var u;(u=this.conn)===null||u===void 0||u.send(o)})};this.log("push",`${a} ${n} (${l})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(a){this.log("error","error in heartbeat callback",a)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(a){this.log("error","error in heartbeat callback",a)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(ev,"heartbeat timeout"),setTimeout(()=>{var a;this.isConnected()||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout()},xl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(a){this.log("error","error in heartbeat callback",a)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let a=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${t}"`),a.unsubscribe())}_remove(t){this.channels=this.channels.filter(a=>a.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,a=>{if(a.topic==="phoenix"&&a.event==="phx_reply")try{this.heartbeatCallback(a.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}a.ref&&a.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:l,ref:i}=a,o=i?`(${i})`:"",u=l.status||"";this.log("receive",`${u} ${n} ${s} ${o}`.trim(),l),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,l,i)),this._triggerStateCallbacks("message",a)})}_clearTimer(t){var a;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((a=this.reconnectTimer)===null||a===void 0||a.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this.workerRef.terminate()},this.workerRef.onmessage=a=>{a.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var a;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(at.error))}_appendParams(t,a){if(Object.keys(a).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(a);return`${t}${n}${s}`}_workerObjectUrl(t){let a;if(t)a=t;else{const n=new Blob([dv],{type:"application/javascript"});a=URL.createObjectURL(n)}return a}_setConnectionState(t,a=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=a)}async _performAuth(t=null){let a;t?a=t:this.accessToken?a=await this.accessToken():a=this.accessTokenValue,this.accessTokenValue!=a&&(this.accessTokenValue=a,this.channels.forEach(n=>{const s={access_token:a,version:Fp};a&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(at.access_token,{access_token:a})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(a=>{this.log("error",`error setting auth in ${t}`,a)})}_triggerStateCallbacks(t,a){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(a)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new lg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},xl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var a,n,s,l,i,o,u,c,d;if(this.transport=(a=t==null?void 0:t.transport)!==null&&a!==void 0?a:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Lo,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:xl.HEARTBEAT_INTERVAL,this.worker=(l=t==null?void 0:t.worker)!==null&&l!==void 0?l:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:Er,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:h=>uv[h-1]||cv,this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(h,f)=>f(JSON.stringify(h)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Iu extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ue(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class hv extends Iu{constructor(t,a,n){super(t),this.name="StorageApiError",this.status=a,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class $o extends Iu{constructor(t,a){super(t),this.name="StorageUnknownError",this.originalError=a}}var mv=function(e,t,a,n){function s(l){return l instanceof a?l:new a(function(i){i(l)})}return new(a||(a=Promise))(function(l,i){function o(d){try{c(n.next(d))}catch(h){i(h)}}function u(d){try{c(n.throw(d))}catch(h){i(h)}}function c(d){d.done?l(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};const og=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...a)=>Hn(async()=>{const{default:n}=await Promise.resolve().then(()=>qn);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...a)):t=fetch,(...a)=>t(...a)},gv=()=>mv(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Hn(()=>Promise.resolve().then(()=>qn),void 0,import.meta.url)).Response:Response}),Go=e=>{if(Array.isArray(e))return e.map(a=>Go(a));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([a,n])=>{const s=a.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));t[s]=Go(n)}),t},yv=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var La=function(e,t,a,n){function s(l){return l instanceof a?l:new a(function(i){i(l)})}return new(a||(a=Promise))(function(l,i){function o(d){try{c(n.next(d))}catch(h){i(h)}}function u(d){try{c(n.throw(d))}catch(h){i(h)}}function c(d){d.done?l(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};const Tr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),pv=(e,t,a)=>La(void 0,void 0,void 0,function*(){const n=yield gv();e instanceof n&&!(a!=null&&a.noResolveJson)?e.json().then(s=>{const l=e.status||500,i=(s==null?void 0:s.statusCode)||l+"";t(new hv(Tr(s),l,i))}).catch(s=>{t(new $o(Tr(s),s))}):t(new $o(Tr(e),e))}),vv=(e,t,a,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(yv(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),a))};function tl(e,t,a,n,s,l){return La(this,void 0,void 0,function*(){return new Promise((i,o)=>{e(a,vv(t,n,s,l)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>i(u)).catch(u=>pv(u,o,n))})})}function pi(e,t,a,n){return La(this,void 0,void 0,function*(){return tl(e,"GET",t,a,n)})}function it(e,t,a,n,s){return La(this,void 0,void 0,function*(){return tl(e,"POST",t,n,s,a)})}function Yo(e,t,a,n,s){return La(this,void 0,void 0,function*(){return tl(e,"PUT",t,n,s,a)})}function bv(e,t,a,n){return La(this,void 0,void 0,function*(){return tl(e,"HEAD",t,Object.assign(Object.assign({},a),{noResolveJson:!0}),n)})}function ug(e,t,a,n,s){return La(this,void 0,void 0,function*(){return tl(e,"DELETE",t,n,s,a)})}var we=function(e,t,a,n){function s(l){return l instanceof a?l:new a(function(i){i(l)})}return new(a||(a=Promise))(function(l,i){function o(d){try{c(n.next(d))}catch(h){i(h)}}function u(d){try{c(n.throw(d))}catch(h){i(h)}}function c(d){d.done?l(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};const xv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Rd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class _v{constructor(t,a={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=a,this.bucketId=n,this.fetch=og(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,a,n,s){return we(this,void 0,void 0,function*(){try{let l;const i=Object.assign(Object.assign({},Rd),s);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const u=i.metadata;typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",i.cacheControl),u&&l.append("metadata",this.encodeMetadata(u)),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",i.cacheControl),u&&l.append("metadata",this.encodeMetadata(u))):(l=n,o["cache-control"]=`max-age=${i.cacheControl}`,o["content-type"]=i.contentType,u&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const c=this._removeEmptyFolders(a),d=this._getFinalPath(c),h=yield(t=="PUT"?Yo:it)(this.fetch,`${this.url}/object/${d}`,l,Object.assign({headers:o},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ue(l))return{data:null,error:l};throw l}})}upload(t,a,n){return we(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,a,n)})}uploadToSignedUrl(t,a,n,s){return we(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(t),i=this._getFinalPath(l),o=new URL(this.url+`/object/upload/sign/${i}`);o.searchParams.set("token",a);try{let u;const c=Object.assign({upsert:Rd.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",c.cacheControl)):(u=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield Yo(this.fetch,o.toString(),u,{headers:d});return{data:{path:l,fullPath:h.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(ue(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,a){return we(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);a!=null&&a.upsert&&(s["x-upsert"]="true");const l=yield it(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(this.url+l.url),o=i.searchParams.get("token");if(!o)throw new Iu("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ue(n))return{data:null,error:n};throw n}})}update(t,a,n){return we(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,a,n)})}move(t,a,n){return we(this,void 0,void 0,function*(){try{return{data:yield it(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:a,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ue(s))return{data:null,error:s};throw s}})}copy(t,a,n){return we(this,void 0,void 0,function*(){try{return{data:{path:(yield it(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:a,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ue(s))return{data:null,error:s};throw s}})}createSignedUrl(t,a,n){return we(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),l=yield it(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:a},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${i}`)},{data:l,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ue(s))return{data:null,error:s};throw s}})}createSignedUrls(t,a,n){return we(this,void 0,void 0,function*(){try{const s=yield it(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:a,paths:t},{headers:this.headers}),l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${l}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ue(s))return{data:null,error:s};throw s}})}download(t,a){return we(this,void 0,void 0,function*(){const s=typeof(a==null?void 0:a.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((a==null?void 0:a.transform)||{}),i=l?`?${l}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield pi(this.fetch,`${this.url}/${s}/${o}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ue(o))return{data:null,error:o};throw o}})}info(t){return we(this,void 0,void 0,function*(){const a=this._getFinalPath(t);try{const n=yield pi(this.fetch,`${this.url}/object/info/${a}`,{headers:this.headers});return{data:Go(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ue(n))return{data:null,error:n};throw n}})}exists(t){return we(this,void 0,void 0,function*(){const a=this._getFinalPath(t);try{return yield bv(this.fetch,`${this.url}/object/${a}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ue(n)&&n instanceof $o){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,a){const n=this._getFinalPath(t),s=[],l=a!=null&&a.download?`download=${a.download===!0?"":a.download}`:"";l!==""&&s.push(l);const o=typeof(a==null?void 0:a.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((a==null?void 0:a.transform)||{});u!==""&&s.push(u);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}remove(t){return we(this,void 0,void 0,function*(){try{return{data:yield ug(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ue(a))return{data:null,error:a};throw a}})}list(t,a,n){return we(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},xv),a),{prefix:t||""});return{data:yield it(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ue(s))return{data:null,error:s};throw s}})}listV2(t,a){return we(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield it(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},a),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ue(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const a=[];return t.width&&a.push(`width=${t.width}`),t.height&&a.push(`height=${t.height}`),t.resize&&a.push(`resize=${t.resize}`),t.format&&a.push(`format=${t.format}`),t.quality&&a.push(`quality=${t.quality}`),a.join("&")}}const Sv="2.12.1",wv={"X-Client-Info":`storage-js/${Sv}`};var $a=function(e,t,a,n){function s(l){return l instanceof a?l:new a(function(i){i(l)})}return new(a||(a=Promise))(function(l,i){function o(d){try{c(n.next(d))}catch(h){i(h)}}function u(d){try{c(n.throw(d))}catch(h){i(h)}}function c(d){d.done?l(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};class jv{constructor(t,a={},n,s){this.shouldThrowOnError=!1;const l=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href,this.headers=Object.assign(Object.assign({},wv),a),this.fetch=og(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return $a(this,void 0,void 0,function*(){try{return{data:yield pi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ue(t))return{data:null,error:t};throw t}})}getBucket(t){return $a(this,void 0,void 0,function*(){try{return{data:yield pi(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ue(a))return{data:null,error:a};throw a}})}createBucket(t,a={public:!1}){return $a(this,void 0,void 0,function*(){try{return{data:yield it(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ue(n))return{data:null,error:n};throw n}})}updateBucket(t,a){return $a(this,void 0,void 0,function*(){try{return{data:yield Yo(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ue(n))return{data:null,error:n};throw n}})}emptyBucket(t){return $a(this,void 0,void 0,function*(){try{return{data:yield it(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ue(a))return{data:null,error:a};throw a}})}deleteBucket(t){return $a(this,void 0,void 0,function*(){try{return{data:yield ug(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ue(a))return{data:null,error:a};throw a}})}}class Nv extends jv{constructor(t,a={},n,s){super(t,a,n,s)}from(t){return new _v(this.url,this.headers,t,this.fetch)}}const Av="2.57.4";let as="";typeof Deno<"u"?as="deno":typeof document<"u"?as="web":typeof navigator<"u"&&navigator.product==="ReactNative"?as="react-native":as="node";const Ev={"X-Client-Info":`supabase-js-${as}/${Av}`},Tv={headers:Ev},Ov={schema:"public"},Cv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Dv={};var kv=function(e,t,a,n){function s(l){return l instanceof a?l:new a(function(i){i(l)})}return new(a||(a=Promise))(function(l,i){function o(d){try{c(n.next(d))}catch(h){i(h)}}function u(d){try{c(n.throw(d))}catch(h){i(h)}}function c(d){d.done?l(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};const Rv=e=>{let t;return e?t=e:typeof fetch>"u"?t=Zm:t=fetch,(...a)=>t(...a)},Mv=()=>typeof Headers>"u"?Pm:Headers,Uv=(e,t,a)=>{const n=Rv(a),s=Mv();return(l,i)=>kv(void 0,void 0,void 0,function*(){var o;const u=(o=yield t())!==null&&o!==void 0?o:e;let c=new s(i==null?void 0:i.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),n(l,Object.assign(Object.assign({},i),{headers:c}))})};var zv=function(e,t,a,n){function s(l){return l instanceof a?l:new a(function(i){i(l)})}return new(a||(a=Promise))(function(l,i){function o(d){try{c(n.next(d))}catch(h){i(h)}}function u(d){try{c(n.throw(d))}catch(h){i(h)}}function c(d){d.done?l(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};function Bv(e){return e.endsWith("/")?e:e+"/"}function Lv(e,t){var a,n;const{db:s,auth:l,realtime:i,global:o}=e,{db:u,auth:c,realtime:d,global:h}=t,f={db:Object.assign(Object.assign({},u),s),auth:Object.assign(Object.assign({},c),l),realtime:Object.assign(Object.assign({},d),i),storage:{},global:Object.assign(Object.assign(Object.assign({},h),o),{headers:Object.assign(Object.assign({},(a=h==null?void 0:h.headers)!==null&&a!==void 0?a:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>zv(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function Hv(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Bv(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const cg="2.71.1",Ia=30*1e3,Vo=3,Or=Vo*Ia,qv="http://localhost:9999",$v="supabase.auth.token",Gv={"X-Client-Info":`gotrue-js/${cg}`},Ko="X-Supabase-Api-Version",dg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Yv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Vv=10*60*1e3;class Fu extends Error{constructor(t,a,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=n}}function C(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Kv extends Fu{constructor(t,a,n){super(t,a,n),this.name="AuthApiError",this.status=a,this.code=n}}function Qv(e){return C(e)&&e.name==="AuthApiError"}class fg extends Fu{constructor(t,a){super(t),this.name="AuthUnknownError",this.originalError=a}}class ca extends Fu{constructor(t,a,n,s){super(t,n,s),this.name=a,this.status=n}}class Ht extends ca{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Xv(e){return C(e)&&e.name==="AuthSessionMissingError"}class _l extends ca{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Sl extends ca{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class wl extends ca{constructor(t,a=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Zv(e){return C(e)&&e.name==="AuthImplicitGrantRedirectError"}class Md extends ca{constructor(t,a=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Qo extends ca{constructor(t,a){super(t,"AuthRetryableFetchError",a,void 0)}}function Cr(e){return C(e)&&e.name==="AuthRetryableFetchError"}class Ud extends ca{constructor(t,a,n){super(t,"AuthWeakPasswordError",a,"weak_password"),this.reasons=n}}class Xo extends ca{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const vi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),zd=` 	
\r=`.split(""),Pv=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<zd.length;t+=1)e[zd[t].charCodeAt(0)]=-2;for(let t=0;t<vi.length;t+=1)e[vi[t].charCodeAt(0)]=t;return e})();function Bd(e,t,a){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;a(vi[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;a(vi[n]),t.queuedBits-=6}}function hg(e,t,a){const n=Pv[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)a(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Ld(e){const t=[],a=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},l=i=>{Fv(i,n,a)};for(let i=0;i<e.length;i+=1)hg(e.charCodeAt(i),s,l);return t.join("")}function Jv(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Iv(e,t){for(let a=0;a<e.length;a+=1){let n=e.charCodeAt(a);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(a+1)-56320&65535|s)+65536,a+=1}Jv(n,t)}}function Fv(e,t,a){if(t.utf8seq===0){if(e<=127){a(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&a(t.codepoint)}}function Wv(e){const t=[],a={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)hg(e.charCodeAt(s),a,n);return new Uint8Array(t)}function eb(e){const t=[];return Iv(e,a=>t.push(a)),new Uint8Array(t)}function tb(e){const t=[],a={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Bd(s,a,n)),Bd(null,a,n),t.join("")}function ab(e){return Math.round(Date.now()/1e3)+e}function nb(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const et=()=>typeof window<"u"&&typeof document<"u",ha={tested:!1,writable:!1},mg=()=>{if(!et())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ha.tested)return ha.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ha.tested=!0,ha.writable=!0}catch{ha.tested=!0,ha.writable=!1}return ha.writable};function sb(e){const t={},a=new URL(e);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((s,l)=>{t[l]=s})}catch{}return a.searchParams.forEach((n,s)=>{t[s]=n}),t}const gg=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...a)=>Hn(async()=>{const{default:n}=await Promise.resolve().then(()=>qn);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...a)):t=fetch,(...a)=>t(...a)},lb=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Fa=async(e,t,a)=>{await e.setItem(t,JSON.stringify(a))},ma=async(e,t)=>{const a=await e.getItem(t);if(!a)return null;try{return JSON.parse(a)}catch{return a}},Bt=async(e,t)=>{await e.removeItem(t)};class $i{constructor(){this.promise=new $i.promiseConstructor((t,a)=>{this.resolve=t,this.reject=a})}}$i.promiseConstructor=Promise;function Dr(e){const t=e.split(".");if(t.length!==3)throw new Xo("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Yv.test(t[n]))throw new Xo("JWT not in base64url format");return{header:JSON.parse(Ld(t[0])),payload:JSON.parse(Ld(t[1])),signature:Wv(t[2]),raw:{header:t[0],payload:t[1]}}}async function ib(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function rb(e,t){return new Promise((n,s)=>{(async()=>{for(let l=0;l<1/0;l++)try{const i=await e(l);if(!t(l,null,i)){n(i);return}}catch(i){if(!t(l,i)){s(i);return}}})()})}function ob(e){return("0"+e.toString(16)).substr(-2)}function ub(){const t=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=a.length;let s="";for(let l=0;l<56;l++)s+=a.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,ob).join("")}async function cb(e){const a=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",a),s=new Uint8Array(n);return Array.from(s).map(l=>String.fromCharCode(l)).join("")}async function db(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const a=await cb(e);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ga(e,t,a=!1){const n=ub();let s=n;a&&(s+="/PASSWORD_RECOVERY"),await Fa(e,`${t}-code-verifier`,s);const l=await db(n);return[l,n===l?"plain":"s256"]}const fb=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function hb(e){const t=e.headers.get(Ko);if(!t||!t.match(fb))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function mb(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function gb(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const yb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ya(e){if(!yb.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function kr(){const e={};return new Proxy(e,{get:(t,a)=>{if(a==="__isUserNotAvailableProxy")return!0;if(typeof a=="symbol"){const n=a.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${a}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Hd(e){return JSON.parse(JSON.stringify(e))}var pb=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(a[n[s]]=e[n[s]]);return a};const va=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),vb=[502,503,504];async function qd(e){var t;if(!lb(e))throw new Qo(va(e),0);if(vb.includes(e.status))throw new Qo(va(e),e.status);let a;try{a=await e.json()}catch(l){throw new fg(va(l),l)}let n;const s=hb(e);if(s&&s.getTime()>=dg["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?n=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(n=a.error_code),n){if(n==="weak_password")throw new Ud(va(a),e.status,((t=a.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ht}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((l,i)=>l&&typeof i=="string",!0))throw new Ud(va(a),e.status,a.weak_password.reasons);throw new Kv(va(a),e.status||500,n)}const bb=(e,t,a,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),a))};async function z(e,t,a,n){var s;const l=Object.assign({},n==null?void 0:n.headers);l[Ko]||(l[Ko]=dg["2024-01-01"].name),n!=null&&n.jwt&&(l.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const o=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",u=await xb(e,t,a+o,{headers:l,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function xb(e,t,a,n,s,l){const i=bb(t,n,s,l);let o;try{o=await e(a,Object.assign({},i))}catch(u){throw console.error(u),new Qo(va(u),0)}if(o.ok||await qd(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(u){await qd(u)}}function pt(e){var t;let a=null;jb(e)&&(a=Object.assign({},e),e.expires_at||(a.expires_at=ab(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:a,user:n},error:null}}function $d(e){const t=pt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((a,n)=>a&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Qt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function _b(e){return{data:e,error:null}}function Sb(e){const{action_link:t,email_otp:a,hashed_token:n,redirect_to:s,verification_type:l}=e,i=pb(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:a,hashed_token:n,redirect_to:s,verification_type:l},u=Object.assign({},i);return{data:{properties:o,user:u},error:null}}function wb(e){return e}function jb(e){return e.access_token&&e.refresh_token&&e.expires_in}const Rr=["global","local","others"];var Nb=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(a[n[s]]=e[n[s]]);return a};class Ab{constructor({url:t="",headers:a={},fetch:n}){this.url=t,this.headers=a,this.fetch=gg(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,a=Rr[0]){if(Rr.indexOf(a)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Rr.join(", ")}`);try{return await z(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(C(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,a={}){try{return await z(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:Qt})}catch(n){if(C(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:a}=t,n=Nb(t,["options"]),s=Object.assign(Object.assign({},n),a);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Sb,redirectTo:a==null?void 0:a.redirectTo})}catch(a){if(C(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(t){try{return await z(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Qt})}catch(a){if(C(a))return{data:{user:null},error:a};throw a}}async listUsers(t){var a,n,s,l,i,o,u;try{const c={nextPage:null,lastPage:0,total:0},d=await z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(a=t==null?void 0:t.page)===null||a===void 0?void 0:a.toString())!==null&&n!==void 0?n:"",per_page:(l=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&l!==void 0?l:""},xform:wb});if(d.error)throw d.error;const h=await d.json(),f=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(u=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&u!==void 0?u:[];return m.length>0&&(m.forEach(b=>{const _=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(b.split(";")[1].split("=")[1]);c[`${x}Page`]=_}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(C(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Ya(t);try{return await z(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Qt})}catch(a){if(C(a))return{data:{user:null},error:a};throw a}}async updateUserById(t,a){Ya(t);try{return await z(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:a,headers:this.headers,xform:Qt})}catch(n){if(C(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,a=!1){Ya(t);try{return await z(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:a},xform:Qt})}catch(n){if(C(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ya(t.userId);try{const{data:a,error:n}=await z(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:a,error:n}}catch(a){if(C(a))return{data:null,error:a};throw a}}async _deleteFactor(t){Ya(t.userId),Ya(t.id);try{return{data:await z(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(a){if(C(a))return{data:null,error:a};throw a}}}function Gd(e={}){return{getItem:t=>e[t]||null,setItem:(t,a)=>{e[t]=a},removeItem:t=>{delete e[t]}}}function Eb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Va={debug:!!(globalThis&&mg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class yg extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Tb extends yg{}async function Ob(e,t,a){Va.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Va.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Va.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await a()}finally{Va.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Va.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Tb(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Va.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}}))}Eb();const Cb={url:qv,storageKey:$v,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Gv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Yd(e,t,a){return await a()}const Ka={};class Bs{constructor(t){var a,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Bs.nextInstanceID,Bs.nextInstanceID+=1,this.instanceID>0&&et()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Cb),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Ab({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=gg(s.fetch),this.lock=s.lock||Yd,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:et()&&(!((a=globalThis==null?void 0:globalThis.navigator)===null||a===void 0)&&a.locks)?this.lock=Ob:this.lock=Yd,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:mg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Gd(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Gd(this.memoryStorage)),et()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}get jwks(){var t,a;return(a=(t=Ka[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&a!==void 0?a:{keys:[]}}set jwks(t){Ka[this.storageKey]=Object.assign(Object.assign({},Ka[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,a;return(a=(t=Ka[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&a!==void 0?a:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ka[this.storageKey]=Object.assign(Object.assign({},Ka[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${cg}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const a=sb(window.location.href);let n="none";if(this._isImplicitGrantCallback(a)?n="implicit":await this._isPKCECallback(a)&&(n="pkce"),et()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:l}=await this._getSessionFromURL(a,n);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),Zv(l)){const u=(t=l.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:i,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",o),await this._saveSession(i),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){return C(a)?{error:a}:{error:new fg("Unexpected error during initialization",a)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var a,n,s;try{const l=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:pt}),{data:i,error:o}=l;if(o||!i)return{data:{user:null,session:null},error:o};const u=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(l){if(C(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(t){var a,n,s;try{let l;if("email"in t){const{email:d,password:h,options:f}=t;let m=null,b=null;this.flowType==="pkce"&&([m,b]=await Ga(this.storage,this.storageKey)),l=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(a=f==null?void 0:f.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:b},xform:pt})}else if("phone"in t){const{phone:d,password:h,options:f}=t;l=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:pt})}else throw new Sl("You must provide either an email or phone number and a password");const{data:i,error:o}=l;if(o||!i)return{data:{user:null,session:null},error:o};const u=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(l){if(C(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(t){try{let a;if("email"in t){const{email:l,password:i,options:o}=t;a=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:$d})}else if("phone"in t){const{phone:l,password:i,options:o}=t;a=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:$d})}else throw new Sl("You must provide either an email or phone number and a password");const{data:n,error:s}=a;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new _l}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(a){if(C(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOAuth(t){var a,n,s,l;return await this._handleProviderSignIn(t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(l=t.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:a}=t;if(a==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${a}"`)}async signInWithSolana(t){var a,n,s,l,i,o,u,c,d,h,f,m;let b,_;if("message"in t)b=t.message,_=t.signature;else{const{chain:x,wallet:y,statement:g,options:p}=t;let v;if(et())if(typeof y=="object")v=y;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))v=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=y}const j=new URL((a=p==null?void 0:p.url)!==null&&a!==void 0?a:window.location.href);if("signIn"in v&&v.signIn){const N=await v.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),g?{statement:g}:null));let w;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")w=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)w=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in w&&"signature"in w&&(typeof w.signedMessage=="string"||w.signedMessage instanceof Uint8Array)&&w.signature instanceof Uint8Array)b=typeof w.signedMessage=="string"?w.signedMessage:new TextDecoder().decode(w.signedMessage),_=w.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in v)||typeof v.signMessage!="function"||!("publicKey"in v)||typeof v!="object"||!v.publicKey||!("toBase58"in v.publicKey)||typeof v.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${j.host} wants you to sign in with your Solana account:`,v.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(n=p==null?void 0:p.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((h=(d=p==null?void 0:p.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...p.signInWithSolana.resources.map(w=>`- ${w}`)]:[]].join(`
`);const N=await v.signMessage(new TextEncoder().encode(b),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=N}}try{const{data:x,error:y}=await z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:tb(_)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:pt});if(y)throw y;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new _l}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:y})}catch(x){if(C(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(t){const a=await ma(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(a??"").split("/");try{const{data:l,error:i}=await z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:pt});if(await Bt(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new _l}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:s??null}),error:i})}catch(l){if(C(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(t){try{const{options:a,provider:n,token:s,access_token:l,nonce:i}=t,o=await z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:l,nonce:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:pt}),{data:u,error:c}=o;return c?{data:{user:null,session:null},error:c}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new _l}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:c})}catch(a){if(C(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOtp(t){var a,n,s,l,i;try{if("email"in t){const{email:o,options:u}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Ga(this.storage,this.storageKey));const{error:h}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(a=u==null?void 0:u.data)!==null&&a!==void 0?a:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:o,options:u}=t,{data:c,error:d}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(l=u==null?void 0:u.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(i=u==null?void 0:u.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Sl("You must provide either an email or phone number.")}catch(o){if(C(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var a,n;try{let s,l;"options"in t&&(s=(a=t.options)===null||a===void 0?void 0:a.redirectTo,l=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:o}=await z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:l}}),redirectTo:s,xform:pt});if(o)throw o;if(!i)throw new Error("An error occurred on token verification.");const u=i.session,c=i.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if(C(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var a,n,s;try{let l=null,i=null;return this.flowType==="pkce"&&([l,i]=await Ga(this.storage,this.storageKey)),await z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(a=t.options)===null||a===void 0?void 0:a.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:i}),headers:this.headers,xform:_b})}catch(l){if(C(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:a},error:n}=t;if(n)throw n;if(!a)throw new Ht;const{error:s}=await z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(C(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const a=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:l}=t,{error:i}=await z(this.fetch,"POST",a,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:n,type:s,options:l}=t,{data:i,error:o}=await z(this.fetch,"POST",a,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:o}}throw new Sl("You must provide either an email or phone number and a type")}catch(a){if(C(a))return{data:{user:null,session:null},error:a};throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async a=>a))}async _acquireLock(t,a){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await a()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=a();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await t(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const a=await ma(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?t=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Or:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const i=await ma(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=kr()}if(this.storage.isServer&&t.user){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(u,c,d)=>(!i&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,c,d))})}return{data:{session:t},error:null}}const{session:s,error:l}=await this._callRefreshToken(t.refresh_token);return l?{data:{session:null},error:l}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Qt}):await this._useSession(async a=>{var n,s,l;const{data:i,error:o}=a;if(o)throw o;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ht}:await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&l!==void 0?l:void 0,xform:Qt})})}catch(a){if(C(a))return Xv(a)&&(await this._removeSession(),await Bt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:a};throw a}}async updateUser(t,a={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,a))}async _updateUser(t,a={}){try{return await this._useSession(async n=>{const{data:s,error:l}=n;if(l)throw l;if(!s.session)throw new Ht;const i=s.session;let o=null,u=null;this.flowType==="pkce"&&t.email!=null&&([o,u]=await Ga(this.storage,this.storageKey));const{data:c,error:d}=await z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a==null?void 0:a.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:u}),jwt:i.access_token,xform:Qt});if(d)throw d;return i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(C(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ht;const a=Date.now()/1e3;let n=a,s=!0,l=null;const{payload:i}=Dr(t.access_token);if(i.exp&&(n=i.exp,s=n<=a),s){const{session:o,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!o)return{data:{user:null,session:null},error:null};l=o}else{const{data:o,error:u}=await this._getUser(t.access_token);if(u)throw u;l={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-a,expires_at:n},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(a){if(C(a))return{data:{session:null,user:null},error:a};throw a}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async a=>{var n;if(!t){const{data:i,error:o}=a;if(o)throw o;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Ht;const{session:s,error:l}=await this._callRefreshToken(t.refresh_token);return l?{data:{user:null,session:null},error:l}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(a){if(C(a))return{data:{user:null,session:null},error:a};throw a}}async _getSessionFromURL(t,a){try{if(!et())throw new wl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new wl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(a){case"implicit":if(this.flowType==="pkce")throw new Md("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new wl("Not a valid implicit grant flow url.");break;default:}if(a==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Md("No code detected.");const{data:g,error:p}=await this._exchangeCodeForSession(t.code);if(p)throw p;const v=new URL(window.location.href);return v.searchParams.delete("code"),window.history.replaceState(window.history.state,"",v.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:l,refresh_token:i,expires_in:o,expires_at:u,token_type:c}=t;if(!l||!o||!i||!c)throw new wl("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(o);let f=d+h;u&&(f=parseInt(u));const m=f-d;m*1e3<=Ia&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const b=f-h;d-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,f,d):d-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,f,d);const{data:_,error:x}=await this._getUser(l);if(x)throw x;const y={provider_token:n,provider_refresh_token:s,access_token:l,expires_in:h,expires_at:f,refresh_token:i,token_type:c,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(C(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const a=await ma(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&a)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async a=>{var n;const{data:s,error:l}=a;if(l)return{error:l};const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:o}=await this.admin.signOut(i,t);if(o&&!(Qv(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await Bt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const a=nb(),n={id:a,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async a=>{var n,s;try{const{data:{session:l},error:i}=a;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",t,"session",l)}catch(l){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",l),console.error(l)}})}async resetPasswordForEmail(t,a={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Ga(this.storage,this.storageKey,!0));try{return await z(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(l){if(C(l))return{data:null,error:l};throw l}}async getUserIdentities(){var t;try{const{data:a,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=a.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(a){if(C(a))return{data:null,error:a};throw a}}async linkIdentity(t){var a;try{const{data:n,error:s}=await this._useSession(async l=>{var i,o,u,c,d;const{data:h,error:f}=l;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await z(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return et()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(C(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async a=>{var n,s;const{data:l,error:i}=a;if(i)throw i;return await z(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=l.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(a){if(C(a))return{data:null,error:a};throw a}}async _refreshAccessToken(t){const a=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{const n=Date.now();return await rb(async s=>(s>0&&await ib(200*Math.pow(2,s-1)),this._debug(a,"refreshing attempt",s),await z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:pt})),(s,l)=>{const i=200*Math.pow(2,s);return l&&Cr(l)&&Date.now()+i-n<Ia})}catch(n){if(this._debug(a,"error",n),C(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(a,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,a){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",a,"url",n),et()&&!a.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,a;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await ma(this.storage,this.storageKey);if(s&&this.userStorage){let i=await ma(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await Fa(this.userStorage,this.storageKey+"-user",i)),s.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:kr()}else if(s&&!s.user&&!s.user){const i=await ma(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await Bt(this.storage,this.storageKey+"-user"),await Fa(this.storage,this.storageKey,s)):s.user=kr()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const l=((a=s.expires_at)!==null&&a!==void 0?a:1/0)*1e3-Date.now()<Or;if(this._debug(n,`session has${l?"":" not"} expired with margin of ${Or}s`),l){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),Cr(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:o}=await this._getUser(s.access_token);!o&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var a,n;if(!t)throw new Ht;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new $i;const{data:l,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!l.session)throw new Ht;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const o={session:l.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(l){if(this._debug(s,"error",l),C(l)){const i={session:null,error:l};return Cr(l)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(l),l}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,a,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",a,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:a});const l=[],i=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,a)}catch(u){l.push(u)}});if(await Promise.all(i),l.length>0){for(let o=0;o<l.length;o+=1)console.error(l[o]);throw l[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const a=Object.assign({},t),n=a.user&&a.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&a.user&&await Fa(this.userStorage,this.storageKey+"-user",{user:a.user});const s=Object.assign({},a);delete s.user;const l=Hd(s);await Fa(this.storage,this.storageKey,l)}else{const s=Hd(a);await Fa(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Bt(this.storage,this.storageKey),await Bt(this.storage,this.storageKey+"-code-verifier"),await Bt(this.storage,this.storageKey+"-user"),this.userStorage&&await Bt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&et()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ia);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async a=>{const{data:{session:n}}=a;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Ia);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ia}ms, refresh threshold is ${Vo} ticks`),s<=Vo&&await this._callRefreshToken(n.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof yg)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!et()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const a=`#_onVisibilityChanged(${t})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,a,n){const s=[`provider=${encodeURIComponent(a)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[l,i]=await Ga(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const l=new URLSearchParams(n.queryParams);s.push(l.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async a=>{var n;const{data:s,error:l}=a;return l?{data:null,error:l}:await z(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(a){if(C(a))return{data:null,error:a};throw a}}async _enroll(t){try{return await this._useSession(async a=>{var n,s;const{data:l,error:i}=a;if(i)return{data:null,error:i};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:u,error:c}=await z(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=l==null?void 0:l.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(a){if(C(a))return{data:null,error:a};throw a}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var n;const{data:s,error:l}=a;if(l)return{data:null,error:l};const{data:i,error:o}=await z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:o})})}catch(a){if(C(a))return{data:null,error:a};throw a}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var n;const{data:s,error:l}=a;return l?{data:null,error:l}:await z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(a){if(C(a))return{data:null,error:a};throw a}})}async _challengeAndVerify(t){const{data:a,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:a.id,code:t.code})}async _listFactors(){const{data:{user:t},error:a}=await this.getUser();if(a)return{data:null,error:a};const n=(t==null?void 0:t.factors)||[],s=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),l=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:s,phone:l},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var a,n;const{data:{session:s},error:l}=t;if(l)return{data:null,error:l};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Dr(s.access_token);let o=null;i.aal&&(o=i.aal);let u=o;((n=(a=s.user.factors)===null||a===void 0?void 0:a.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const d=i.amr||[];return{data:{currentLevel:o,nextLevel:u,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,a={keys:[]}){let n=a.keys.find(o=>o.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+Vv>s)return n;const{data:l,error:i}=await z(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=s,n=l.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,a={}){try{let n=t;if(!n){const{data:m,error:b}=await this.getSession();if(b||!m.session)return{data:null,error:b};n=m.session.access_token}const{header:s,payload:l,signature:i,raw:{header:o,payload:u}}=Dr(n);a!=null&&a.allowExpired||mb(l.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,a!=null&&a.keys?{keys:a.keys}:a==null?void 0:a.jwks);if(!c){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:l,header:s,signature:i},error:null}}const d=gb(s.alg),h=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,i,eb(`${o}.${u}`)))throw new Xo("Invalid JWT signature");return{data:{claims:l,header:s,signature:i},error:null}}catch(n){if(C(n))return{data:null,error:n};throw n}}}Bs.nextInstanceID=0;const Db=Bs;class kb extends Db{constructor(t){super(t)}}var Rb=function(e,t,a,n){function s(l){return l instanceof a?l:new a(function(i){i(l)})}return new(a||(a=Promise))(function(l,i){function o(d){try{c(n.next(d))}catch(h){i(h)}}function u(d){try{c(n.throw(d))}catch(h){i(h)}}function c(d){d.done?l(d.value):s(d.value).then(o,u)}c((n=n.apply(e,t||[])).next())})};class Mb{constructor(t,a,n){var s,l,i;this.supabaseUrl=t,this.supabaseKey=a;const o=Hv(t);if(!a)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const u=`sb-${o.hostname.split(".")[0]}-auth-token`,c={db:Ov,realtime:Dv,auth:Object.assign(Object.assign({},Cv),{storageKey:u}),global:Tv},d=Lv(n??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(l=d.global.headers)!==null&&l!==void 0?l:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=d.auth)!==null&&i!==void 0?i:{},this.headers,d.global.fetch),this.fetch=Uv(a,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Pp(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Nv(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Ep(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,a={},n={}){return this.rest.rpc(t,a,n)}channel(t,a={config:{}}){return this.realtime.channel(t,a)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,a;return Rb(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(a=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&a!==void 0?a:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:a,detectSessionInUrl:n,storage:s,userStorage:l,storageKey:i,flowType:o,lock:u,debug:c},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new kb({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:i,autoRefreshToken:t,persistSession:a,detectSessionInUrl:n,storage:s,userStorage:l,flowType:o,lock:u,debug:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new fv(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,n)=>{this._handleTokenChanged(a,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,a,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const pg=(e,t,a)=>new Mb(e,t,a);function Ub(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Ub()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var Mr={};let jl=null,Ur=!1;const Gi=()=>{if(jl)return jl;if(Ur)return null;if(typeof process>"u"||typeof Mr>"u")return console.log("Supabase environment variables not found. The application will run in offline mode using local mock data."),Ur=!0,null;const e=Mr.SUPABASE_URL,t=Mr.SUPABASE_ANON_KEY;return!e||!t?(console.log("Supabase URL and/or Anon Key not set. The application will run in offline mode using local mock data."),Ur=!0,null):(jl=pg(e,t),jl)},ns=e=>{if(!e)return e;const t=e.data??e;if(!t)return e;const a=JSON.parse(JSON.stringify(t));if(a.websiteContent&&a.websiteContent.theme){const n=a.websiteContent.theme;typeof n=="string"?a.websiteContent.theme={primary:n,secondary:"#64748b",accent:"#8b5cf6"}:typeof n=="object"&&n!==null&&(a.websiteContent.theme={primary:n.primary||"#3b82f6",secondary:n.secondary||"#64748b",accent:n.accent||"#8b5cf6"})}return a},Nl=[{id:"school-1",name:"Demo Primary School",address:"123 Education Street, Lagos, Nigeria",email:"admin@demoprimary.edu.ng",phone:"+234-803-123-4567",slug:"demo-primary",currentSession:"2024/2025",currentTerm:"First Term",planId:"basic",students:[],staff:[],teamMembers:[],applicants:[],smsSettings:{manualTemplates:[]},communicationSettings:{manualTemplates:[],transactionalNotifications:{paymentConfirmation:{emailSubject:"Payment Confirmation",emailTemplate:"Thank you for your payment."}}},otherIncome:[],expenditures:[],feeDefinitions:[{id:"fee-1",name:"Tuition Fee",category:"Academic",amounts:[{class:"Primary 1",amount:45e3,type:"mandatory"},{class:"Primary 2",amount:48e3,type:"mandatory"},{class:"Primary 3",amount:5e4,type:"mandatory"}],isRecurring:!0,description:"Termly tuition fee"}],settings:{currency:"NGN",academicYear:"2024/2025",terms:["First Term","Second Term","Third Term"],gradeSystem:"A-F",paymentMethods:["Bank Transfer","Card Payment","Cash"],notifications:{emailEnabled:!0,smsEnabled:!0,whatsappEnabled:!1,reminderDays:[7,3,1]}}}],Al={id:"platform-1",websiteContent:{title:"SchoolFee.NG",tagline:"Smart School Fees Management for Nigerian Schools",description:"Streamline fee collection, track payments, and improve school finances with our comprehensive management system.",features:[{id:"feature-1",title:"Easy Payment Collection",description:"Accept payments via multiple channels including bank transfer, cards, and mobile money.",imageUrl:"/images/payment-collection.jpg"},{id:"feature-2",title:"Real-time Analytics",description:"Get insights into payment patterns, outstanding debts, and financial health.",imageUrl:"/images/analytics.jpg"}],testimonials:{title:"What Our Schools Say",items:[{id:"testimonial-1",name:"Mrs. Adebayo",title:"Principal, Bright Future Academy",quote:"SchoolFee.NG has transformed how we manage our school finances. Payment collection is now seamless!"}]},theme:{primary:"#3b82f6",secondary:"#64748b",accent:"#8b5cf6"},contactInfo:{email:"hello@schoolfee.ng",phone:"+234-809-876-5432",address:"Lagos, Nigeria"}},pricingPlans:[{id:"basic",name:"Basic",prices:{monthly:5e3,yearly:5e4},features:["Up to 100 students","Basic reporting","Email support"],limits:{students:100,staff:5,storage:"1GB"}},{id:"advanced",name:"Advanced",prices:{monthly:15e3,yearly:15e4},features:["Up to 500 students","Advanced analytics","SMS notifications","Priority support"],isPopular:!0,limits:{students:500,staff:20,storage:"5GB"}},{id:"enterprise",name:"Enterprise",prices:{monthly:3e4,yearly:3e5},features:["Unlimited students","AI insights","WhatsApp integration","Dedicated support"],limits:{students:-1,staff:-1,storage:"Unlimited"}}],knowledgeBaseArticles:[{id:"kb-1",title:"Getting Started Guide",content:"Welcome to SchoolFee.NG! This guide will help you set up your school account...",category:"Getting Started",tags:["setup","beginner"],createdAt:"2024-01-01",updatedAt:"2024-01-01",status:"published"}],supportConfig:{email:"support@schoolfee.ng",phone:"+234-809-876-5432",chatEnabled:!0,ticketingEnabled:!0,knowledgeBaseEnabled:!0}},zb=()=>{const[e,t]=T.useState([]),[a,n]=T.useState(null),[s,l]=T.useState(!0),[i,o]=T.useState(null),u=async()=>{try{l(!0),o(null);const d=Gi();if(d)try{const{data:h,error:f}=await d.from("schools").select("*");if(f)throw f;const{data:m,error:b}=await d.from("platform_config").select("*").single();if(b&&b.code!=="PGRST116")throw b;t(h||Nl),n(ns(m||Al))}catch(h){console.log("Supabase query failed, using mock data:",h),t(Nl),n(ns(Al))}else console.log("No Supabase connection, using mock data"),t(Nl),n(ns(Al))}catch(d){console.error("Data fetch error:",d),o(d instanceof Error?d.message:"Failed to fetch data"),t(Nl),n(ns(Al))}finally{l(!1)}},c=async()=>{await u()};return T.useEffect(()=>{u()},[]),{schools:e,platformConfig:a,isLoading:s,error:i,refreshData:c}},zr=e=>{if(!e||typeof e!="string")return console.warn(`Invalid hex color value provided to hexToHslString: ${e}`),"0 0% 0%";e=e.replace(/^#/,""),e.length===3&&(e=e.split("").map(_=>_+_).join(""));const t=parseInt(e.substring(0,2),16),a=parseInt(e.substring(2,4),16),n=parseInt(e.substring(4,6),16);if(isNaN(t)||isNaN(a)||isNaN(n))return console.warn(`Could not parse hex color: #${e}`),"0 0% 0%";const s=t/255,l=a/255,i=n/255,o=Math.max(s,l,i),u=Math.min(s,l,i);let c=0,d=0,h=(o+u)/2;if(o!==u){const _=o-u;switch(d=h>.5?_/(2-o-u):_/(o+u),o){case s:c=(l-i)/_+(l<i?6:0);break;case l:c=(i-s)/_+2;break;case i:c=(s-l)/_+4;break}c/=6}const f=Math.round(c*360),m=Math.round(d*100),b=Math.round(h*100);return`${f} ${m}% ${b}%`},Bb=e=>{T.useEffect(()=>{if(e){const t=document.documentElement;t.style.setProperty("--p",zr(e.primary)),t.style.setProperty("--s",zr(e.secondary)),t.style.setProperty("--a",zr(e.accent)),t.style.setProperty("--pc","0 0% 100%"),t.style.setProperty("--sc","0 0% 100%"),t.style.setProperty("--ac","0 0% 100%")}},[e])};var Br={};let El=null,Lr=!1;const Wu=()=>{if(El)return El;if(Lr)return null;if(typeof process>"u"||typeof Br>"u")return console.log("Supabase environment variables not found. The application will run in offline mode using local mock data."),Lr=!0,null;const e=Br.SUPABASE_URL,t=Br.SUPABASE_ANON_KEY;return!e||!t?(console.log("Supabase URL and/or Anon Key not set. The application will run in offline mode using local mock data."),Lr=!0,null):(El=pg(e,t),El)};let Ta=null,Tt=[];const Lb=e=>(Tt.push(e),e(Ta),{unsubscribe:()=>{const t=Tt.indexOf(e);t>-1&&Tt.splice(t,1)}}),vg=async(e,t)=>{var n,s,l;const a=Wu();if(a)try{const{data:i,error:o}=await a.auth.signInWithPassword({email:e,password:t});if(o)throw o;const u={id:i.user.id,email:i.user.email||e,name:((n=i.user.user_metadata)==null?void 0:n.name)||"User",role:((s=i.user.user_metadata)==null?void 0:s.role)||"parent",schoolId:(l=i.user.user_metadata)==null?void 0:l.schoolId};return Ta=u,Tt.forEach(c=>c(u)),u}catch(i){throw console.error("Sign in error:",i),i}else{const i={id:"demo-user",email:e,name:"Demo User",role:"schoolAdmin",schoolId:"demo-school-id"};return Ta=i,Tt.forEach(o=>o(i)),i}},Hb=async()=>{const e=Wu();e&&await e.auth.signOut(),Ta=null,Tt.forEach(t=>t(null))},qb=async()=>{var t,a,n;const e=Wu();if(e){const{data:{session:s}}=await e.auth.getSession();if(s!=null&&s.user){const l={id:s.user.id,email:s.user.email||"",name:((t=s.user.user_metadata)==null?void 0:t.name)||"User",role:((a=s.user.user_metadata)==null?void 0:a.role)||"parent",schoolId:(n=s.user.user_metadata)==null?void 0:n.schoolId};Ta=l,Tt.forEach(i=>i(l))}e.auth.onAuthStateChange((l,i)=>{var o,u,c;if(i!=null&&i.user){const d={id:i.user.id,email:i.user.email||"",name:((o=i.user.user_metadata)==null?void 0:o.name)||"User",role:((u=i.user.user_metadata)==null?void 0:u.role)||"parent",schoolId:(c=i.user.user_metadata)==null?void 0:c.schoolId};Ta=d,Tt.forEach(h=>h(d))}else Ta=null,Tt.forEach(d=>d(null))})}};qb();const $b=({platformConfig:e})=>{const[t,a]=T.useState(""),[n,s]=T.useState(""),[l,i]=T.useState(!1),[o,u]=T.useState(null),[c,d]=T.useState(!1),h=async m=>{m.preventDefault(),i(!0),u(null);try{await vg(t,n)}catch(b){u(b instanceof Error?b.message:"Login failed. Please try again.")}finally{i(!1)}},{websiteContent:f}=e;return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/10 to-secondary/10 flex items-center justify-center p-4",children:r.jsxs("div",{className:"max-w-md w-full space-y-8",children:[r.jsxs("div",{className:"text-center",children:[f.logo&&r.jsx("img",{className:"mx-auto h-12 w-auto",src:f.logo,alt:f.title}),r.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:c?"Create Account":"Sign in to your account"}),r.jsx("p",{className:"mt-2 text-sm text-gray-600",children:f.tagline})]}),r.jsx("div",{className:"card bg-base-100 shadow-xl",children:r.jsxs("div",{className:"card-body",children:[r.jsxs("form",{onSubmit:h,className:"space-y-4",children:[r.jsxs("div",{className:"form-control",children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:"Email address"})}),r.jsx("input",{type:"email",placeholder:"Enter your email",className:"input input-bordered",value:t,onChange:m=>a(m.target.value),required:!0,disabled:l})]}),r.jsxs("div",{className:"form-control",children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:"Password"})}),r.jsx("input",{type:"password",placeholder:"Enter your password",className:"input input-bordered",value:n,onChange:m=>s(m.target.value),required:!0,disabled:l}),r.jsx("label",{className:"label",children:r.jsx("a",{href:"#",className:"label-text-alt link link-hover",children:"Forgot your password?"})})]}),o&&r.jsxs("div",{className:"alert alert-error",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsx("span",{children:o})]}),r.jsx("div",{className:"form-control mt-6",children:r.jsx("button",{type:"submit",className:`btn btn-primary ${l?"loading":""}`,disabled:l,children:l?"Signing in...":c?"Create Account":"Sign In"})})]}),r.jsx("div",{className:"divider",children:"OR"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm text-gray-600 text-center",children:"Try our demo accounts:"}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx("button",{type:"button",className:"btn btn-outline btn-sm",onClick:()=>{a("admin@sunnydale.com"),s("password123")},disabled:l,children:"School Admin Demo"}),r.jsx("button",{type:"button",className:"btn btn-outline btn-sm",onClick:()=>{a("parent@sunnydale.com"),s("password123")},disabled:l,children:"Parent Demo"})]})]}),r.jsx("div",{className:"text-center mt-4",children:r.jsxs("p",{className:"text-sm text-gray-600",children:[c?"Already have an account?":"Don't have an account?"," ",r.jsx("button",{type:"button",className:"link link-primary",onClick:()=>d(!c),disabled:l,children:c?"Sign in":"Sign up"})]})})]})}),r.jsx("div",{className:"text-center text-sm text-gray-500",children:r.jsxs("p",{children:[" 2024 ",f.title,". All rights reserved."]})})]})})},Gb=({school:e,onLogin:t})=>{const[a,n]=Ss.useState(""),[s,l]=Ss.useState(""),i=o=>{o.preventDefault(),t(a,s)};return r.jsx("div",{className:"min-h-screen bg-base-200 flex items-center justify-center",children:r.jsx("div",{className:"card w-96 bg-base-100 shadow-xl",children:r.jsxs("div",{className:"card-body",children:[r.jsxs("h2",{className:"card-title",children:[(e==null?void 0:e.name)||"School"," Portal"]}),r.jsxs("form",{onSubmit:i,children:[r.jsxs("div",{className:"form-control",children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:"Email"})}),r.jsx("input",{type:"email",placeholder:"Enter your email",className:"input input-bordered",value:a,onChange:o=>n(o.target.value),required:!0})]}),r.jsxs("div",{className:"form-control",children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:"Password"})}),r.jsx("input",{type:"password",placeholder:"Enter your password",className:"input input-bordered",value:s,onChange:o=>l(o.target.value),required:!0})]}),r.jsx("div",{className:"form-control mt-6",children:r.jsx("button",{type:"submit",className:"btn btn-primary",children:"Sign In"})})]})]})})})},Vd=({school:e,platformConfig:t})=>{var a;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Dashboard"}),r.jsxs("p",{className:"text-lg text-gray-600",children:["Welcome to ",e.name]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx("div",{className:"card bg-base-100 shadow-xl",children:r.jsxs("div",{className:"card-body",children:[r.jsx("h2",{className:"card-title",children:"Students"}),r.jsx("p",{className:"text-3xl font-bold text-primary",children:e.students.length}),r.jsx("p",{className:"text-sm text-gray-600",children:"Total enrolled students"})]})}),r.jsx("div",{className:"card bg-base-100 shadow-xl",children:r.jsxs("div",{className:"card-body",children:[r.jsx("h2",{className:"card-title",children:"Staff"}),r.jsx("p",{className:"text-3xl font-bold text-secondary",children:e.staff.length}),r.jsx("p",{className:"text-sm text-gray-600",children:"Active staff members"})]})}),r.jsx("div",{className:"card bg-base-100 shadow-xl",children:r.jsxs("div",{className:"card-body",children:[r.jsx("h2",{className:"card-title",children:"Applicants"}),r.jsx("p",{className:"text-3xl font-bold text-accent",children:e.applicants.length}),r.jsx("p",{className:"text-sm text-gray-600",children:"Pending applications"})]})})]}),r.jsx("div",{className:"card bg-base-100 shadow-xl",children:r.jsxs("div",{className:"card-body",children:[r.jsx("h2",{className:"card-title",children:"School Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Current Session:"})," ",e.currentSession]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Current Term:"})," ",e.currentTerm]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Address:"})," ",e.address]})]}),r.jsxs("div",{children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Email:"})," ",e.email]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Phone:"})," ",e.phone]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Plan:"})," ",((a=t.pricingPlans.find(n=>n.id===e.planId))==null?void 0:a.name)||"Unknown"]})]})]})]})})]})},Qa=({icon:e,label:t,active:a,onClick:n,isSubItem:s=!1})=>r.jsxs("button",{onClick:n,className:`flex items-center w-full px-3 py-2.5 text-sm font-medium rounded-lg transition-colors ${a?"bg-primary/10 text-primary":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"} ${s?"pl-9":""}`,"aria-label":t,"aria-current":a?"page":void 0,children:[!s&&Ss.cloneElement(e,{className:"w-6 h-6"}),r.jsx("span",{className:`${s?"":"ml-3"}`,children:t})]}),Yb=({className:e})=>r.jsx("svg",{width:"40",height:"40",viewBox:"0 0 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:r.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),Vb=({activeView:e,setActiveView:t,onLogout:a})=>{const n=[{label:"Dashboard",icon:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24",fill:"none",strokeWidth:2,stroke:"currentColor",children:[r.jsx("rect",{width:"7",height:"9",x:"3",y:"3",rx:"1"}),r.jsx("rect",{width:"7",height:"5",x:"14",y:"3",rx:"1"}),r.jsx("rect",{width:"7",height:"9",x:"14",y:"12",rx:"1"}),r.jsx("rect",{width:"7",height:"5",x:"3",y:"16",rx:"1"})]})},{label:"Students",icon:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24",fill:"none",strokeWidth:2,stroke:"currentColor",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),r.jsx("circle",{cx:"9",cy:"7",r:"4"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M22 21v-2a4 4 0 0 0-3-3.87"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 3.13a4 4 0 0 1 0 7.75"})]})},{label:"Admissions",icon:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),r.jsx("rect",{width:"8",height:"4",x:"8",y:"2",rx:"1"}),r.jsx("path",{d:"m9 14 2 2 4-4"})]})},{label:"Bursary",icon:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24",fill:"none",strokeWidth:2,stroke:"currentColor",children:[r.jsx("rect",{width:"20",height:"14",x:"2",y:"5",rx:"2"}),r.jsx("line",{x1:"2",x2:"22",y1:"10",y2:"10"})]})},{label:"Reports",icon:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24",fill:"none",strokeWidth:2,stroke:"currentColor",children:[r.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"10"}),r.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"4"}),r.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"16"})]})}],s=[{label:"Staff",icon:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24",fill:"none",strokeWidth:2,stroke:"currentColor",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),r.jsx("circle",{cx:"9",cy:"7",r:"4"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M22 21v-2a4 4 0 0 0-3-3.87"}),r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 3.13a4 4 0 0 1 0 7.75"})]})},{label:"Communication",icon:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24",fill:"none",strokeWidth:2,stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})})},{label:"Printing",icon:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24",fill:"none",strokeWidth:2,stroke:"currentColor",children:[r.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),r.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),r.jsx("rect",{width:"12",height:"8",x:"6",y:"14"})]})},{label:"AI Insights",icon:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24",fill:"none",strokeWidth:2,stroke:"currentColor",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8V4H8"}),r.jsx("rect",{width:"16",height:"12",x:"4",y:"8",rx:"2"}),r.jsx("path",{d:"M2 14h2"}),r.jsx("path",{d:"M20 14h2"}),r.jsx("path",{d:"M15 13v2"}),r.jsx("path",{d:"M9 13v2"})]})},{label:"Knowledge Base",icon:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24",fill:"none",strokeWidth:2,stroke:"currentColor",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),r.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]})}],l=[{label:"Student Payments"},{label:"Invoices & Receipts"},{label:"Other Income"},{label:"Expenditures"},{label:"Payroll"},{label:"Reconciliation"},{label:"Fee Structure"}],i=e==="Bursary"||l.some(o=>o.label===e);return r.jsxs("aside",{className:"fixed inset-y-0 left-0 z-50 w-64 bg-white border-r border-gray-200 flex-col hidden md:flex",children:[r.jsxs("div",{className:"flex items-center justify-center p-4 h-16 border-b",children:[r.jsx(Yb,{className:"text-primary"}),r.jsx("h1",{className:"text-xl font-bold ml-2 text-secondary",children:"FeePilot AI"})]}),r.jsxs("nav",{className:"flex-1 px-4 py-4 space-y-1 overflow-y-auto",children:[r.jsx("h3",{className:"px-3 pb-2 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Main Menu"}),n.map(o=>o.label==="Bursary"?r.jsxs("div",{children:[r.jsx(Qa,{label:o.label,icon:o.icon,active:i,onClick:()=>t("Student Payments")}),i&&r.jsx("div",{className:"pl-6 pt-1 space-y-1",children:l.map(u=>r.jsx(Qa,{label:u.label,icon:r.jsx(r.Fragment,{}),active:e===u.label,onClick:()=>t(u.label),isSubItem:!0},u.label))})]},o.label):r.jsx(Qa,{label:o.label,icon:o.icon,active:e===o.label,onClick:()=>t(o.label)},o.label)),r.jsxs("div",{className:"pt-4 mt-4 border-t",children:[r.jsx("h3",{className:"px-3 pb-2 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Tools"}),s.map(o=>r.jsx(Qa,{label:o.label,icon:o.icon,active:e===o.label,onClick:()=>t(o.label)},o.label))]})]}),r.jsxs("div",{className:"mt-auto px-4 py-4 border-t",children:[r.jsx(Qa,{label:"Settings",icon:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24",fill:"none",strokeWidth:2,stroke:"currentColor",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 0 2.22l-.15.1a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l-.22-.38a2 2 0 0 0-.73-2.73l-.15-.1a2 2 0 0 1 0-2.22l.15-.1a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),r.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),active:e==="Settings",onClick:()=>t("Settings")}),r.jsx(Qa,{label:"Logout",icon:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24",fill:"none",strokeWidth:2,stroke:"currentColor",children:[r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),r.jsx("polyline",{points:"16 17 21 12 16 7"}),r.jsx("line",{x1:"21",x2:"9",y1:"12",y2:"12"})]}),active:!1,onClick:a})]})]})},Kb=({view:e,schoolName:t,adminName:a,isImpersonating:n})=>r.jsx("header",{className:"fixed top-0 left-0 right-0 bg-base-100 shadow-md z-50",children:r.jsxs("div",{className:"navbar px-6",children:[r.jsxs("div",{className:"navbar-start",children:[r.jsx("label",{htmlFor:"my-drawer-2",className:"btn btn-square btn-ghost lg:hidden",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("h1",{className:"text-xl font-bold",children:t}),n&&r.jsx("span",{className:"badge badge-warning",children:"Impersonating"})]})]}),r.jsx("div",{className:"navbar-center",children:r.jsx("h2",{className:"text-lg font-medium",children:e})}),r.jsx("div",{className:"navbar-end",children:r.jsxs("div",{className:"dropdown dropdown-end",children:[r.jsx("label",{tabIndex:0,className:"btn btn-ghost btn-circle avatar",children:r.jsx("div",{className:"w-10 rounded-full bg-primary text-primary-content flex items-center justify-center",children:a.charAt(0).toUpperCase()})}),r.jsxs("ul",{tabIndex:0,className:"mt-3 z-[1] p-2 shadow menu menu-sm dropdown-content bg-base-100 rounded-box w-52",children:[r.jsx("li",{children:r.jsx("a",{href:"#profile",children:"Profile"})}),r.jsx("li",{children:r.jsx("a",{href:"#settings",children:"Settings"})}),r.jsx("li",{children:r.jsx("a",{href:"#logout",children:"Logout"})})]})]})})]})}),Qb=({school:e,refreshData:t})=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Students"}),r.jsx("button",{className:"btn btn-primary",onClick:t,children:"Refresh Data"})]}),r.jsx("div",{className:"card bg-base-100 shadow-xl",children:r.jsxs("div",{className:"card-body",children:[r.jsx("h2",{className:"card-title",children:"Student Management"}),r.jsxs("p",{children:["Manage students for ",e==null?void 0:e.name]})]})})]}),Xb=({school:e,refreshData:t})=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Team"}),r.jsx("button",{className:"btn btn-primary",onClick:t,children:"Refresh Data"})]}),r.jsx("div",{className:"card bg-base-100 shadow-xl",children:r.jsxs("div",{className:"card-body",children:[r.jsx("h2",{className:"card-title",children:"Team Management"}),r.jsxs("p",{children:["Manage team members for ",e==null?void 0:e.name]})]})})]}),Zb=({school:e})=>r.jsxs("div",{className:"space-y-6",children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Reports"}),r.jsx("div",{className:"card bg-base-100 shadow-xl",children:r.jsxs("div",{className:"card-body",children:[r.jsx("h2",{className:"card-title",children:"Financial Reports"}),r.jsxs("p",{children:["View reports for ",e==null?void 0:e.name]})]})})]}),Pb=({school:e,platformConfig:t})=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Communication"}),r.jsx("button",{className:"btn btn-primary",children:"New Message"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsx("div",{className:"card bg-base-100 shadow-xl",children:r.jsxs("div",{className:"card-body",children:[r.jsx("h2",{className:"card-title",children:"Send Messages"}),r.jsx("p",{className:"text-gray-600",children:"Communicate with students, parents, and staff"}),r.jsxs("div",{className:"space-y-4 mt-4",children:[r.jsx("button",{className:"btn btn-outline w-full",children:"Send to All Parents"}),r.jsx("button",{className:"btn btn-outline w-full",children:"Send to All Students"}),r.jsx("button",{className:"btn btn-outline w-full",children:"Send to Staff"}),r.jsx("button",{className:"btn btn-outline w-full",children:"Custom Recipients"})]})]})}),r.jsx("div",{className:"card bg-base-100 shadow-xl",children:r.jsxs("div",{className:"card-body",children:[r.jsx("h2",{className:"card-title",children:"Communication Settings"}),r.jsx("p",{className:"text-gray-600",children:"Configure notification preferences"}),r.jsxs("div",{className:"space-y-4 mt-4",children:[r.jsx("div",{className:"form-control",children:r.jsxs("label",{className:"label cursor-pointer",children:[r.jsx("span",{className:"label-text",children:"Email Notifications"}),r.jsx("input",{type:"checkbox",className:"checkbox",defaultChecked:e.settings.notifications.emailEnabled})]})}),r.jsx("div",{className:"form-control",children:r.jsxs("label",{className:"label cursor-pointer",children:[r.jsx("span",{className:"label-text",children:"SMS Notifications"}),r.jsx("input",{type:"checkbox",className:"checkbox",defaultChecked:e.settings.notifications.smsEnabled})]})}),r.jsx("div",{className:"form-control",children:r.jsxs("label",{className:"label cursor-pointer",children:[r.jsx("span",{className:"label-text",children:"WhatsApp Notifications"}),r.jsx("input",{type:"checkbox",className:"checkbox",defaultChecked:e.settings.notifications.whatsappEnabled})]})})]})]})})]}),r.jsx("div",{className:"card bg-base-100 shadow-xl",children:r.jsxs("div",{className:"card-body",children:[r.jsx("h2",{className:"card-title",children:"Recent Communications"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Date"}),r.jsx("th",{children:"Subject"}),r.jsx("th",{children:"Recipients"}),r.jsx("th",{children:"Status"})]})}),r.jsxs("tbody",{children:[r.jsxs("tr",{children:[r.jsx("td",{children:"2025-09-23"}),r.jsx("td",{children:"School Reopening Notice"}),r.jsx("td",{children:"All Parents"}),r.jsx("td",{children:r.jsx("span",{className:"badge badge-success",children:"Sent"})})]}),r.jsxs("tr",{children:[r.jsx("td",{children:"2025-09-22"}),r.jsx("td",{children:"Fee Payment Reminder"}),r.jsx("td",{children:"Outstanding Debtors"}),r.jsx("td",{children:r.jsx("span",{className:"badge badge-success",children:"Sent"})})]}),r.jsxs("tr",{children:[r.jsx("td",{children:"2025-09-21"}),r.jsx("td",{children:"Staff Meeting Notice"}),r.jsx("td",{children:"All Staff"}),r.jsx("td",{children:r.jsx("span",{className:"badge badge-success",children:"Sent"})})]})]})]})})]})})]}),Jb=({school:e,platformConfig:t})=>r.jsxs("div",{className:"space-y-6",children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Print Center"}),r.jsx("div",{className:"card bg-base-100 shadow-xl",children:r.jsxs("div",{className:"card-body",children:[r.jsx("h2",{className:"card-title",children:"Print Documents"}),r.jsxs("p",{children:["Print center for ",e==null?void 0:e.name]})]})})]}),Ib=({school:e,refreshData:t})=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Settings"}),r.jsx("button",{className:"btn btn-primary",onClick:t,children:"Refresh Data"})]}),r.jsx("div",{className:"card bg-base-100 shadow-xl",children:r.jsxs("div",{className:"card-body",children:[r.jsx("h2",{className:"card-title",children:"School Settings"}),r.jsxs("p",{children:["Configure settings for ",e==null?void 0:e.name]})]})})]});var Oa=(e=>(e.Low="low",e.Medium="medium",e.High="high",e))(Oa||{}),je=(e=>(e.Pending="pending",e.Applied="applied",e.AwaitingTest="awaiting_test",e.Reviewed="reviewed",e.Accepted="accepted",e.OfferedAdmission="offered_admission",e.Rejected="rejected",e.AdmissionDeclined="admission_declined",e.Enrolled="enrolled",e))(je||{}),ba=(e=>(e.First="first",e.Second="second",e.Third="third",e))(ba||{}),bg=(e=>(e.Administrator="administrator",e.Teacher="teacher",e.Student="student",e.Parent="parent",e))(bg||{}),Kd={};let Zo=null;const Fb=async()=>{try{const e=await Hn(()=>import("./index-CUGDP5D7.js"),[],import.meta.url);return Zo=e.default||e.GoogleGenerativeAI||e,!0}catch{return console.log("Google Generative AI not available, using mock responses"),!1}};let Hr=null,In=!1;const xg=async()=>{if(In)return Hr;const e=Kd.GEMINI_API_KEY||Kd.GOOGLE_AI_API_KEY;if(!e)return console.log("Gemini API key not found. AI features will use mock responses."),In=!0,null;try{return await Fb()&&Zo?(Hr=new Zo(e),In=!0,Hr):(console.log("Google AI library not available, using mock responses"),In=!0,null)}catch(t){return console.error("Failed to initialize Gemini AI:",t),In=!0,null}},Wb=async e=>{const t=await xg();if(!t)return{summary:`Analysis of ${e.length} high-risk students shows significant debt patterns. Total outstanding fees: ${e.reduce((a,n)=>a+(n.outstandingFees||0),0).toLocaleString()}.`,recommendations:["Implement payment plans for students with outstanding fees above 50,000","Send automated SMS reminders to parents 7 days before due dates","Offer early payment discounts to encourage prompt fee payments","Schedule parent-teacher meetings to discuss payment challenges","Consider partial scholarship programs for genuinely struggling families"]};try{const a=t.getGenerativeModel({model:"gemini-pro"}),s=`
      Analyze the following high-risk debt students for a Nigerian school:
      
      ${e.map(u=>{var c;return`${u.name}: ${((c=u.outstandingFees)==null?void 0:c.toLocaleString())||"0"} outstanding`}).join(`
`)}
      
      Please provide:
      1. A brief summary of the financial situation
      2. 3-5 specific, actionable recommendations for improving debt collection
      
      Keep recommendations practical for a Nigerian school context, considering cultural and economic factors.
      Return the response as JSON with 'summary' and 'recommendations' fields.
    `,o=(await(await a.generateContent(s)).response).text();try{const u=JSON.parse(o);return{summary:u.summary||"Analysis completed successfully.",recommendations:Array.isArray(u.recommendations)?u.recommendations:["Review payment terms and consider flexible payment options","Improve communication with parents about outstanding fees","Implement early warning system for potential defaulters"]}}catch{return{summary:`AI analysis completed for ${e.length} high-risk students.`,recommendations:["Implement structured payment plans for high-debt students","Increase communication frequency with parents of at-risk students","Consider offering financial counseling services","Review fee structures to ensure affordability"]}}}catch(a){throw console.error("Gemini API error:",a),new Error("AI analysis temporarily unavailable. Please try again later.")}},ex=async(e,t)=>{const a=await xg();if(!a){const n=["I'm here to help with school fee management questions! However, AI services need to be configured with an API key to provide personalized responses.","I can help you with questions about student payments, fee structures, and debt management once the AI services are properly set up.","For now, please refer to the Knowledge Base section for common questions and answers about the school fees system."];return n[Math.floor(Math.random()*n.length)]}try{const n=a.getGenerativeModel({model:"gemini-pro"}),s=`
      You are an AI assistant for SchoolFee.NG, a Nigerian school fees management system.
      
      User message: "${e}"
      
      Context: ${t?JSON.stringify(t):"General inquiry"}
      
      Provide a helpful, concise response focused on school fee management, payments, and administration.
      Keep responses professional and relevant to the Nigerian education context.
    `;return(await(await n.generateContent(s)).response).text()}catch(n){return console.error("Chatbot AI error:",n),"I'm sorry, I'm having trouble processing your request right now. Please try again later or contact support for assistance."}},tx=({currentPlanName:e,onUpgrade:t})=>r.jsx("div",{className:"card bg-gradient-to-r from-primary to-secondary text-primary-content",children:r.jsxs("div",{className:"card-body",children:[r.jsx("h2",{className:"card-title",children:"Upgrade Required"}),r.jsxs("p",{children:["This feature requires a premium plan to continue. ",e&&`You are currently on the ${e} plan.`]}),r.jsx("div",{className:"card-actions justify-end",children:r.jsx("button",{className:"btn btn-accent",onClick:t,children:"Upgrade Now"})})]})}),ax=({school:e,plan:t,onUpgrade:a})=>{const[n,s]=T.useState(!0),[l,i]=T.useState(null),[o,u]=T.useState(null),c=T.useMemo(()=>t&&t.name.toLowerCase()==="enterprise",[t]),d=T.useMemo(()=>e.students.filter(h=>h.debtRisk===Oa.High),[e.students]);return T.useEffect(()=>{if(!c){s(!1);return}(async()=>{if(d.length===0){i({summary:"No high-risk debtors found. Your school's financial health is excellent in this regard!",recommendations:[]}),s(!1);return}try{s(!0),u(null);const f=await Wb(d);i(f)}catch(f){u(f.message||"Failed to fetch AI analysis. Please try again later."),console.error(f)}finally{s(!1)}})()},[e.id,d,c]),c?r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-md",children:r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"bg-primary/10 text-primary p-3 rounded-full flex-shrink-0",children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M12 8V4H8"}),r.jsx("rect",{width:"16",height:"12",x:"4",y:"8",rx:"2"}),r.jsx("path",{d:"m9 12 2 2 4-4"})]})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-secondary",children:"AI Financial Health Analysis"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Powered by Gemini, this analysis focuses on high-risk debtors to provide actionable insights for improving fee collection."})]})]})}),n&&r.jsxs("div",{className:"bg-white p-12 rounded-xl shadow-md text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),r.jsx("p",{className:"mt-4 font-semibold text-secondary",children:"Analyzing your financial data..."}),r.jsx("p",{className:"text-sm text-gray-500",children:"This may take a few moments."})]}),o&&r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md animate-fade-in",children:[r.jsxs("div",{className:"text-center text-orange-700 bg-orange-100 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-bold",children:"AI Analysis Unavailable"}),r.jsx("p",{className:"text-sm",children:o})]}),r.jsxs("div",{className:"mt-6",children:[r.jsx("h4",{className:"text-lg font-semibold text-secondary",children:"Manual Review: High-Risk Students"}),r.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["The AI analysis could not be loaded. You can manually review the ",d.length," high-risk students below."]}),r.jsx("div",{className:"text-sm space-y-1 max-h-60 overflow-y-auto border rounded-md p-2",children:d.map(h=>r.jsxs("div",{className:"flex justify-between p-1 hover:bg-gray-50 rounded",children:[r.jsx("span",{className:"text-gray-800",children:h.name}),r.jsxs("span",{className:"font-mono text-red-600",children:["",h.outstandingFees.toLocaleString()]})]},h.id))})]})]}),!n&&!o&&l&&r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 animate-fade-in",children:[r.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-xl shadow-md",children:[r.jsx("h4",{className:"text-lg font-semibold text-secondary mb-3",children:"AI Recommendations"}),r.jsx("ul",{className:"space-y-4",children:l.recommendations.map((h,f)=>r.jsxs("li",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"flex-shrink-0 mt-1 w-5 h-5 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-3 h-3 text-green-600",fill:"none",viewBox:"0 0 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})}),r.jsx("p",{className:"text-gray-700",children:h})]},f))})]}),r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md space-y-4",children:[r.jsx("h4",{className:"text-lg font-semibold text-secondary",children:"Summary"}),r.jsx("p",{className:"text-gray-600",children:l.summary}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsxs("h5",{className:"font-semibold mb-2",children:["High-Risk Students (",d.length,")"]}),r.jsx("div",{className:"text-sm space-y-1 max-h-48 overflow-y-auto",children:d.map(h=>r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-800",children:h.name}),r.jsxs("span",{className:"font-mono text-red-600",children:["",h.outstandingFees.toLocaleString()]})]},h.id))})]})]})]})]}):r.jsx(tx,{currentPlanName:(t==null?void 0:t.name)||"Basic",onUpgrade:a})},nx=({school:e,platformConfig:t,onGuideRequest:a,activeView:n})=>{const[s,l]=T.useState(!1),[i,o]=T.useState([{id:"1",text:`Hello! I'm your AI assistant for ${(e==null?void 0:e.name)||"your school"}. I can help you with questions about fee management, payments, and school administration. How can I assist you today?`,sender:"bot",timestamp:new Date}]),[u,c]=T.useState(""),[d,h]=T.useState(!1),f=T.useRef(null),m=()=>{var x;(x=f.current)==null||x.scrollIntoView({behavior:"smooth"})};T.useEffect(()=>{m()},[i]);const b=async x=>{var g,p;if(x.preventDefault(),!u.trim()||d)return;const y={id:Date.now().toString(),text:u.trim(),sender:"user",timestamp:new Date};o(v=>[...v,y]),c(""),h(!0);try{const v={schoolName:e==null?void 0:e.name,activeView:n,studentCount:((g=e==null?void 0:e.students)==null?void 0:g.length)||0,totalOutstanding:((p=e==null?void 0:e.students)==null?void 0:p.reduce((w,A)=>w+(A.outstandingFees||0),0))||0},j=await ex(y.text,v),N={id:(Date.now()+1).toString(),text:j,sender:"bot",timestamp:new Date};o(w=>[...w,N])}catch{const j={id:(Date.now()+1).toString(),text:"I'm sorry, I encountered an error processing your request. Please try again or contact support if the issue persists.",sender:"bot",timestamp:new Date};o(N=>[...N,j])}finally{h(!1)}},_=[{label:"Outstanding Fees",action:()=>a==null?void 0:a("Reports")},{label:"Payment Collection",action:()=>a==null?void 0:a("Bursary")},{label:"Student Management",action:()=>a==null?void 0:a("Students")},{label:"Communication",action:()=>a==null?void 0:a("Communication")}];return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:r.jsx("button",{onClick:()=>l(!s),className:"btn btn-circle btn-lg bg-primary hover:bg-primary-focus text-white shadow-lg","aria-label":"Open AI Assistant",children:s?r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})})}),s&&r.jsxs("div",{className:"fixed bottom-24 right-6 w-96 max-w-[calc(100vw-3rem)] h-[32rem] bg-base-100 rounded-lg shadow-2xl border border-base-300 flex flex-col z-40",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-base-300",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-sm",children:"AI Assistant"}),r.jsx("p",{className:"text-xs text-base-content/60",children:"Here to help"})]})]}),r.jsx("button",{onClick:()=>l(!1),className:"btn btn-ghost btn-sm btn-circle",children:r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[i.map(x=>r.jsx("div",{className:`flex ${x.sender==="user"?"justify-end":"justify-start"}`,children:r.jsx("div",{className:`max-w-[80%] p-3 rounded-lg text-sm ${x.sender==="user"?"bg-primary text-primary-content":"bg-base-200 text-base-content"}`,children:x.text})},x.id)),d&&r.jsx("div",{className:"flex justify-start",children:r.jsx("div",{className:"bg-base-200 p-3 rounded-lg",children:r.jsxs("div",{className:"flex space-x-1",children:[r.jsx("div",{className:"w-2 h-2 bg-base-content/40 rounded-full animate-bounce"}),r.jsx("div",{className:"w-2 h-2 bg-base-content/40 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),r.jsx("div",{className:"w-2 h-2 bg-base-content/40 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})}),r.jsx("div",{ref:f})]}),i.length===1&&r.jsxs("div",{className:"px-4 pb-2",children:[r.jsx("p",{className:"text-xs text-base-content/60 mb-2",children:"Quick actions:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:_.map((x,y)=>r.jsx("button",{onClick:x.action,className:"btn btn-sm btn-outline",children:x.label},y))})]}),r.jsx("form",{onSubmit:b,className:"p-4 border-t border-base-300",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("input",{type:"text",value:u,onChange:x=>c(x.target.value),placeholder:"Ask me anything about school fee management...",className:"input input-bordered input-sm flex-1 text-sm",disabled:d}),r.jsx("button",{type:"submit",disabled:!u.trim()||d,className:"btn btn-primary btn-sm",children:r.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})})]})]})},sx=async e=>(console.log("Adding applicant:",e),{id:`app_${Date.now()}`,...e}),lx=async(e,t)=>(console.log("Updating applicant:",e,t),{id:e,...t}),Qd=async(e,t)=>(console.log("Updating applicant status:",e,t),{id:e,status:t}),ix=async e=>(console.log("Adding student:",e),{id:`std_${Date.now()}`,...e}),rx=({title:e,subtitle:t,onClose:a})=>r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-lg",children:e}),t&&r.jsx("p",{className:"text-sm text-gray-600",children:t})]}),r.jsx("button",{className:"btn btn-sm btn-circle btn-ghost",onClick:a,children:""})]}),ox=({isOpen:e,onClose:t,onSubmit:a,applicant:n})=>{const[s,l]=T.useState({name:(n==null?void 0:n.name)||"",email:(n==null?void 0:n.email)||"",phone:(n==null?void 0:n.phone)||"",address:(n==null?void 0:n.address)||"",dateOfBirth:(n==null?void 0:n.dateOfBirth)||"",applyingForClass:(n==null?void 0:n.applyingForClass)||"",parentName:(n==null?void 0:n.parentName)||"",parentPhone:(n==null?void 0:n.parentPhone)||"",parentEmail:(n==null?void 0:n.parentEmail)||""}),i=u=>{u.preventDefault(),a(s),t()},o=u=>{const{name:c,value:d}=u.target;l(h=>({...h,[c]:d}))};return e?r.jsx("div",{className:"modal modal-open",children:r.jsxs("div",{className:"modal-box w-11/12 max-w-2xl",children:[r.jsx(rx,{title:n?"Edit Applicant":"New Applicant",onClose:t}),r.jsxs("form",{onSubmit:i,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"form-control",children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:"Full Name"})}),r.jsx("input",{type:"text",name:"name",value:s.name,onChange:o,className:"input input-bordered",required:!0})]}),r.jsxs("div",{className:"form-control",children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:"Email"})}),r.jsx("input",{type:"email",name:"email",value:s.email,onChange:o,className:"input input-bordered"})]}),r.jsxs("div",{className:"form-control",children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:"Phone"})}),r.jsx("input",{type:"tel",name:"phone",value:s.phone,onChange:o,className:"input input-bordered"})]}),r.jsxs("div",{className:"form-control",children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:"Date of Birth"})}),r.jsx("input",{type:"date",name:"dateOfBirth",value:s.dateOfBirth,onChange:o,className:"input input-bordered",required:!0})]}),r.jsxs("div",{className:"form-control",children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:"Applying for Class"})}),r.jsxs("select",{name:"applyingForClass",value:s.applyingForClass,onChange:o,className:"select select-bordered",required:!0,children:[r.jsx("option",{value:"",children:"Select Class"}),r.jsx("option",{value:"Nursery 1",children:"Nursery 1"}),r.jsx("option",{value:"Nursery 2",children:"Nursery 2"}),r.jsx("option",{value:"Primary 1",children:"Primary 1"}),r.jsx("option",{value:"Primary 2",children:"Primary 2"}),r.jsx("option",{value:"Primary 3",children:"Primary 3"}),r.jsx("option",{value:"Primary 4",children:"Primary 4"}),r.jsx("option",{value:"Primary 5",children:"Primary 5"}),r.jsx("option",{value:"Primary 6",children:"Primary 6"}),r.jsx("option",{value:"JSS 1",children:"JSS 1"}),r.jsx("option",{value:"JSS 2",children:"JSS 2"}),r.jsx("option",{value:"JSS 3",children:"JSS 3"}),r.jsx("option",{value:"SS 1",children:"SS 1"}),r.jsx("option",{value:"SS 2",children:"SS 2"}),r.jsx("option",{value:"SS 3",children:"SS 3"})]})]}),r.jsxs("div",{className:"form-control",children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:"Parent Name"})}),r.jsx("input",{type:"text",name:"parentName",value:s.parentName,onChange:o,className:"input input-bordered",required:!0})]}),r.jsxs("div",{className:"form-control",children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:"Parent Phone"})}),r.jsx("input",{type:"tel",name:"parentPhone",value:s.parentPhone,onChange:o,className:"input input-bordered",required:!0})]}),r.jsxs("div",{className:"form-control",children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:"Parent Email"})}),r.jsx("input",{type:"email",name:"parentEmail",value:s.parentEmail,onChange:o,className:"input input-bordered"})]})]}),r.jsxs("div",{className:"form-control col-span-2",children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:"Address"})}),r.jsx("input",{type:"text",name:"address",value:s.address,onChange:o,className:"input input-bordered",required:!0})]}),r.jsxs("div",{className:"modal-action",children:[r.jsx("button",{type:"button",className:"btn btn-ghost",onClick:t,children:"Cancel"}),r.jsxs("button",{type:"submit",className:"btn btn-primary",children:[n?"Update":"Submit"," Application"]})]})]})]})}):null},ux=({applicant:e,onDragStart:t,onClick:a})=>r.jsxs("div",{draggable:!0,onDragStart:n=>t(n,e.id),onClick:a,className:"bg-white p-3 rounded-lg shadow-sm border border-gray-200 cursor-grab hover:shadow-md hover:border-primary/50 transition-all active:cursor-grabbing",children:[r.jsx("p",{className:"font-semibold text-sm text-secondary",children:e.name}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Applying for: ",e.applyingForClass]}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Parent: ",e.parentName]})]}),cx=[{status:je.Applied,title:"New Applicants",color:"bg-blue-500"},{status:je.AwaitingTest,title:"Awaiting Test",color:"bg-yellow-500"},{status:je.OfferedAdmission,title:"Admission Offered",color:"bg-green-500"},{status:je.AdmissionDeclined,title:"Declined",color:"bg-red-500"}],dx=({title:e,color:t,applicants:a,status:n,onDragOver:s,onDrop:l,children:i})=>r.jsxs("div",{className:"flex-1 flex flex-col bg-gray-100 rounded-lg",onDragOver:s,onDrop:o=>l(o,n),children:[r.jsxs("div",{className:`p-3 rounded-t-lg text-white font-semibold flex justify-between items-center ${t}`,children:[r.jsx("span",{children:e}),r.jsx("span",{className:"bg-white/30 text-xs font-bold rounded-full h-6 w-6 flex items-center justify-center",children:a.length})]}),r.jsx("div",{className:"p-2 space-y-2 overflow-y-auto flex-grow",children:i})]}),fx=({school:e,onOpenModal:t,onEnroll:a,onUpdateStatus:n})=>{const s=(o,u)=>{o.dataTransfer.setData("applicantId",u)},l=o=>{o.preventDefault()},i=async(o,u)=>{o.preventDefault();const c=o.dataTransfer.getData("applicantId"),d=e.applicants.find(h=>h.id===c);d&&d.status!==u&&(u===je.OfferedAdmission?a(d):await n(c,u))};return r.jsx("div",{className:"flex h-full space-x-4",children:cx.map(o=>{const u=e.applicants.filter(c=>c.status===o.status);return r.jsx(dx,{title:o.title,color:o.color,applicants:u,status:o.status,onDragOver:l,onDrop:i,children:u.map(c=>r.jsx(ux,{applicant:c,onDragStart:s,onClick:()=>t(c)},c.id))},o.status)})})},hx=(e,t)=>{const a=t.feeDefinitions.flatMap(s=>{const l=s.amounts.find(i=>i.class===e.applyingForClass&&(i.type==="mandatory"||!i.type));return l?[{feeDef:s,classFee:l}]:[]}).map(({feeDef:s,classFee:l},i)=>({id:`newfee_${Date.now()}_${i}`,type:s.name,amount:l.amount,paidAmount:0,dueDate:new Date(new Date().setMonth(new Date().getMonth()+1)).toISOString(),session:t.currentSession,term:t.currentTerm,status:"pending"})),n=a.reduce((s,l)=>s+l.amount,0);return{name:e.name,admissionNumber:`ADM${Date.now().toString().slice(-5)}`,class:e.applyingForClass,dateOfBirth:e.dateOfBirth,parentName:e.parentName,parentEmail:e.parentEmail,parentPhone:e.parentPhone,address:e.address,outstandingFees:n,debtRisk:n>0?Oa.Medium:Oa.Low,fees:a,status:"active",payments:[],amountPaid:0}},mx=({school:e,refreshData:t,onEnrollStudent:a})=>{const[n,s]=T.useState(!1),[l,i]=T.useState(null),o=(f=null)=>{i(f),s(!0)},u=async f=>{try{if(l)await lx(l.id,f);else{const m={...f,applicationDate:new Date().toISOString(),status:je.Applied};await sx(m)}await t()}catch(m){console.error("Failed to save applicant:",m),alert("Could not save applicant details. Please try again.")}finally{s(!1),i(null)}},c=async f=>{if(confirm(`This will enroll ${f.name} as a student and generate their initial fees. Are you sure?`))try{const m=hx(f,e),b=await ix(m);await Qd(f.id,je.Enrolled),await t(),a(b)}catch(m){console.error("Failed to enroll student:",m),alert("Enrollment failed. Please try again.")}},d=async(f,m)=>{try{await Qd(f,m),await t()}catch(b){console.error("Failed to update applicant status:",b),alert("Could not update status. Please try again.")}},h=T.useMemo(()=>{const f={[je.Applied]:0,[je.AwaitingTest]:0,[je.OfferedAdmission]:0,[je.AdmissionDeclined]:0};return e.applicants.forEach(m=>{m.status in f&&f[m.status]++}),f},[e.applicants]);return r.jsxs("div",{className:"space-y-6 h-full flex flex-col",children:[r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md flex-shrink-0",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("h3",{className:"text-xl font-semibold text-secondary",children:["Admissions Pipeline (",e.applicants.filter(f=>f.status!==je.Enrolled).length,")"]}),r.jsxs("button",{onClick:()=>o(),className:"btn btn-primary btn-sm",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:r.jsx("path",{d:"M19 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zM4 19.235v-.11a6.375 6.375 0 0112.75 0v.109A12.318 12.318 0 0110.374 21c-2.331 0-4.512-.645-6.374-1.766z"})}),r.jsx("span",{children:"Add Applicant"})]})]}),r.jsx("div",{className:"flex items-center space-x-4 text-sm",children:Object.entries(h).map(([f,m])=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("span",{className:"font-semibold text-gray-700",children:[f,":"]}),r.jsx("span",{className:"font-bold text-primary",children:m})]},f))})]}),r.jsx("div",{className:"flex-grow min-h-0",children:r.jsx(fx,{school:e,onOpenModal:o,onEnroll:c,onUpdateStatus:d})}),n&&r.jsx(ox,{isOpen:n,applicant:l,onClose:()=>s(!1),onSubmit:u})]})},gx=[{id:"sch_sunnydale_123",slug:"sunnydale",name:"Sunnydale High School",address:"123, Education Avenue, Lagos",email:"admin@sunnydale.com",phone:"08012345678",logo:"https://placehold.co/100x100/2563EB/FFFFFF/png?text=SHS",students:[{id:"stu_sunnydale_123_1",name:"Tunde Okoro",admissionNumber:"SHS001",class:"JSS1",dateOfBirth:"2012-05-15",parentName:"Mr. Okoro",parentEmail:"parent@sunnydale.com",parentPhone:"08098765432",address:"Lagos, Nigeria",outstandingFees:0,debtRisk:Oa.Low,status:"active",fees:[{id:"fee1_1",type:"Tuition",amount:12e4,paidAmount:12e4,dueDate:"2024-05-01",session:"2023/2024",term:ba.Third,status:"paid"},{id:"fee1_2",type:"Books",amount:3e4,paidAmount:3e4,dueDate:"2024-05-01",session:"2023/2024",term:ba.Third,status:"paid"}],payments:[],amountPaid:15e4},{id:"stu_sunnydale_123_2",name:"Aisha Bello",admissionNumber:"SHS002",class:"JSS1",dateOfBirth:"2012-07-22",parentName:"Mrs. Bello",parentEmail:"bello.a@example.com",parentPhone:"08011223344",address:"Lagos, Nigeria",outstandingFees:85e3,debtRisk:Oa.High,status:"active",fees:[{id:"fee2_1",type:"Tuition",amount:12e4,paidAmount:8e4,dueDate:"2024-05-01",session:"2023/2024",term:ba.Third,status:"overdue"},{id:"fee2_2",type:"Uniform",amount:45e3,paidAmount:0,dueDate:"2024-05-01",session:"2023/2024",term:ba.Third,status:"overdue"}],payments:[],amountPaid:8e4},{id:"stu_sunnydale_123_3",name:"David Adeboye",admissionNumber:"SHS003",class:"SSS2",dateOfBirth:"2009-01-10",parentName:"Mr. Adeboye",parentEmail:"adeboye.d@example.com",parentPhone:"08055667788",address:"Lagos, Nigeria",outstandingFees:2e4,debtRisk:Oa.Medium,status:"active",fees:[{id:"fee3_1",type:"Tuition",amount:15e4,paidAmount:15e4,dueDate:"2024-05-01",session:"2023/2024",term:ba.Third,status:"paid"},{id:"fee3_2",type:"Lab Fees",amount:5e4,paidAmount:3e4,dueDate:"2024-05-01",session:"2023/2024",term:ba.Third,status:"overdue"}],payments:[],amountPaid:18e4}],staff:[{id:"tm_sunnydale_a1",name:"Mrs. Adebayo",email:"admin@sunnydale.com",phone:"08012345678",role:"admin",salary:2e5,dateHired:"2023-01-15",status:"active"},{id:"tm_sunnydale_t1",name:"Mr. James",email:"teacher@sunnydale.com",phone:"08012345679",role:"teacher",salary:12e4,dateHired:"2023-02-01",status:"active"},{id:"tm_sunnydale_s1",name:"Funke Akindele",email:"staff@sunnydale.com",phone:"08012345680",role:"bursar",salary:15e4,dateHired:"2023-01-20",status:"active"}],teamMembers:[{id:"tm_sunnydale_a1",name:"Mrs. Adebayo",email:"admin@sunnydale.com",phone:"08012345678",role:"admin",salary:2e5,dateHired:"2023-01-15",status:"active",assignedClasses:[]},{id:"tm_sunnydale_t1",name:"Mr. James",email:"teacher@sunnydale.com",phone:"08012345679",role:"teacher",salary:12e4,dateHired:"2023-02-01",status:"active",assignedClasses:["JSS1"]},{id:"tm_sunnydale_s1",name:"Funke Akindele",email:"staff@sunnydale.com",phone:"08012345680",role:"bursar",salary:15e4,dateHired:"2023-01-20",status:"active",assignedClasses:[]}],applicants:[{id:"app1",name:"New Applicant 1",applyingForClass:"JSS1",dateOfBirth:"2013-02-11",parentName:"Mr. New",parentEmail:"new@example.com",parentPhone:"08012341234",applicationDate:new Date().toISOString(),status:je.Applied,address:"Lagos, Nigeria",email:"new@example.com",phone:"08012341234"},{id:"app2",name:"New Applicant 2",applyingForClass:"JSS1",dateOfBirth:"2013-03-12",parentName:"Mrs. Test",parentEmail:"test@example.com",parentPhone:"08043214321",applicationDate:new Date().toISOString(),status:je.AwaitingTest,address:"Abuja, Nigeria",email:"test@example.com",phone:"08043214321"}],feeDefinitions:[{id:"fd1",name:"Tuition",category:"Academic",isRecurring:!0,amounts:[{class:"JSS1",amount:12e4,type:"mandatory"},{class:"SSS2",amount:15e4,type:"mandatory"}]},{id:"fd2",name:"Books",category:"Academic",isRecurring:!1,amounts:[{class:"JSS1",amount:3e4,type:"mandatory"}]},{id:"fd3",name:"Uniform",category:"Supplies",isRecurring:!1,amounts:[{class:"JSS1",amount:45e3,type:"optional"}]},{id:"fd4",name:"Lab Fees",category:"Academic",isRecurring:!0,amounts:[{class:"SSS2",amount:5e4,type:"mandatory"}]}],planId:"plan_enterprise",settings:{currency:"NGN",academicYear:"2023/2024",terms:["first","second","third"],gradeSystem:"A-F",paymentMethods:["card","bank_transfer","cash"],notifications:{emailEnabled:!0,smsEnabled:!0,whatsappEnabled:!0,reminderDays:[3,7,14]}},smsSettings:{manualTemplates:[]},communicationSettings:{manualTemplates:[],transactionalNotifications:{paymentConfirmation:{emailSubject:"Payment Confirmation",emailTemplate:"Thank you for your payment of {amount} for {student}. Your receipt number is {reference}."}}},currentSession:"2023/2024",currentTerm:"third",otherIncome:[],expenditures:[]}],yx={id:"platform_config_1",websiteContent:{title:"SchoolFees.NG",description:"The Smart Way to Manage School Fees",tagline:"Join hundreds of Nigerian schools simplifying fee collection",features:[{id:"feat1",title:"Automated Reminders",description:"Never chase a payment again. Our system automatically sends polite SMS and email reminders to parents about outstanding fees.",icon:"Communication",imageUrl:"https://placehold.co/1200x800/E0E7FF/4F46E5/png?text=Automated+Reminders"},{id:"feat2",title:"Multiple Payment Options",description:"Accept payments from parents via card, bank transfer, USSD, Paystack, and Flutterwave, providing maximum convenience.",icon:"Payments",imageUrl:"https://placehold.co/1200x800/D1FAE5/059669/png?text=Online+Payments"},{id:"feat3",title:"AI-Powered Insights",description:"Get a clear view of your school's financial health. Our AI predicts debt risks and provides actionable recommendations to improve your revenue.",icon:"Analytics",imageUrl:"https://placehold.co/1200x800/FEF3C7/D97706/png?text=AI+Insights"}],testimonials:{title:"What School Administrators Are Saying",items:[{id:"test1",quote:"SchoolFees.NG has reduced our administrative workload by at least 50%. Reconciliation is now a breeze!",name:"Mrs. Chika Okonkwo",title:"Proprietress, Bright Stars Academy"},{id:"test2",quote:"The parent portal is fantastic. Our parents love the transparency and ease of payment.",name:"Mr. David Audu",title:"Bursar, Kings College Lagos"},{id:"test3",quote:"The AI insights feature is a game-changer. It helped us identify potential defaulters early and engage them proactively.",name:"Dr. Amina Yusuf",title:"Head of School, The Learning Tree"}]},theme:{primary:"#2563eb",secondary:"#64748b",accent:"#8b5cf6"},contactInfo:{email:"support@schoolfees.ng",phone:"+2348012345678",address:"Lagos, Nigeria"}},pricingPlans:[{id:"plan_starter",name:"Starter",prices:{monthly:15e3,yearly:1e5},limits:{students:100,staff:5,storage:"10GB"},features:["Up to 100 Students","Online Payment Collection","Automated Receipts","Basic Reporting"]},{id:"plan_advanced",name:"Advanced",prices:{monthly:35e3,yearly:25e4},limits:{students:500,staff:20,storage:"50GB"},features:["Up to 500 Students","All Starter Features","Automated Reminders","Communication Center"]},{id:"plan_enterprise",name:"Enterprise",prices:{monthly:75e3,yearly:55e4},limits:{students:2e3,staff:50,storage:"Unlimited"},features:["Unlimited Students","All Advanced Features","AI Debt Insights","Payroll Management","Dedicated Support"]}],knowledgeBaseArticles:[{id:"kb1",title:"How to Add a New Student",content:`## Adding Students
To add a new student, navigate to the **Students** page and click the "Add New Student" button.`,category:"Students",status:"published",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),tags:[]},{id:"kb2",title:"Setting Up Your Fee Structure",content:"This is an article about setting up fees.",category:"Settings",status:"published",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),tags:[]}],supportConfig:{email:"support@schoolfees.ng",phone:"+2348012345678",chatEnabled:!0,ticketingEnabled:!0,knowledgeBaseEnabled:!0}};JSON.parse(JSON.stringify(yx));let xt=JSON.parse(JSON.stringify(gx));bg.Administrator;const px=async()=>{const e=Gi();if(!e)return console.log("Running in offline mode. Returning mock schools."),Promise.resolve(JSON.parse(JSON.stringify(xt)));const{data:t,error:a}=await e.from("schools").select("*");if(a)throw new Error("Failed to load school data.");return t},ec=async(e,t)=>{const a=Gi();if(!a){console.log(`Offline mode: Updating school ${e}`);const u=xt.findIndex(d=>d.id===e);if(u===-1)throw new Error("School not found in mock data.");const c=t(xt[u]);return xt[u]={...xt[u],...c},xt[u]}const{data:n,error:s}=await a.from("schools").select("*").eq("id",e).single();if(s)throw s;const l=t(n),{data:i,error:o}=await a.from("schools").update(l).eq("id",e).select().single();if(o)throw o;return i},vx=async(e,t)=>{const a=xt.findIndex(i=>i.students.some(o=>o.id===e));if(a===-1&&Gi()){const o=(await px()).find(c=>c.students.some(d=>d.id===e));if(!o)throw new Error("School for the given student not found.");let u=null;if(await ec(o.id,c=>({students:c.students.map(d=>d.id===e?u={...d,...t}:d)})),!u)throw new Error("Student not found to update.");return u}let n=null;const s=xt[a],l=s.students.map(i=>i.id===e?(n={...i,...t},n):i);if(xt[a]={...s,students:l},!n)throw new Error("Student not found to update.");return n},bx=async(e,t)=>{const a={...t,id:`inc_${Date.now()}`};return await ec(e,n=>({otherIncome:[...n.otherIncome||[],a]})),a},xx=async(e,t)=>{const a={...t,id:`exp_${Date.now()}`};return await ec(e,n=>({expenditures:[...n.expenditures||[],a]})),a},Xd=({school:e,refreshData:t})=>r.jsxs("div",{className:"space-y-6",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Payment Collection"}),r.jsx("div",{className:"card bg-base-100 shadow-xl",children:r.jsxs("div",{className:"card-body",children:[r.jsx("h3",{className:"card-title",children:"Collect Payments"}),r.jsxs("p",{children:["Payment collection for ",e==null?void 0:e.name]})]})})]}),_x=({school:e})=>{const[t,a]=T.useState(""),[n,s]=T.useState("all"),[l,i]=T.useState("all"),o=T.useMemo(()=>["all",...Array.from(new Set(e.students.map(d=>d.class)))],[e.students]),u=T.useMemo(()=>e.students.filter(d=>{const h=t.toLowerCase(),f=n==="all"||d.class===n,m=!h||d.name.toLowerCase().includes(h);return f&&m&&(()=>{switch(l){case"paid":return d.outstandingFees===0;case"unpaid":return d.outstandingFees>0;case"overdue":return d.outstandingFees>0;case"all":default:return!0}})()}),[e.students,t,n,l]),c=d=>d.outstandingFees===0?r.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Paid"}):r.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"Overdue"});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[r.jsx("h3",{className:"text-xl font-semibold text-secondary",children:"Invoices"}),r.jsx("p",{className:"text-sm text-gray-500",children:"View and manage all student invoices for the current term."}),r.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx("input",{type:"text",placeholder:"Search by student name...",value:t,onChange:d=>a(d.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/50"}),r.jsx("select",{value:n,onChange:d=>s(d.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/50",children:o.map(d=>r.jsx("option",{value:d,children:d==="all"?"All Classes":d},d))}),r.jsxs("select",{value:l,onChange:d=>i(d.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/50",children:[r.jsx("option",{value:"all",children:"All Statuses"}),r.jsx("option",{value:"paid",children:"Paid"}),r.jsx("option",{value:"unpaid",children:"Unpaid"}),r.jsx("option",{value:"overdue",children:"Overdue"})]})]})]}),r.jsx("div",{className:"bg-white p-6 rounded-xl shadow-md",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm text-left text-gray-600",children:[r.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Student"}),r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Total Fees"}),r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Amount Paid"}),r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Outstanding"}),r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Due Date"}),r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Status"})]})}),r.jsxs("tbody",{children:[u.map(d=>r.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50",children:[r.jsxs("td",{className:"px-6 py-4 font-medium text-gray-900",children:[d.name,r.jsx("br",{}),r.jsx("span",{className:"text-xs text-gray-500",children:d.class})]}),r.jsxs("td",{className:"px-6 py-4 font-mono",children:["",((d.amountPaid||0)+d.outstandingFees).toLocaleString()]}),r.jsxs("td",{className:"px-6 py-4 font-mono",children:["",(d.amountPaid??0).toLocaleString()]}),r.jsxs("td",{className:"px-6 py-4 font-mono font-semibold text-red-600",children:["",d.outstandingFees.toLocaleString()]}),r.jsx("td",{className:"px-6 py-4",children:d.fees[0]?new Date(d.fees[0].dueDate).toLocaleDateString():"N/A"}),r.jsx("td",{className:"px-6 py-4",children:c(d)})]},d.id)),u.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"text-center py-8 text-gray-500",children:"No invoices match the current filters."})})]})]})})})]})},Sx=({school:e})=>r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[r.jsx("h3",{className:"text-xl font-semibold text-secondary mb-4",children:"Reconciliation"}),r.jsxs("p",{className:"text-sm text-gray-500 mb-6",children:["Account reconciliation for ",e.name]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsx("h4",{className:"font-semibold text-lg mb-2",children:"Bank Statement"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Upload your bank statement to reconcile transactions"}),r.jsx("button",{className:"mt-3 btn btn-outline btn-sm",children:"Upload Statement"})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsx("h4",{className:"font-semibold text-lg mb-2",children:"Outstanding Items"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Review unmatched transactions"}),r.jsx("div",{className:"mt-3 text-center text-gray-500",children:"No outstanding items found"})]})]}),r.jsx("div",{className:"mt-6",children:r.jsxs("div",{className:"alert alert-info",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"stroke-current shrink-0 w-6 h-6",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsx("span",{children:"Bank reconciliation helps ensure accuracy between your records and bank statements."})]})})]}),wx=({school:e,refreshData:t})=>{var b,_;const[a,n]=T.useState({isOpen:!1}),[s,l]=T.useState({name:"",category:"",amounts:[],isRecurring:!1,description:""}),i=Array.from(new Set(e.students.map(x=>x.class))).sort(),o=x=>{l(x||{name:"",category:"",amounts:[],isRecurring:!1,description:""}),n({isOpen:!0,editingFee:x})},u=()=>{n({isOpen:!1}),l({name:"",category:"",amounts:[],isRecurring:!1,description:""})},c=()=>{const x={class:i[0]||"",amount:0,type:"mandatory"};l(y=>({...y,amounts:[...y.amounts||[],x]}))},d=x=>{l(y=>{var g;return{...y,amounts:((g=y.amounts)==null?void 0:g.filter((p,v)=>v!==x))||[]}})},h=(x,y,g)=>{l(p=>{var v;return{...p,amounts:((v=p.amounts)==null?void 0:v.map((j,N)=>N===x?{...j,[y]:g}:j))||[]}})},f=async x=>{x.preventDefault(),console.log("Saving fee definition:",s),alert("Fee structure saved successfully!"),u(),await t()},m=async x=>{confirm("Are you sure you want to delete this fee definition?")&&(console.log("Deleting fee:",x),alert("Fee definition deleted successfully!"),await t())};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-secondary",children:"Fee Structure Settings"}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Manage fee definitions for ",e==null?void 0:e.name]})]}),r.jsx("button",{onClick:()=>o(),className:"btn btn-primary",children:"Add New Fee"})]}),r.jsxs("div",{className:"space-y-4",children:[(b=e.feeDefinitions)==null?void 0:b.map(x=>r.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("h4",{className:"font-semibold text-lg",children:x.name}),r.jsx("span",{className:"badge badge-outline",children:x.category}),x.isRecurring&&r.jsx("span",{className:"badge badge-success",children:"Recurring"})]}),x.description&&r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:x.description}),r.jsxs("div",{className:"mt-3",children:[r.jsx("h5",{className:"font-medium text-sm mb-2",children:"Fee Amounts by Class:"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:x.amounts.map((y,g)=>r.jsxs("div",{className:"flex justify-between items-center bg-gray-50 px-3 py-2 rounded text-sm",children:[r.jsx("span",{className:"font-medium",children:y.class}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"font-mono",children:["",y.amount.toLocaleString()]}),r.jsx("span",{className:`text-xs px-2 py-1 rounded ${y.type==="mandatory"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:y.type})]})]},g))})]})]}),r.jsxs("div",{className:"flex gap-2 ml-4",children:[r.jsx("button",{onClick:()=>o(x),className:"btn btn-sm btn-outline",children:"Edit"}),r.jsx("button",{onClick:()=>m(x.id),className:"btn btn-sm btn-error btn-outline",children:"Delete"})]})]})},x.id)),(!e.feeDefinitions||e.feeDefinitions.length===0)&&r.jsx("div",{className:"text-center py-8 text-gray-500",children:r.jsx("p",{children:'No fee definitions found. Click "Add New Fee" to create your first fee structure.'})})]})]}),a.isOpen&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:a.editingFee?"Edit Fee Definition":"Add New Fee Definition"}),r.jsxs("form",{onSubmit:f,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"form-control",children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:"Fee Name"})}),r.jsx("input",{type:"text",className:"input input-bordered",value:s.name||"",onChange:x=>l(y=>({...y,name:x.target.value})),required:!0})]}),r.jsxs("div",{className:"form-control",children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:"Category"})}),r.jsxs("select",{className:"select select-bordered",value:s.category||"",onChange:x=>l(y=>({...y,category:x.target.value})),required:!0,children:[r.jsx("option",{value:"",children:"Select category"}),r.jsx("option",{value:"Tuition",children:"Tuition"}),r.jsx("option",{value:"Books",children:"Books"}),r.jsx("option",{value:"Uniform",children:"Uniform"}),r.jsx("option",{value:"Transport",children:"Transport"}),r.jsx("option",{value:"Boarding",children:"Boarding"}),r.jsx("option",{value:"Extra-curricular",children:"Extra-curricular"}),r.jsx("option",{value:"Other",children:"Other"})]})]})]}),r.jsxs("div",{className:"form-control",children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:"Description (Optional)"})}),r.jsx("textarea",{className:"textarea textarea-bordered",rows:2,value:s.description||"",onChange:x=>l(y=>({...y,description:x.target.value}))})]}),r.jsx("div",{className:"form-control",children:r.jsxs("label",{className:"cursor-pointer flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",className:"checkbox",checked:s.isRecurring||!1,onChange:x=>l(y=>({...y,isRecurring:x.target.checked}))}),r.jsx("span",{className:"label-text",children:"Recurring Fee (charges every term)"})]})}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("label",{className:"label-text font-medium",children:"Fee Amounts by Class"}),r.jsx("button",{type:"button",onClick:c,className:"btn btn-sm btn-outline",children:"Add Class"})]}),r.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:(_=s.amounts)==null?void 0:_.map((x,y)=>r.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center",children:[r.jsx("div",{className:"col-span-4",children:r.jsxs("select",{className:"select select-bordered select-sm w-full",value:x.class,onChange:g=>h(y,"class",g.target.value),required:!0,children:[r.jsx("option",{value:"",children:"Select class"}),i.map(g=>r.jsx("option",{value:g,children:g},g))]})}),r.jsx("div",{className:"col-span-4",children:r.jsx("input",{type:"number",className:"input input-bordered input-sm w-full",placeholder:"Amount",value:x.amount,onChange:g=>h(y,"amount",Number(g.target.value)),required:!0,min:"0"})}),r.jsx("div",{className:"col-span-3",children:r.jsxs("select",{className:"select select-bordered select-sm w-full",value:x.type,onChange:g=>h(y,"type",g.target.value),children:[r.jsx("option",{value:"mandatory",children:"Mandatory"}),r.jsx("option",{value:"optional",children:"Optional"})]})}),r.jsx("div",{className:"col-span-1",children:r.jsx("button",{type:"button",onClick:()=>d(y),className:"btn btn-sm btn-error btn-outline",children:""})})]},y))})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx("button",{type:"button",onClick:u,className:"btn btn-outline",children:"Cancel"}),r.jsx("button",{type:"submit",className:"btn btn-primary",children:a.editingFee?"Update Fee":"Create Fee"})]})]})]})})]})},jx=({school:e,refreshData:t})=>r.jsxs("div",{className:"space-y-6",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Payroll Management"}),r.jsx("div",{className:"card bg-base-100 shadow-xl",children:r.jsxs("div",{className:"card-body",children:[r.jsx("h3",{className:"card-title",children:"Staff Payroll"}),r.jsxs("p",{children:["Manage payroll for ",e==null?void 0:e.name]})]})})]}),Nx=({transactions:e,type:t,onEdit:a,onDelete:n})=>{const s=l=>`badge ${{completed:"badge-success",pending:"badge-warning",failed:"badge-error"}[l]} badge-sm`;return!e||e.length===0?r.jsx("div",{className:"text-center py-8 text-gray-500",children:r.jsxs("p",{children:["No ",t," records found."]})}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"table table-zebra w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Date"}),r.jsx("th",{children:"Description"}),r.jsx("th",{children:"Category"}),r.jsx("th",{children:"Amount"}),r.jsx("th",{children:"Status"}),r.jsx("th",{children:"Actions"})]})}),r.jsx("tbody",{children:e.map(l=>r.jsxs("tr",{children:[r.jsx("td",{children:new Date(l.date).toLocaleDateString()}),r.jsxs("td",{children:[r.jsx("div",{className:"font-medium",children:l.description}),l.reference&&r.jsxs("div",{className:"text-sm text-gray-500",children:["Ref: ",l.reference]})]}),r.jsx("td",{children:r.jsx("span",{className:"badge badge-outline",children:l.category})}),r.jsx("td",{children:r.jsxs("span",{className:"font-mono font-semibold",children:["",l.amount.toLocaleString()]})}),r.jsx("td",{children:r.jsx("span",{className:s(l.status),children:l.status})}),r.jsx("td",{children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>a(l),className:"btn btn-xs btn-outline",children:"Edit"}),r.jsx("button",{onClick:()=>n(l.id),className:"btn btn-xs btn-error btn-outline",children:"Delete"})]})})]},l.id))})]})})},Ax=({schoolId:e,config:t,onClose:a,onSave:n})=>{const[s,l]=T.useState({amount:0,description:"",category:"",date:new Date().toISOString().split("T")[0],reference:"",status:"completed",type:t.type==="income"?"income":"expense"});T.useEffect(()=>{t.data&&l(t.data)},[t.data]);const i={income:["Tuition Fees","Registration Fees","Donations","Grants","Other Income"],expenditure:["Salaries","Utilities","Supplies","Maintenance","Equipment","Other Expenses"]},o=u=>{var d;u.preventDefault();const c={id:((d=t.data)==null?void 0:d.id)||`txn_${Date.now()}`,amount:Number(s.amount)||0,description:s.description||"",category:s.category||"",date:s.date||new Date().toISOString().split("T")[0],reference:s.reference,status:s.status||"completed",type:t.type==="income"?"income":"expense"};n(c)};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[r.jsxs("h3",{className:"text-lg font-semibold mb-4",children:[t.data?"Edit":"Add"," ",t.type==="income"?"Income":"Expenditure"]}),r.jsxs("form",{onSubmit:o,className:"space-y-4",children:[r.jsxs("div",{className:"form-control",children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:"Description"})}),r.jsx("input",{type:"text",className:"input input-bordered",value:s.description||"",onChange:u=>l(c=>({...c,description:u.target.value})),required:!0})]}),r.jsxs("div",{className:"form-control",children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:"Amount ()"})}),r.jsx("input",{type:"number",className:"input input-bordered",value:s.amount||"",onChange:u=>l(c=>({...c,amount:Number(u.target.value)})),min:"0",step:"0.01",required:!0})]}),r.jsxs("div",{className:"form-control",children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:"Category"})}),r.jsxs("select",{className:"select select-bordered",value:s.category||"",onChange:u=>l(c=>({...c,category:u.target.value})),required:!0,children:[r.jsx("option",{value:"",children:"Select category"}),i[t.type].map(u=>r.jsx("option",{value:u,children:u},u))]})]}),r.jsxs("div",{className:"form-control",children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:"Date"})}),r.jsx("input",{type:"date",className:"input input-bordered",value:s.date||"",onChange:u=>l(c=>({...c,date:u.target.value})),required:!0})]}),r.jsxs("div",{className:"form-control",children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:"Reference (Optional)"})}),r.jsx("input",{type:"text",className:"input input-bordered",value:s.reference||"",onChange:u=>l(c=>({...c,reference:u.target.value}))})]}),r.jsxs("div",{className:"form-control",children:[r.jsx("label",{className:"label",children:r.jsx("span",{className:"label-text",children:"Status"})}),r.jsxs("select",{className:"select select-bordered",value:s.status||"completed",onChange:u=>l(c=>({...c,status:u.target.value})),children:[r.jsx("option",{value:"completed",children:"Completed"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"failed",children:"Failed"})]})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx("button",{type:"button",onClick:a,className:"btn btn-outline",children:"Cancel"}),r.jsxs("button",{type:"submit",className:"btn btn-primary",children:[t.data?"Update":"Add"," ",t.type==="income"?"Income":"Expenditure"]})]})]})]})})},Ex=({label:e,active:t,onClick:a})=>r.jsx("button",{onClick:a,className:`flex-shrink-0 px-3 py-2 text-sm font-medium rounded-md whitespace-nowrap ${t?"bg-primary text-white":"text-gray-500 hover:bg-gray-100"}`,children:e}),Tx=({school:e,refreshData:t})=>{const a=e.students.flatMap(s=>s.payments.filter(l=>l.status==="Pending Verification").map(l=>({...l,studentName:s.name,studentOutstanding:s.outstandingFees}))),n=async s=>{var l;try{await vx(s.studentId,{outstandingFees:s.studentOutstanding-s.amount,amountPaid:(((l=e.students.find(i=>i.id===s.studentId))==null?void 0:l.amountPaid)||0)+s.amount}),await t(),alert(`Payment of ${s.amount.toLocaleString()} for ${s.studentName} has been approved.`)}catch(i){console.error("Failed to approve payment:",i),alert("Approval failed. Please try again.")}};return r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[r.jsx("h3",{className:"text-xl font-semibold text-secondary",children:"Pending Verifications"}),r.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Review and approve manual bank transfer payments."}),a.length>0?r.jsx("div",{className:"space-y-4",children:a.map(s=>r.jsxs("div",{className:"border p-4 rounded-lg flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold",children:s.studentName}),r.jsxs("p",{className:"text-sm",children:["Amount: ",r.jsxs("span",{className:"font-mono",children:["",s.amount.toLocaleString()]})]}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Date: ",new Date(s.date).toLocaleDateString()]})]}),r.jsxs("div",{className:"space-x-2",children:[s.proofOfPaymentUrl&&r.jsx("a",{href:s.proofOfPaymentUrl,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-medium text-blue-600 hover:underline",children:"View Proof"}),r.jsx("button",{onClick:()=>n(s),className:"bg-green-100 text-green-800 px-3 py-1 rounded-md text-sm font-semibold hover:bg-green-200",children:"Approve"}),r.jsx("button",{className:"bg-red-100 text-red-800 px-3 py-1 rounded-md text-sm font-semibold hover:bg-red-200",children:"Reject"})]})]},s.id))}):r.jsx("p",{className:"text-center text-gray-500 py-8",children:"No pending payments to verify."})]})},Zd=({school:e,refreshData:t,type:a})=>{const[n,s]=T.useState(null),l=a==="income"?e.otherIncome:e.expenditures,i=async c=>{try{a==="income"?await bx(e.id,c):await xx(e.id,c),await t(),s(null)}catch(d){console.error(`Failed to save ${a}:`,d),alert(`Could not save ${a}. Please try again.`)}},o=async c=>{confirm(`Are you sure you want to delete this ${a} record?`)&&(console.log(`SIMULATING: Deleting ${a} with id ${c}`),alert("Delete functionality is not implemented in this demo."))},u=l.reduce((c,d)=>c+d.amount,0);return r.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold text-secondary capitalize",children:a}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Total Recorded: ",r.jsxs("span",{className:"font-mono font-semibold",children:["",u.toLocaleString()]})]})]}),r.jsxs("button",{onClick:()=>s({type:a}),className:"bg-primary text-white px-4 py-2 rounded-lg hover:bg-green-700 text-sm font-semibold",children:["Add New ",a]})]}),r.jsx(Nx,{transactions:l,type:a,onEdit:c=>s({type:a,data:c}),onDelete:o}),n&&r.jsx(Ax,{schoolId:e.id,config:n,onClose:()=>s(null),onSave:i})]})},Ox=({school:e,refreshData:t,activeSubView:a,setActiveSubView:n})=>{const s=["Student Payments","Invoices & Receipts","Other Income","Expenditures","Payroll","Reconciliation","Fee Structure"],l=()=>{switch(a){case"Student Payments":return r.jsx(Xd,{school:e,refreshData:t});case"Invoices & Receipts":return r.jsx(_x,{school:e});case"Other Income":return r.jsx(Zd,{school:e,refreshData:t,type:"income"});case"Expenditures":return r.jsx(Zd,{school:e,refreshData:t,type:"expenditure"});case"Payroll":return r.jsx(jx,{school:e,refreshData:t});case"Reconciliation":return r.jsx(Sx,{school:e});case"Fee Structure":return r.jsx(wx,{school:e,refreshData:t});default:return s.includes(a)?r.jsx(Xd,{school:e,refreshData:t}):r.jsx("div",{children:"Select a bursary function."})}},i=s.includes(a)?a:"Student Payments";return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-white p-2 rounded-xl shadow-md",children:r.jsx("nav",{className:"flex space-x-1 overflow-x-auto","aria-label":"Bursary Navigation",children:s.map(o=>r.jsx(Ex,{label:o,active:i===o,onClick:()=>n(o)},o))})}),r.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded-r-lg",children:[r.jsx("h4",{className:"font-bold text-yellow-800",children:"Payment Verifications"}),r.jsx("p",{className:"text-sm text-yellow-700",children:"You have payments pending your approval."})]}),r.jsx(Tx,{school:e,refreshData:t}),l()]})},Cx=({articles:e})=>r.jsxs("div",{className:"space-y-6",children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Knowledge Base"}),r.jsx("div",{className:"card bg-base-100 shadow-xl",children:r.jsxs("div",{className:"card-body",children:[r.jsx("h2",{className:"card-title",children:"Help Articles"}),r.jsx("p",{children:"Browse help articles and documentation"}),e&&e.length>0?r.jsx("div",{className:"space-y-2",children:e.slice(0,5).map((t,a)=>r.jsx("div",{className:"alert",children:r.jsx("span",{children:t.title||`Article ${a+1}`})},a))}):r.jsx("p",{className:"text-sm text-gray-500",children:"No articles available"})]})})]}),Dx=({school:e,currentUser:t,onLogout:a,refreshData:n})=>r.jsxs("div",{className:"min-h-screen bg-base-200",children:[r.jsxs("div",{className:"navbar bg-base-100",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("span",{className:"btn btn-ghost normal-case text-xl",children:[e==null?void 0:e.name," - Parent Portal"]})}),r.jsx("div",{className:"flex-none",children:r.jsx("button",{className:"btn btn-outline",onClick:a,children:"Logout"})})]}),r.jsx("div",{className:"container mx-auto p-6",children:r.jsx("div",{className:"card bg-base-100 shadow-xl",children:r.jsxs("div",{className:"card-body",children:[r.jsxs("h2",{className:"card-title",children:["Welcome, ",t==null?void 0:t.name,"!"]}),r.jsxs("p",{children:["This is the parent dashboard for ",e==null?void 0:e.name,"."]}),r.jsx("div",{className:"card-actions justify-end",children:r.jsx("button",{className:"btn btn-primary",onClick:n,children:"Refresh Data"})})]})})})]}),kx=({school:e,currentUser:t,onLogout:a})=>r.jsxs("div",{className:"min-h-screen bg-base-200",children:[r.jsxs("div",{className:"navbar bg-base-100",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("span",{className:"btn btn-ghost normal-case text-xl",children:[e==null?void 0:e.name," - Teacher Portal"]})}),r.jsx("div",{className:"flex-none",children:r.jsx("button",{className:"btn btn-outline",onClick:a,children:"Logout"})})]}),r.jsx("div",{className:"container mx-auto p-6",children:r.jsx("div",{className:"card bg-base-100 shadow-xl",children:r.jsxs("div",{className:"card-body",children:[r.jsxs("h2",{className:"card-title",children:["Welcome, ",t==null?void 0:t.name,"!"]}),r.jsxs("p",{children:["This is the teacher dashboard for ",e==null?void 0:e.name,"."]})]})})})]}),Rx=({school:e,currentUser:t,onLogout:a})=>r.jsxs("div",{className:"min-h-screen bg-base-200",children:[r.jsxs("div",{className:"navbar bg-base-100",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("span",{className:"btn btn-ghost normal-case text-xl",children:[e==null?void 0:e.name," - Staff Portal"]})}),r.jsx("div",{className:"flex-none",children:r.jsx("button",{className:"btn btn-outline",onClick:a,children:"Logout"})})]}),r.jsx("div",{className:"container mx-auto p-6",children:r.jsx("div",{className:"card bg-base-100 shadow-xl",children:r.jsxs("div",{className:"card-body",children:[r.jsxs("h2",{className:"card-title",children:["Welcome, ",t==null?void 0:t.name,"!"]}),r.jsxs("p",{children:["This is the staff dashboard for ",e==null?void 0:e.name,"."]})]})})})]}),Mx=({schoolName:e,onStop:t})=>r.jsx("div",{className:"fixed top-0 right-0 bg-accent text-white h-10 text-center z-[100] flex items-center justify-center shadow-lg left-0 md:left-64",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"hidden md:block",children:r.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})}),r.jsxs("p",{className:"text-sm font-semibold",children:["You are currently impersonating: ",r.jsx("strong",{children:e})]}),r.jsx("button",{onClick:t,className:"bg-white text-accent font-bold py-1 px-3 rounded-md hover:bg-gray-200 transition-colors text-xs",children:"Return to Admin"})]})}),qr=()=>r.jsx("div",{className:"flex items-center justify-center h-screen bg-base-100",children:r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:"loading loading-spinner loading-lg text-primary"}),r.jsx("p",{className:"mt-4 text-secondary",children:"Loading Application..."})]})}),_g=()=>{var j;const{schools:e,platformConfig:t,isLoading:a,error:n,refreshData:s}=zb(),[l,i]=T.useState(null),[o,u]=T.useState(!0),[c,d]=T.useState("Dashboard"),[h,f]=T.useState(null),[m,b]=T.useState(null),_=t?ns(t):null,x=(j=_==null?void 0:_.websiteContent)==null?void 0:j.theme;Bb(x),T.useEffect(()=>{const A=window.location.hostname.split(".")[0];if(A&&A!=="localhost"&&A!=="www"&&e.length>0){const J=e.find(M=>M.slug===A);J&&f(J)}},[e]),T.useEffect(()=>{const N=Lb(w=>{i(w),u(!1),(w==null?void 0:w.role)==="schoolAdmin"&&d("Dashboard")});return()=>N.unsubscribe()},[]);const y=async()=>{await Hb(),i(null),d("Dashboard")},g=async(N,w)=>{await vg(N,w)},p=N=>{d("Students")},v=T.useMemo(()=>m||(l&&"schoolId"in l?e.find(N=>N.id===l.schoolId):null),[l,e,m]);if(a||o)return r.jsx(qr,{});if(n)return r.jsx("div",{className:"p-4 text-center text-red-600 bg-red-100",children:n});if(!l)return h?r.jsx(Gb,{school:h,onLogin:g}):_?r.jsx($b,{platformConfig:_}):r.jsx(qr,{});if(v){if(l.role==="parent")return r.jsx(Dx,{school:v,currentUser:l,onLogout:y,refreshData:s});if(l.role==="teacher")return r.jsx(kx,{school:v,currentUser:l,onLogout:y});if(l.role==="staff")return r.jsx(Rx,{school:v,currentUser:l,onLogout:y})}if(l.role==="schoolAdmin"&&v&&_){const N=()=>{switch(c){case"Dashboard":return r.jsx(Vd,{school:v,platformConfig:_});case"Students":return r.jsx(Qb,{school:v,refreshData:s});case"Team":return r.jsx(Xb,{school:v,refreshData:s});case"Reports":return r.jsx(Zb,{school:v});case"Communication":return r.jsx(Pb,{school:v,platformConfig:_});case"Printing":return r.jsx(Jb,{school:v,platformConfig:_});case"Settings":return r.jsx(Ib,{school:v,refreshData:s});case"AI Insights":return r.jsx(ax,{school:v,plan:_.pricingPlans.find(w=>w.id===v.planId),onUpgrade:()=>alert("Upgrade flow not implemented.")});case"Admissions":return r.jsx(mx,{school:v,refreshData:s,onEnrollStudent:p});case"Knowledge Base":return r.jsx(Cx,{articles:_.knowledgeBaseArticles});case"Bursary":case"Student Payments":case"Invoices & Receipts":case"Other Income":case"Expenditures":case"Payroll":case"Reconciliation":case"Fee Structure":return r.jsx(Ox,{school:v,refreshData:s,activeSubView:c,setActiveSubView:w=>d(w)});default:return r.jsx(Vd,{school:v,platformConfig:_})}};return r.jsxs("div",{className:"drawer lg:drawer-open bg-base-200",children:[r.jsx("input",{id:"my-drawer-2",type:"checkbox",className:"drawer-toggle"}),r.jsxs("div",{className:"drawer-content flex flex-col",children:[m&&r.jsx(Mx,{schoolName:m.name,onStop:()=>b(null)}),r.jsx(Kb,{view:c,schoolName:v.name,adminName:l.name,isImpersonating:!!m}),r.jsx("main",{className:`flex-grow p-6 pt-24 ${m?"mt-10":""}`,children:N()})]}),r.jsxs("div",{className:"drawer-side",children:[r.jsx("label",{htmlFor:"my-drawer-2","aria-label":"close sidebar",className:"drawer-overlay"}),r.jsx(Vb,{activeView:c,setActiveView:d,onLogout:y})]}),r.jsx(nx,{school:v,platformConfig:_,onGuideRequest:w=>d(w),activeView:c})]})}return l.role==="superAdmin"&&_?r.jsx("div",{children:"Super Admin CMS Dashboard not yet implemented."}):r.jsx(qr,{})},Sg=document.getElementById("root");if(!Sg)throw new Error("Could not find root element to mount to");const Ux=Xm.createRoot(Sg);Ux.render(r.jsx(Ss.StrictMode,{children:r.jsx(_g,{})}));const wg=document.getElementById("root");if(!wg)throw new Error("Could not find root element to mount to");const zx=Xm.createRoot(wg);zx.render(r.jsx(Ss.StrictMode,{children:r.jsx(_g,{})}));
